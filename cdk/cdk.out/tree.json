{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.208.0"},"children":{"JournalismFaithfulStack":{"id":"JournalismFaithfulStack","path":"JournalismFaithfulStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"UserPool":{"id":"UserPool","path":"JournalismFaithfulStack/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"schema":[{"name":"email","mutable":true,"required":true}],"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"journalism-faithful-users-prod","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"WebClient":{"id":"WebClient","path":"JournalismFaithfulStack/UserPool/WebClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/UserPool/WebClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"journalism-faithful-web-client-prod","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"AdminGroup":{"id":"AdminGroup","path":"JournalismFaithfulStack/AdminGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"관리자 그룹","groupName":"admin","precedence":1,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"PromptBucket":{"id":"PromptBucket","path":"JournalismFaithfulStack/PromptBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/PromptBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"journalism-faithful-prompts-prod-887078546492-ap-northeast-2","corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST"],"allowedOrigins":["*"]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"JournalismFaithfulStack/PromptBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/PromptBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"PromptBucket1668FD1C"},"policyDocument":{"Statement":[{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"JournalismFaithfulStack/PromptBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"JournalismFaithfulStack/PromptBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"JournalismFaithfulStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.208.0"},"children":{"Staging":{"id":"Staging","path":"JournalismFaithfulStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"Role":{"id":"Role","path":"JournalismFaithfulStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}},"Handler":{"id":"Handler","path":"JournalismFaithfulStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"ArticleBucket":{"id":"ArticleBucket","path":"JournalismFaithfulStack/ArticleBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/ArticleBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"journalism-faithful-articles-prod-887078546492-ap-northeast-2","corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST"],"allowedOrigins":["*"]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"JournalismFaithfulStack/ArticleBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/ArticleBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ArticleBucket38F6CD07"},"policyDocument":{"Statement":[{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"JournalismFaithfulStack/ArticleBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"JournalismFaithfulStack/ArticleBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"PromptMetaTable":{"id":"PromptMetaTable","path":"JournalismFaithfulStack/PromptMetaTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/PromptMetaTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"promptId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"promptId","keyType":"HASH"}],"tableName":"journalism-faithful-prompt-meta-prod"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStack/PromptMetaTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"PromptInstanceTable":{"id":"PromptInstanceTable","path":"JournalismFaithfulStack/PromptInstanceTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/PromptInstanceTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"instanceId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"instanceId","keyType":"HASH"}],"tableName":"journalism-faithful-prompt-instances-prod"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStack/PromptInstanceTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"UsersTable":{"id":"UsersTable","path":"JournalismFaithfulStack/UsersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/UsersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"user_id","attributeType":"S"},{"attributeName":"email","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"email-index","keySchema":[{"attributeName":"email","keyType":"HASH"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"user_id","keyType":"HASH"}],"tableName":"journalism-faithful-users-prod"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStack/UsersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"ConversationsTable":{"id":"ConversationsTable","path":"JournalismFaithfulStack/ConversationsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/ConversationsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"user_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"user-index","keySchema":[{"attributeName":"user_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"conversation_id","keyType":"HASH"}],"tableName":"journalism-faithful-conversations-prod"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStack/ConversationsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"MessagesTable":{"id":"MessagesTable","path":"JournalismFaithfulStack/MessagesTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/MessagesTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"conversation_id","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"tableName":"journalism-faithful-messages-prod"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStack/MessagesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"LambdaRole":{"id":"LambdaRole","path":"JournalismFaithfulStack/LambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportLambdaRole":{"id":"ImportLambdaRole","path":"JournalismFaithfulStack/LambdaRole/ImportLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/LambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonBedrockFullAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulStack/LambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/LambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject","s3:PutObject","s3:DeleteObject","dynamodb:Query","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:GetItem","dynamodb:DeleteItem","dynamodb:Scan","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","cognito-idp:AdminCreateUser","cognito-idp:AdminSetUserPassword","cognito-idp:AdminGetUser","cognito-idp:AdminDeleteUser","cognito-idp:AdminConfirmSignUp","cognito-idp:AdminInitiateAuth","cognito-idp:AdminAddUserToGroup","cognito-idp:AdminListGroupsForUser"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]},{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},"/*"]]},{"Fn::GetAtt":["PromptMetaTable0A0B3876","Arn"]},{"Fn::GetAtt":["PromptInstanceTable55BAEF58","Arn"]},{"Fn::GetAtt":["UsersTable9725E9C8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UsersTable9725E9C8","Arn"]},"/index/email-index"]]},{"Fn::GetAtt":["UserPool6BA7E5F2","Arn"]},{"Fn::Join":["",["arn:aws:cognito-idp:ap-northeast-2:887078546492:userpool/",{"Ref":"UserPool6BA7E5F2"}]]}]},{"Action":["sqs:SendMessage","dynamodb:PutItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["BatchQueue28C25975","Arn"]},{"Fn::GetAtt":["BatchJobsTable2D1384BC","Arn"]}]}],"Version":"2012-10-17"},"policyName":"LambdaRoleDefaultPolicy75625A82","roles":[{"Ref":"LambdaRole3A44B857"}]}}}}}}},"GenerateFunction":{"id":"GenerateFunction","path":"JournalismFaithfulStack/GenerateFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/GenerateFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/GenerateFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/GenerateFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/GenerateFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"870be032c1258e4e69f2f8658dd503c12fd6fac077162174ea8e875d21e620bd.zip"},"environment":{"variables":{"PROMPT_META_TABLE":{"Ref":"PromptMetaTable0A0B3876"},"PROMPT_BUCKET":{"Ref":"PromptBucket1668FD1C"},"REGION":"ap-northeast-2","BATCH_QUEUE_URL":{"Ref":"BatchQueue28C25975"},"BATCH_JOBS_TABLE":{"Ref":"BatchJobsTable2D1384BC"}}},"handler":"generate.handler","memorySize":10240,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":900}}}}},"SavePromptFunction":{"id":"SavePromptFunction","path":"JournalismFaithfulStack/SavePromptFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/SavePromptFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/SavePromptFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/SavePromptFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/SavePromptFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"20243bf4de8685568dec44e514d52d8c177aa7c3506f619e4650d780955f277e.zip"},"environment":{"variables":{"PROMPT_META_TABLE":{"Ref":"PromptMetaTable0A0B3876"},"PROMPT_BUCKET":{"Ref":"PromptBucket1668FD1C"},"REGION":"ap-northeast-2"}},"handler":"save_prompt.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":120}}}}},"AuthFunction":{"id":"AuthFunction","path":"JournalismFaithfulStack/AuthFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/AuthFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/AuthFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/AuthFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/AuthFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"52acb937fba0c7e4b573368f21b4589784987c779f1f0cc3b6d82fb819cfed8e.zip"},"environment":{"variables":{"USER_POOL_ID":{"Ref":"UserPool6BA7E5F2"},"USER_POOL_CLIENT_ID":{"Ref":"UserPoolWebClient4C9370B0"},"USERS_TABLE":{"Ref":"UsersTable9725E9C8"},"REGION":"ap-northeast-2"}},"handler":"auth.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"JWTAuthorizerFunction":{"id":"JWTAuthorizerFunction","path":"JournalismFaithfulStack/JWTAuthorizerFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/JWTAuthorizerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/JWTAuthorizerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/JWTAuthorizerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/JWTAuthorizerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"1f4f37653d3c40d85e9fd31222d12bdcaa77d9173ad1c663d66718d7ad977eb4.zip"},"environment":{"variables":{"USER_POOL_ID":{"Ref":"UserPool6BA7E5F2"},"USER_POOL_CLIENT_ID":{"Ref":"UserPoolWebClient4C9370B0"},"REGION":"ap-northeast-2","LOG_LEVEL":"INFO"}},"handler":"authorizer.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"ConversationFunction":{"id":"ConversationFunction","path":"JournalismFaithfulStack/ConversationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/ConversationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/ConversationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/ConversationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/ConversationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"0ef019d62cfda31b4502789b89b98863c7a56a7ac9d467469db2c68a8068ede2.zip"},"environment":{"variables":{"CONVERSATIONS_TABLE":{"Ref":"ConversationsTableCD91EB96"},"USERS_TABLE":{"Ref":"UsersTable9725E9C8"},"REGION":"ap-northeast-2"}},"handler":"conversation_api.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"MessageFunction":{"id":"MessageFunction","path":"JournalismFaithfulStack/MessageFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/MessageFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/MessageFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/MessageFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/MessageFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"b7ffc97f01e2d295233df195d0f976dd2b6a3652d078079b0df49382d41be186.zip"},"environment":{"variables":{"MESSAGES_TABLE":{"Ref":"MessagesTable05B58A27"},"CONVERSATIONS_TABLE":{"Ref":"ConversationsTableCD91EB96"},"REGION":"ap-northeast-2"}},"handler":"message_api.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"BedrockDiyApi":{"id":"BedrockDiyApi","path":"JournalismFaithfulStack/BedrockDiyApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"제목 생성기 - 프롬프트 기반 AI 시스템","name":"journalism-faithful-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"JournalismFaithfulStack/BedrockDiyApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"JournalismFaithfulStack/BedrockDiyApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"JournalismFaithfulStack/BedrockDiyApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["BedrockDiyApiCloudWatchRoleA6EAEC85","Arn"]}}}},"Deployment":{"id":"Deployment","path":"JournalismFaithfulStack/BedrockDiyApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"제목 생성기 - 프롬프트 기반 AI 시스템","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"JournalismFaithfulStack/BedrockDiyApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"BedrockDiyApiDeployment43E7B7E5d74056dd6cbcc48b3b5a1a02b96c442b"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"JournalismFaithfulStack/BedrockDiyApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Default":{"id":"Default","path":"JournalismFaithfulStack/BedrockDiyApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.208.0","metadata":[]},"children":{"auth":{"id":"auth","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"auth","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"signup":{"id":"signup","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"signup","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signup":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signup","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signup","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/signup"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signup":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signup","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signup","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/signup"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthsignup9618154B"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signup/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthsignup9618154B"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"signin":{"id":"signin","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"signin","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signin":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signin","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/signin"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signin":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signin","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/signin"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthsignin895CA3E3"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthsignin895CA3E3"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"refresh":{"id":"refresh","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"refresh","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.refresh":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.refresh","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.refresh","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/refresh"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.refresh":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.refresh","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.refresh","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/refresh"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthrefresh5C4E9EF5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/refresh/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthrefresh5C4E9EF5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"signout":{"id":"signout","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"signout","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signout":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signout","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/signout"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signout":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signout","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.signout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/signout"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthsignoutC0E164EA"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/signout/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthsignoutC0E164EA"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"verify":{"id":"verify","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"verify","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.verify":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.verify","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.verify","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/verify"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.verify":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.verify","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.verify","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/verify"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthverifyD9F9DEFD"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/verify/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthverifyD9F9DEFD"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"forgot-password":{"id":"forgot-password","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"forgot-password","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.forgot-password":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.forgot-password","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.forgot-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/forgot-password"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.forgot-password":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.forgot-password","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.forgot-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/forgot-password"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthforgotpassword54291A48"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/forgot-password/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthforgotpassword54291A48"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"confirm-password":{"id":"confirm-password","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"confirm-password","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.confirm-password":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.confirm-password","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.confirm-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/confirm-password"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.confirm-password":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.confirm-password","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.confirm-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/confirm-password"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthconfirmpasswordA96AC876"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/confirm-password/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthconfirmpasswordA96AC876"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"init-admin":{"id":"init-admin","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"init-admin","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.init-admin":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.init-admin","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.init-admin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/init-admin"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.init-admin":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.init-admin","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..auth.init-admin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/init-admin"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthinitadmin5CBC207F"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/auth/init-admin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthinitadmin5CBC207F"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}},"generate":{"id":"generate","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"generate","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..generate":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..generate","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateFunctionD11A7A28","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/generate"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..generate":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..generate","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateFunctionD11A7A28","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/generate"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GenerateFunctionD11A7A28","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApigenerate04E56691"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/generate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApigenerate04E56691"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"prompts":{"id":"prompts","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"prompts","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/GET/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/prompts"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/GET/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/prompts"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..prompts":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..prompts","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/prompts"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..prompts":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..prompts","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/prompts"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"{promptId}":{"id":"{promptId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"pathPart":"{promptId}","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts.{promptId}":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts.{promptId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/GET/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/prompts/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts.{promptId}":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts.{promptId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/GET/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/prompts/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"PUT":{"id":"PUT","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..prompts.{promptId}":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..prompts.{promptId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/PUT/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/PUT/prompts/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..prompts.{promptId}":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..prompts.{promptId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/PUT/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/PUT/prompts/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"DELETE":{"id":"DELETE","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..prompts.{promptId}":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..prompts.{promptId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/DELETE/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/DELETE/prompts/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..prompts.{promptId}":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..prompts.{promptId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/DELETE/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/DELETE/prompts/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/prompts/{promptId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,PUT,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}},"conversations":{"id":"conversations","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"conversations","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/GET/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/conversations"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/GET/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/conversations"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/conversations"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/conversations"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"{conversationId}":{"id":"{conversationId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"pathPart":"{conversationId}","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/GET/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/conversations/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/GET/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/conversations/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"PUT":{"id":"PUT","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..conversations.{conversationId}":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..conversations.{conversationId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/PUT/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/PUT/conversations/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..conversations.{conversationId}":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..conversations.{conversationId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/PUT/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.PUT..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/PUT/conversations/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"DELETE":{"id":"DELETE","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..conversations.{conversationId}":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..conversations.{conversationId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/DELETE/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/DELETE/conversations/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..conversations.{conversationId}":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..conversations.{conversationId}","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/DELETE/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.DELETE..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/DELETE/conversations/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,PUT,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"messages":{"id":"messages","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"pathPart":"messages","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}.messages":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}.messages","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/conversations/*/messages"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}.messages":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}.messages","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/conversations/*/messages"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationIdmessages4630D918"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations.{conversationId}.messages":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations.{conversationId}.messages","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/conversations/*/messages"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations.{conversationId}.messages":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations.{conversationId}.messages","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/conversations/*/messages"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationIdmessages4630D918"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/conversations/{conversationId}/messages/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiconversationsconversationIdmessages4630D918"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}}}},"save-prompt":{"id":"save-prompt","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"save-prompt","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..save-prompt":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..save-prompt","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/POST/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/save-prompt"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..save-prompt":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..save-prompt","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/POST/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.POST..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/save-prompt"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApisavepromptC0477537"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"GET":{"id":"GET","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..save-prompt":{"id":"ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..save-prompt","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/GET/ApiPermission.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/save-prompt"]]}}}},"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..save-prompt":{"id":"ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..save-prompt","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/GET/ApiPermission.Test.JournalismFaithfulStackBedrockDiyApiFDDD00E7.GET..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/save-prompt"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApisavepromptC0477537"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BedrockDiyApi/Default/save-prompt/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApisavepromptC0477537"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}}}},"WebSocketConnectionsTable":{"id":"WebSocketConnectionsTable","path":"JournalismFaithfulStack/WebSocketConnectionsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketConnectionsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"connectionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"connectionId","keyType":"HASH"}],"tableName":"journalism-faithful-websocket-connections-prod","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStack/WebSocketConnectionsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"WebSocketLambdaRole":{"id":"WebSocketLambdaRole","path":"JournalismFaithfulStack/WebSocketLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportWebSocketLambdaRole":{"id":"ImportWebSocketLambdaRole","path":"JournalismFaithfulStack/WebSocketLambdaRole/ImportWebSocketLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonBedrockFullAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulStack/WebSocketLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["execute-api:ManageConnections","dynamodb:PutItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:Query","dynamodb:Scan","s3:GetObject","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":["arn:aws:execute-api:ap-northeast-2:887078546492:*/*/*",{"Fn::GetAtt":["WebSocketConnectionsTable7F0028CC","Arn"]},{"Fn::GetAtt":["PromptMetaTable0A0B3876","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"WebSocketLambdaRoleDefaultPolicyF19D90C5","roles":[{"Ref":"WebSocketLambdaRole0DF09B59"}]}}}}}}},"WebSocketConnectFunction":{"id":"WebSocketConnectFunction","path":"JournalismFaithfulStack/WebSocketConnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/WebSocketConnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/WebSocketConnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/WebSocketConnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketConnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"ace8c9caa58421b2683b1f1bdcf1c40661e2cd490fda961cbb520aac8941139c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"WebSocketConnectionsTable7F0028CC"},"REGION":"ap-northeast-2"}},"handler":"connect.handler","memorySize":256,"role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"python3.11","timeout":60}}}}},"WebSocketDisconnectFunction":{"id":"WebSocketDisconnectFunction","path":"JournalismFaithfulStack/WebSocketDisconnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/WebSocketDisconnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/WebSocketDisconnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/WebSocketDisconnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketDisconnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"ace8c9caa58421b2683b1f1bdcf1c40661e2cd490fda961cbb520aac8941139c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"WebSocketConnectionsTable7F0028CC"},"REGION":"ap-northeast-2"}},"handler":"disconnect.handler","memorySize":256,"role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"python3.11","timeout":60}}}}},"WebSocketStreamFunction":{"id":"WebSocketStreamFunction","path":"JournalismFaithfulStack/WebSocketStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStack/WebSocketStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStack/WebSocketStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStack/WebSocketStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"ace8c9caa58421b2683b1f1bdcf1c40661e2cd490fda961cbb520aac8941139c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"WebSocketConnectionsTable7F0028CC"},"PROMPT_META_TABLE":{"Ref":"PromptMetaTable0A0B3876"},"PROMPT_BUCKET":{"Ref":"PromptBucket1668FD1C"},"REGION":"ap-northeast-2","USE_LANGGRAPH":"false","CONVERSATIONS_TABLE":{"Ref":"ConversationsTableCD91EB96"},"MESSAGES_TABLE":{"Ref":"MessagesTable05B58A27"}}},"handler":"stream.handler","memorySize":10240,"role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"python3.11","timeout":900}}}}},"WebSocketApi":{"id":"WebSocketApi","path":"JournalismFaithfulStack/WebSocketApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketApi","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"description":"실시간 스트리밍을 위한 WebSocket API","name":"journalism-faithful-websocket-api","protocolType":"WEBSOCKET","routeSelectionExpression":"$request.body.action"}}},"$connect-Route":{"id":"$connect-Route","path":"JournalismFaithfulStack/WebSocketApi/$connect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.208.0","metadata":[]},"children":{"ConnectIntegration-Permission":{"id":"ConnectIntegration-Permission","path":"JournalismFaithfulStack/WebSocketApi/$connect-Route/ConnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WebSocketConnectFunction72183AC0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"WebSocketApi34BCF99B"},"/*$connect"]]}}}},"ConnectIntegration":{"id":"ConnectIntegration","path":"JournalismFaithfulStack/WebSocketApi/$connect-Route/ConnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketApi/$connect-Route/ConnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WebSocketConnectFunction72183AC0","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketApi/$connect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$connect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApiconnectRouteConnectIntegration7F1E0FDE"}]]}}}}}},"$disconnect-Route":{"id":"$disconnect-Route","path":"JournalismFaithfulStack/WebSocketApi/$disconnect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.208.0","metadata":[]},"children":{"DisconnectIntegration-Permission":{"id":"DisconnectIntegration-Permission","path":"JournalismFaithfulStack/WebSocketApi/$disconnect-Route/DisconnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WebSocketDisconnectFunction189772FC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"WebSocketApi34BCF99B"},"/*$disconnect"]]}}}},"DisconnectIntegration":{"id":"DisconnectIntegration","path":"JournalismFaithfulStack/WebSocketApi/$disconnect-Route/DisconnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketApi/$disconnect-Route/DisconnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WebSocketDisconnectFunction189772FC","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketApi/$disconnect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$disconnect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidisconnectRouteDisconnectIntegration94C91381"}]]}}}}}},"stream-Route":{"id":"stream-Route","path":"JournalismFaithfulStack/WebSocketApi/stream-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.208.0","metadata":[]},"children":{"StreamIntegration-Permission":{"id":"StreamIntegration-Permission","path":"JournalismFaithfulStack/WebSocketApi/stream-Route/StreamIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WebSocketStreamFunctionB192D3D1","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"WebSocketApi34BCF99B"},"/*stream"]]}}}},"StreamIntegration":{"id":"StreamIntegration","path":"JournalismFaithfulStack/WebSocketApi/stream-Route/StreamIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketApi/stream-Route/StreamIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WebSocketStreamFunctionB192D3D1","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketApi/stream-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"stream","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApistreamRouteStreamIntegration2DA44F3C"}]]}}}}}}}},"WebSocketStage":{"id":"WebSocketStage","path":"JournalismFaithfulStack/WebSocketStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketStage","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"autoDeploy":true,"stageName":"prod"}}}}},"WebSocketApiUrl":{"id":"WebSocketApiUrl","path":"JournalismFaithfulStack/WebSocketApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"GenerateErrorAlarm":{"id":"GenerateErrorAlarm","path":"JournalismFaithfulStack/GenerateErrorAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/GenerateErrorAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Generate Lambda 함수 오류율이 높습니다","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"GenerateFunctionD11A7A28"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":3}}}}},"SavePromptErrorAlarm":{"id":"SavePromptErrorAlarm","path":"JournalismFaithfulStack/SavePromptErrorAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/SavePromptErrorAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"SavePrompt Lambda 함수 오류율이 높습니다","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"SavePromptFunction071F515F"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":3}}}}},"WebSocketStreamErrorAlarm":{"id":"WebSocketStreamErrorAlarm","path":"JournalismFaithfulStack/WebSocketStreamErrorAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/WebSocketStreamErrorAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"WebSocketStream Lambda 함수 오류율이 높습니다","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"WebSocketStreamFunctionB192D3D1"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":3}}}}},"BatchJobsTable":{"id":"BatchJobsTable","path":"JournalismFaithfulStack/BatchJobsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BatchJobsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"job_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"job_id","keyType":"HASH"}],"tableName":"journalism-faithful-batch-jobs-prod","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStack/BatchJobsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"BatchQueue":{"id":"BatchQueue","path":"JournalismFaithfulStack/BatchQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BatchQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"journalism-faithful-batch-queue-prod","receiveMessageWaitTimeSeconds":20,"visibilityTimeout":900}}}}},"BatchLambdaRole":{"id":"BatchLambdaRole","path":"JournalismFaithfulStack/BatchLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportBatchLambdaRole":{"id":"ImportBatchLambdaRole","path":"JournalismFaithfulStack/BatchLambdaRole/ImportBatchLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BatchLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonBedrockFullAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulStack/BatchLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStack/BatchLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:ReceiveMessage","sqs:DeleteMessage","sqs:GetQueueAttributes","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:GetItem","s3:GetObject","bedrock:InvokeModel","execute-api:ManageConnections"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["BatchQueue28C25975","Arn"]},{"Fn::GetAtt":["BatchJobsTable2D1384BC","Arn"]},{"Fn::GetAtt":["PromptMetaTable0A0B3876","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]},"arn:aws:execute-api:ap-northeast-2:887078546492:*/*/*"]}],"Version":"2012-10-17"},"policyName":"BatchLambdaRoleDefaultPolicy3F25F2CB","roles":[{"Ref":"BatchLambdaRole6C54EF21"}]}}}}}}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"JournalismFaithfulStack/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"PromptBucketName":{"id":"PromptBucketName","path":"JournalismFaithfulStack/PromptBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ArticleBucketName":{"id":"ArticleBucketName","path":"JournalismFaithfulStack/ArticleBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"UserPoolId":{"id":"UserPoolId","path":"JournalismFaithfulStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"JournalismFaithfulStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"JournalismFaithfulStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"JournalismFaithfulStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"JournalismFaithfulStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"BedrockDiyApi1AA2182A\"}":{"id":"Output{\"Ref\":\"BedrockDiyApi1AA2182A\"}","path":"JournalismFaithfulStack/Exports/Output{\"Ref\":\"BedrockDiyApi1AA2182A\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"BedrockDiyApiDeploymentStageprod6FFD6E49\"}":{"id":"Output{\"Ref\":\"BedrockDiyApiDeploymentStageprod6FFD6E49\"}","path":"JournalismFaithfulStack/Exports/Output{\"Ref\":\"BedrockDiyApiDeploymentStageprod6FFD6E49\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"JournalismFaithfulStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"JournalismFaithfulStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"JournalismFaithfulFrontendStack":{"id":"JournalismFaithfulFrontendStack","path":"JournalismFaithfulFrontendStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"WebsiteBucket":{"id":"WebsiteBucket","path":"JournalismFaithfulFrontendStack/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"title-generator-frontend-prod-887078546492-ap-northeast-2","lifecycleConfiguration":{"rules":[{"abortIncompleteMultipartUpload":{"daysAfterInitiation":7},"noncurrentVersionExpiration":{"noncurrentDays":30},"status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:cr-owned:d99d5a93","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"JournalismFaithfulFrontendStack/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebsiteBucket75C24D94"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":"arn:aws:cloudfront::887078546492:distribution/*"}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"Distribution830FAC52"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"OAC":{"id":"OAC","path":"JournalismFaithfulFrontendStack/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"description":{"Fn::Join":["",["OAC for ",{"Ref":"WebsiteBucket75C24D94"}]]},"name":{"Fn::Join":["",["OAC-",{"Ref":"WebsiteBucket75C24D94"}]]},"signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"Certificate":{"id":"Certificate","path":"JournalismFaithfulFrontendStack/Certificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/Certificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"title-t5-v2.sedaily.io","tags":[{"key":"Name","value":"JournalismFaithfulFrontendStack/Certificate"}],"validationMethod":"DNS"}}}}},"Distribution":{"id":"Distribution","path":"JournalismFaithfulFrontendStack/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.208.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"JournalismFaithfulFrontendStack/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin2":{"id":"Origin2","path":"JournalismFaithfulFrontendStack/Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin3":{"id":"Origin3","path":"JournalismFaithfulFrontendStack/Distribution/Origin3","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin4":{"id":"Origin4","path":"JournalismFaithfulFrontendStack/Distribution/Origin4","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"JournalismFaithfulFrontendStackDistributionOrigin15E23F682","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}},{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"JournalismFaithfulFrontendStackDistributionOrigin2D2C893BF","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}},{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"JournalismFaithfulFrontendStackDistributionOrigin3E085EA3F","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}},{"domainName":{"Fn::Select":[2,{"Fn::Split":["/",{"Fn::Join":["",["https://",{"Fn::ImportValue":"JournalismFaithfulStack:ExportsOutputRefBedrockDiyApi1AA2182A3686DE39"},".execute-api.ap-northeast-2.",{"Ref":"AWS::URLSuffix"},"/",{"Fn::ImportValue":"JournalismFaithfulStack:ExportsOutputRefBedrockDiyApiDeploymentStageprod6FFD6E4934FCC1BA"},"/"]]}]}]},"id":"JournalismFaithfulFrontendStackDistributionOrigin424E8C26E","originPath":{"Fn::Join":["",["/",{"Fn::ImportValue":"JournalismFaithfulStack:ExportsOutputRefBedrockDiyApiDeploymentStageprod6FFD6E4934FCC1BA"}]]},"customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"JournalismFaithfulFrontendStackDistributionOrigin15E23F682","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","responseHeadersPolicyId":"67f7725c-6f97-4210-82d7-5512b31e9d03","viewerProtocolPolicy":"redirect-to-https"},"aliases":["title-t5-v2.sedaily.io"],"cacheBehaviors":[{"pathPattern":"*.js","targetOriginId":"JournalismFaithfulFrontendStackDistributionOrigin2D2C893BF","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.css","targetOriginId":"JournalismFaithfulFrontendStackDistributionOrigin3E085EA3F","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/api/*","targetOriginId":"JournalismFaithfulFrontendStackDistributionOrigin424E8C26E","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"216adef6-5c7f-47e4-b989-5492eafa07d3","viewerProtocolPolicy":"redirect-to-https"}],"comment":"Dynamic Prompt System Frontend Distribution","customErrorResponses":[{"errorCachingMinTtl":1800,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":1800,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"priceClass":"PriceClass_100","viewerCertificate":{"acmCertificateArn":{"Ref":"Certificate4E7ABB08"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}}}}}}},"DeployWebsite":{"id":"DeployWebsite","path":"JournalismFaithfulFrontendStack/DeployWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.208.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"JournalismFaithfulFrontendStack/DeployWebsite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulFrontendStack/DeployWebsite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulFrontendStack/DeployWebsite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulFrontendStack/DeployWebsite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/DeployWebsite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"JournalismFaithfulFrontendStack/DeployWebsite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.208.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"JournalismFaithfulFrontendStack/DeployWebsite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulFrontendStack/DeployWebsite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulFrontendStack/DeployWebsite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"CustomResource-512MiB-512MiB":{"id":"CustomResource-512MiB-512MiB","path":"JournalismFaithfulFrontendStack/DeployWebsite/CustomResource-512MiB-512MiB","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"JournalismFaithfulFrontendStack/DeployWebsite/CustomResource-512MiB-512MiB/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-887078546492-ap-northeast-2"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-887078546492-ap-northeast-2/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":["cloudfront:GetInvalidation","cloudfront:CreateInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiBServiceRoleDefaultPolicyEA2DA91D","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiBServiceRoleCFA2F118"}]}}}}}}},"Code":{"id":"Code","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"ephemeralStorage":{"size":512},"handler":"index.handler","layers":[{"Ref":"DeployWebsiteAwsCliLayer17DBC421"}],"memorySize":512,"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiBServiceRoleCFA2F118","Arn"]},"runtime":"python3.11","timeout":900}}}}},"WebsiteURL":{"id":"WebsiteURL","path":"JournalismFaithfulFrontendStack/WebsiteURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CustomDomain":{"id":"CustomDomain","path":"JournalismFaithfulFrontendStack/CustomDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"BucketName":{"id":"BucketName","path":"JournalismFaithfulFrontendStack/BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"DistributionId":{"id":"DistributionId","path":"JournalismFaithfulFrontendStack/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"DistributionDomainName":{"id":"DistributionDomainName","path":"JournalismFaithfulFrontendStack/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"JournalismFaithfulFrontendStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"JournalismFaithfulFrontendStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"JournalismFaithfulFrontendStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"JournalismFaithfulFrontendStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"JournalismFaithfulStackDev":{"id":"JournalismFaithfulStackDev","path":"JournalismFaithfulStackDev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"UserPool":{"id":"UserPool","path":"JournalismFaithfulStackDev/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"schema":[{"name":"email","mutable":true,"required":true}],"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"journalism-faithful-users-dev","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"WebClient":{"id":"WebClient","path":"JournalismFaithfulStackDev/UserPool/WebClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/UserPool/WebClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"journalism-faithful-web-client-dev","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"AdminGroup":{"id":"AdminGroup","path":"JournalismFaithfulStackDev/AdminGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"관리자 그룹","groupName":"admin","precedence":1,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"PromptBucket":{"id":"PromptBucket","path":"JournalismFaithfulStackDev/PromptBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/PromptBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"journalism-faithful-prompts-dev-887078546492-ap-northeast-2","corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST"],"allowedOrigins":["*"]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"JournalismFaithfulStackDev/PromptBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/PromptBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"PromptBucket1668FD1C"},"policyDocument":{"Statement":[{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"JournalismFaithfulStackDev/PromptBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"JournalismFaithfulStackDev/PromptBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"JournalismFaithfulStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.208.0"},"children":{"Staging":{"id":"Staging","path":"JournalismFaithfulStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"Role":{"id":"Role","path":"JournalismFaithfulStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}},"Handler":{"id":"Handler","path":"JournalismFaithfulStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"ArticleBucket":{"id":"ArticleBucket","path":"JournalismFaithfulStackDev/ArticleBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/ArticleBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"bucketName":"journalism-faithful-articles-dev-887078546492-ap-northeast-2","corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["GET","PUT","POST"],"allowedOrigins":["*"]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"JournalismFaithfulStackDev/ArticleBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/ArticleBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ArticleBucket38F6CD07"},"policyDocument":{"Statement":[{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"JournalismFaithfulStackDev/ArticleBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"JournalismFaithfulStackDev/ArticleBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"PromptMetaTable":{"id":"PromptMetaTable","path":"JournalismFaithfulStackDev/PromptMetaTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/PromptMetaTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"promptId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"promptId","keyType":"HASH"}],"tableName":"journalism-faithful-prompt-meta-dev"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStackDev/PromptMetaTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"PromptInstanceTable":{"id":"PromptInstanceTable","path":"JournalismFaithfulStackDev/PromptInstanceTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/PromptInstanceTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"instanceId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"instanceId","keyType":"HASH"}],"tableName":"journalism-faithful-prompt-instances-dev"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStackDev/PromptInstanceTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"UsersTable":{"id":"UsersTable","path":"JournalismFaithfulStackDev/UsersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/UsersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"user_id","attributeType":"S"},{"attributeName":"email","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"email-index","keySchema":[{"attributeName":"email","keyType":"HASH"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"user_id","keyType":"HASH"}],"tableName":"journalism-faithful-users-dev"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStackDev/UsersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"ConversationsTable":{"id":"ConversationsTable","path":"JournalismFaithfulStackDev/ConversationsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/ConversationsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"user_id","attributeType":"S"},{"attributeName":"created_at","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"user-index","keySchema":[{"attributeName":"user_id","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"conversation_id","keyType":"HASH"}],"tableName":"journalism-faithful-conversations-dev"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStackDev/ConversationsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"MessagesTable":{"id":"MessagesTable","path":"JournalismFaithfulStackDev/MessagesTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/MessagesTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversation_id","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"conversation_id","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"tableName":"journalism-faithful-messages-dev"}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStackDev/MessagesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"LambdaRole":{"id":"LambdaRole","path":"JournalismFaithfulStackDev/LambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportLambdaRole":{"id":"ImportLambdaRole","path":"JournalismFaithfulStackDev/LambdaRole/ImportLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/LambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonBedrockFullAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulStackDev/LambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/LambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject","s3:PutObject","s3:DeleteObject","dynamodb:Query","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:GetItem","dynamodb:DeleteItem","dynamodb:Scan","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream","cognito-idp:AdminCreateUser","cognito-idp:AdminSetUserPassword","cognito-idp:AdminGetUser","cognito-idp:AdminDeleteUser","cognito-idp:AdminConfirmSignUp","cognito-idp:AdminInitiateAuth","cognito-idp:AdminAddUserToGroup","cognito-idp:AdminListGroupsForUser"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]},{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArticleBucket38F6CD07","Arn"]},"/*"]]},{"Fn::GetAtt":["PromptMetaTable0A0B3876","Arn"]},{"Fn::GetAtt":["PromptInstanceTable55BAEF58","Arn"]},{"Fn::GetAtt":["UsersTable9725E9C8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UsersTable9725E9C8","Arn"]},"/index/email-index"]]},{"Fn::GetAtt":["UserPool6BA7E5F2","Arn"]},{"Fn::Join":["",["arn:aws:cognito-idp:ap-northeast-2:887078546492:userpool/",{"Ref":"UserPool6BA7E5F2"}]]}]},{"Action":["sqs:SendMessage","dynamodb:PutItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["BatchQueue28C25975","Arn"]},{"Fn::GetAtt":["BatchJobsTable2D1384BC","Arn"]}]}],"Version":"2012-10-17"},"policyName":"LambdaRoleDefaultPolicy75625A82","roles":[{"Ref":"LambdaRole3A44B857"}]}}}}}}},"GenerateFunction":{"id":"GenerateFunction","path":"JournalismFaithfulStackDev/GenerateFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/GenerateFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/GenerateFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/GenerateFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/GenerateFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"870be032c1258e4e69f2f8658dd503c12fd6fac077162174ea8e875d21e620bd.zip"},"environment":{"variables":{"PROMPT_META_TABLE":{"Ref":"PromptMetaTable0A0B3876"},"PROMPT_BUCKET":{"Ref":"PromptBucket1668FD1C"},"REGION":"ap-northeast-2","BATCH_QUEUE_URL":{"Ref":"BatchQueue28C25975"},"BATCH_JOBS_TABLE":{"Ref":"BatchJobsTable2D1384BC"}}},"handler":"generate.handler","memorySize":10240,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":900}}}}},"SavePromptFunction":{"id":"SavePromptFunction","path":"JournalismFaithfulStackDev/SavePromptFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/SavePromptFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/SavePromptFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/SavePromptFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/SavePromptFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"20243bf4de8685568dec44e514d52d8c177aa7c3506f619e4650d780955f277e.zip"},"environment":{"variables":{"PROMPT_META_TABLE":{"Ref":"PromptMetaTable0A0B3876"},"PROMPT_BUCKET":{"Ref":"PromptBucket1668FD1C"},"REGION":"ap-northeast-2"}},"handler":"save_prompt.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":120}}}}},"AuthFunction":{"id":"AuthFunction","path":"JournalismFaithfulStackDev/AuthFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/AuthFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/AuthFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/AuthFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/AuthFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"52acb937fba0c7e4b573368f21b4589784987c779f1f0cc3b6d82fb819cfed8e.zip"},"environment":{"variables":{"USER_POOL_ID":{"Ref":"UserPool6BA7E5F2"},"USER_POOL_CLIENT_ID":{"Ref":"UserPoolWebClient4C9370B0"},"USERS_TABLE":{"Ref":"UsersTable9725E9C8"},"REGION":"ap-northeast-2"}},"handler":"auth.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"JWTAuthorizerFunction":{"id":"JWTAuthorizerFunction","path":"JournalismFaithfulStackDev/JWTAuthorizerFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/JWTAuthorizerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/JWTAuthorizerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/JWTAuthorizerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/JWTAuthorizerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"1f4f37653d3c40d85e9fd31222d12bdcaa77d9173ad1c663d66718d7ad977eb4.zip"},"environment":{"variables":{"USER_POOL_ID":{"Ref":"UserPool6BA7E5F2"},"USER_POOL_CLIENT_ID":{"Ref":"UserPoolWebClient4C9370B0"},"REGION":"ap-northeast-2","LOG_LEVEL":"INFO"}},"handler":"authorizer.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"ConversationFunction":{"id":"ConversationFunction","path":"JournalismFaithfulStackDev/ConversationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/ConversationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/ConversationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/ConversationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/ConversationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"0ef019d62cfda31b4502789b89b98863c7a56a7ac9d467469db2c68a8068ede2.zip"},"environment":{"variables":{"CONVERSATIONS_TABLE":{"Ref":"ConversationsTableCD91EB96"},"USERS_TABLE":{"Ref":"UsersTable9725E9C8"},"REGION":"ap-northeast-2"}},"handler":"conversation_api.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"MessageFunction":{"id":"MessageFunction","path":"JournalismFaithfulStackDev/MessageFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/MessageFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/MessageFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/MessageFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/MessageFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"b7ffc97f01e2d295233df195d0f976dd2b6a3652d078079b0df49382d41be186.zip"},"environment":{"variables":{"MESSAGES_TABLE":{"Ref":"MessagesTable05B58A27"},"CONVERSATIONS_TABLE":{"Ref":"ConversationsTableCD91EB96"},"REGION":"ap-northeast-2"}},"handler":"message_api.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaRole3A44B857","Arn"]},"runtime":"python3.11","timeout":60}}}}},"BedrockDiyApi":{"id":"BedrockDiyApi","path":"JournalismFaithfulStackDev/BedrockDiyApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"제목 생성기 - 프롬프트 기반 AI 시스템","name":"journalism-faithful-api"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"JournalismFaithfulStackDev/BedrockDiyApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"JournalismFaithfulStackDev/BedrockDiyApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"JournalismFaithfulStackDev/BedrockDiyApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["BedrockDiyApiCloudWatchRoleA6EAEC85","Arn"]}}}},"Deployment":{"id":"Deployment","path":"JournalismFaithfulStackDev/BedrockDiyApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"제목 생성기 - 프롬프트 기반 AI 시스템","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"JournalismFaithfulStackDev/BedrockDiyApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"BedrockDiyApiDeployment43E7B7E57b9b69b69fe5a5cfdfcb4a4bdf7d2494"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"JournalismFaithfulStackDev/BedrockDiyApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Default":{"id":"Default","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.208.0","metadata":[]},"children":{"auth":{"id":"auth","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"auth","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"signup":{"id":"signup","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"signup","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signup":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signup","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signup","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/signup"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signup":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signup","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signup","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/signup"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthsignup9618154B"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signup/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthsignup9618154B"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"signin":{"id":"signin","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"signin","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signin":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signin","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/signin"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signin":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signin","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/signin"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthsignin895CA3E3"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthsignin895CA3E3"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"refresh":{"id":"refresh","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"refresh","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.refresh":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.refresh","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.refresh","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/refresh"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.refresh":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.refresh","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.refresh","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/refresh"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthrefresh5C4E9EF5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/refresh/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthrefresh5C4E9EF5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"signout":{"id":"signout","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"signout","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signout":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signout","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/signout"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signout":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signout","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.signout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/signout"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthsignoutC0E164EA"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/signout/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthsignoutC0E164EA"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"verify":{"id":"verify","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"verify","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.verify":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.verify","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.verify","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/verify"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.verify":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.verify","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.verify","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/verify"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthverifyD9F9DEFD"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/verify/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthverifyD9F9DEFD"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"forgot-password":{"id":"forgot-password","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"forgot-password","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.forgot-password":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.forgot-password","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.forgot-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/forgot-password"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.forgot-password":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.forgot-password","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.forgot-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/forgot-password"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthforgotpassword54291A48"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/forgot-password/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthforgotpassword54291A48"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"confirm-password":{"id":"confirm-password","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"confirm-password","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.confirm-password":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.confirm-password","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.confirm-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/confirm-password"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.confirm-password":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.confirm-password","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.confirm-password","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/confirm-password"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthconfirmpasswordA96AC876"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/confirm-password/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthconfirmpasswordA96AC876"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"init-admin":{"id":"init-admin","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiauth176DDB1C"},"pathPart":"init-admin","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.init-admin":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.init-admin","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.init-admin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/auth/init-admin"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.init-admin":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.init-admin","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..auth.init-admin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/auth/init-admin"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AuthFunctionA1CD5E0F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiauthinitadmin5CBC207F"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/auth/init-admin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiauthinitadmin5CBC207F"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}},"generate":{"id":"generate","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"generate","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..generate":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..generate","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateFunctionD11A7A28","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/generate"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..generate":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..generate","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GenerateFunctionD11A7A28","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/generate"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GenerateFunctionD11A7A28","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApigenerate04E56691"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/generate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApigenerate04E56691"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}},"prompts":{"id":"prompts","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"prompts","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/GET/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/prompts"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/GET/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/prompts"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..prompts":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..prompts","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/prompts"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..prompts":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..prompts","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..prompts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/prompts"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"{promptId}":{"id":"{promptId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiprompts1E68E3C5"},"pathPart":"{promptId}","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts.{promptId}":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts.{promptId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/GET/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/prompts/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts.{promptId}":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts.{promptId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/GET/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/prompts/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"PUT":{"id":"PUT","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..prompts.{promptId}":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..prompts.{promptId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/PUT/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/PUT/prompts/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..prompts.{promptId}":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..prompts.{promptId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/PUT/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/PUT/prompts/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"DELETE":{"id":"DELETE","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..prompts.{promptId}":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..prompts.{promptId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/DELETE/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/DELETE/prompts/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..prompts.{promptId}":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..prompts.{promptId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/DELETE/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..prompts.{promptId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/DELETE/prompts/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/prompts/{promptId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,PUT,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApipromptspromptId9AE8DA50"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}},"conversations":{"id":"conversations","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"conversations","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/GET/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/conversations"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/GET/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/conversations"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/conversations"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/conversations"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"{conversationId}":{"id":"{conversationId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiconversationsDB006EC1"},"pathPart":"{conversationId}","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/GET/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/conversations/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/GET/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/conversations/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"PUT":{"id":"PUT","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..conversations.{conversationId}":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..conversations.{conversationId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/PUT/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/PUT/conversations/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..conversations.{conversationId}":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..conversations.{conversationId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/PUT/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.PUT..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/PUT/conversations/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"DELETE":{"id":"DELETE","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..conversations.{conversationId}":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..conversations.{conversationId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/DELETE/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/DELETE/conversations/*"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..conversations.{conversationId}":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..conversations.{conversationId}","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/DELETE/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.DELETE..conversations.{conversationId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/DELETE/conversations/*"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ConversationFunction7337ABEA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,PUT,DELETE,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"messages":{"id":"messages","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"BedrockDiyApiconversationsconversationId0D1FFCC7"},"pathPart":"messages","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"GET":{"id":"GET","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}.messages":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}.messages","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/conversations/*/messages"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}.messages":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}.messages","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/conversations/*/messages"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationIdmessages4630D918"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations.{conversationId}.messages":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations.{conversationId}.messages","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/conversations/*/messages"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations.{conversationId}.messages":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations.{conversationId}.messages","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..conversations.{conversationId}.messages","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/conversations/*/messages"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MessageFunction5E234045","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApiconversationsconversationIdmessages4630D918"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/conversations/{conversationId}/messages/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApiconversationsconversationIdmessages4630D918"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}}}},"save-prompt":{"id":"save-prompt","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["BedrockDiyApi1AA2182A","RootResourceId"]},"pathPart":"save-prompt","restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}},"POST":{"id":"POST","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..save-prompt":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..save-prompt","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/POST/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/POST/save-prompt"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..save-prompt":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..save-prompt","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/POST/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.POST..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/POST/save-prompt"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApisavepromptC0477537"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"GET":{"id":"GET","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..save-prompt":{"id":"ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..save-prompt","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/GET/ApiPermission.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/",{"Ref":"BedrockDiyApiDeploymentStageprod6FFD6E49"},"/GET/save-prompt"]]}}}},"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..save-prompt":{"id":"ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..save-prompt","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/GET/ApiPermission.Test.JournalismFaithfulStackDevBedrockDiyApi5075A6CD.GET..save-prompt","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"BedrockDiyApi1AA2182A"},"/test-invoke-stage/GET/save-prompt"]]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SavePromptFunction071F515F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"BedrockDiyApisavepromptC0477537"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BedrockDiyApi/Default/save-prompt/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"BedrockDiyApisavepromptC0477537"},"restApiId":{"Ref":"BedrockDiyApi1AA2182A"}}}}}}}}}}}},"WebSocketConnectionsTable":{"id":"WebSocketConnectionsTable","path":"JournalismFaithfulStackDev/WebSocketConnectionsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketConnectionsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"connectionId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"connectionId","keyType":"HASH"}],"tableName":"journalism-faithful-websocket-connections-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStackDev/WebSocketConnectionsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"WebSocketLambdaRole":{"id":"WebSocketLambdaRole","path":"JournalismFaithfulStackDev/WebSocketLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportWebSocketLambdaRole":{"id":"ImportWebSocketLambdaRole","path":"JournalismFaithfulStackDev/WebSocketLambdaRole/ImportWebSocketLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonBedrockFullAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulStackDev/WebSocketLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["execute-api:ManageConnections","dynamodb:PutItem","dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:Query","dynamodb:Scan","s3:GetObject","bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":["arn:aws:execute-api:ap-northeast-2:887078546492:*/*/*",{"Fn::GetAtt":["WebSocketConnectionsTable7F0028CC","Arn"]},{"Fn::GetAtt":["PromptMetaTable0A0B3876","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"WebSocketLambdaRoleDefaultPolicyF19D90C5","roles":[{"Ref":"WebSocketLambdaRole0DF09B59"}]}}}}}}},"WebSocketConnectFunction":{"id":"WebSocketConnectFunction","path":"JournalismFaithfulStackDev/WebSocketConnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/WebSocketConnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/WebSocketConnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/WebSocketConnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketConnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"ace8c9caa58421b2683b1f1bdcf1c40661e2cd490fda961cbb520aac8941139c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"WebSocketConnectionsTable7F0028CC"},"REGION":"ap-northeast-2"}},"handler":"connect.handler","memorySize":256,"role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"python3.11","timeout":60}}}}},"WebSocketDisconnectFunction":{"id":"WebSocketDisconnectFunction","path":"JournalismFaithfulStackDev/WebSocketDisconnectFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/WebSocketDisconnectFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/WebSocketDisconnectFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/WebSocketDisconnectFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketDisconnectFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"ace8c9caa58421b2683b1f1bdcf1c40661e2cd490fda961cbb520aac8941139c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"WebSocketConnectionsTable7F0028CC"},"REGION":"ap-northeast-2"}},"handler":"disconnect.handler","memorySize":256,"role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"python3.11","timeout":60}}}}},"WebSocketStreamFunction":{"id":"WebSocketStreamFunction","path":"JournalismFaithfulStackDev/WebSocketStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulStackDev/WebSocketStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulStackDev/WebSocketStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulStackDev/WebSocketStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"ace8c9caa58421b2683b1f1bdcf1c40661e2cd490fda961cbb520aac8941139c.zip"},"environment":{"variables":{"CONNECTIONS_TABLE":{"Ref":"WebSocketConnectionsTable7F0028CC"},"PROMPT_META_TABLE":{"Ref":"PromptMetaTable0A0B3876"},"PROMPT_BUCKET":{"Ref":"PromptBucket1668FD1C"},"REGION":"ap-northeast-2","USE_LANGGRAPH":"false","CONVERSATIONS_TABLE":{"Ref":"ConversationsTableCD91EB96"},"MESSAGES_TABLE":{"Ref":"MessagesTable05B58A27"}}},"handler":"stream.handler","memorySize":10240,"role":{"Fn::GetAtt":["WebSocketLambdaRole0DF09B59","Arn"]},"runtime":"python3.11","timeout":900}}}}},"WebSocketApi":{"id":"WebSocketApi","path":"JournalismFaithfulStackDev/WebSocketApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketApi","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"description":"실시간 스트리밍을 위한 WebSocket API","name":"journalism-faithful-websocket-api","protocolType":"WEBSOCKET","routeSelectionExpression":"$request.body.action"}}},"$connect-Route":{"id":"$connect-Route","path":"JournalismFaithfulStackDev/WebSocketApi/$connect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.208.0","metadata":[]},"children":{"ConnectIntegration-Permission":{"id":"ConnectIntegration-Permission","path":"JournalismFaithfulStackDev/WebSocketApi/$connect-Route/ConnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WebSocketConnectFunction72183AC0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"WebSocketApi34BCF99B"},"/*$connect"]]}}}},"ConnectIntegration":{"id":"ConnectIntegration","path":"JournalismFaithfulStackDev/WebSocketApi/$connect-Route/ConnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketApi/$connect-Route/ConnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WebSocketConnectFunction72183AC0","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketApi/$connect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$connect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApiconnectRouteConnectIntegration7F1E0FDE"}]]}}}}}},"$disconnect-Route":{"id":"$disconnect-Route","path":"JournalismFaithfulStackDev/WebSocketApi/$disconnect-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.208.0","metadata":[]},"children":{"DisconnectIntegration-Permission":{"id":"DisconnectIntegration-Permission","path":"JournalismFaithfulStackDev/WebSocketApi/$disconnect-Route/DisconnectIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WebSocketDisconnectFunction189772FC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"WebSocketApi34BCF99B"},"/*$disconnect"]]}}}},"DisconnectIntegration":{"id":"DisconnectIntegration","path":"JournalismFaithfulStackDev/WebSocketApi/$disconnect-Route/DisconnectIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketApi/$disconnect-Route/DisconnectIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WebSocketDisconnectFunction189772FC","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketApi/$disconnect-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"$disconnect","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApidisconnectRouteDisconnectIntegration94C91381"}]]}}}}}},"stream-Route":{"id":"stream-Route","path":"JournalismFaithfulStackDev/WebSocketApi/stream-Route","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketRoute","version":"2.208.0","metadata":[]},"children":{"StreamIntegration-Permission":{"id":"StreamIntegration-Permission","path":"JournalismFaithfulStackDev/WebSocketApi/stream-Route/StreamIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["WebSocketStreamFunctionB192D3D1","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-northeast-2:887078546492:",{"Ref":"WebSocketApi34BCF99B"},"/*stream"]]}}}},"StreamIntegration":{"id":"StreamIntegration","path":"JournalismFaithfulStackDev/WebSocketApi/stream-Route/StreamIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketIntegration","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketApi/stream-Route/StreamIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-northeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["WebSocketStreamFunctionB192D3D1","Arn"]},"/invocations"]]}}}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketApi/stream-Route/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"authorizationType":"NONE","routeKey":"stream","target":{"Fn::Join":["",["integrations/",{"Ref":"WebSocketApistreamRouteStreamIntegration2DA44F3C"}]]}}}}}}}},"WebSocketStage":{"id":"WebSocketStage","path":"JournalismFaithfulStackDev/WebSocketStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.WebSocketStage","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"WebSocketApi34BCF99B"},"autoDeploy":true,"stageName":"prod"}}}}},"WebSocketApiUrl":{"id":"WebSocketApiUrl","path":"JournalismFaithfulStackDev/WebSocketApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"GenerateErrorAlarm":{"id":"GenerateErrorAlarm","path":"JournalismFaithfulStackDev/GenerateErrorAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/GenerateErrorAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Generate Lambda 함수 오류율이 높습니다","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"GenerateFunctionD11A7A28"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":3}}}}},"SavePromptErrorAlarm":{"id":"SavePromptErrorAlarm","path":"JournalismFaithfulStackDev/SavePromptErrorAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/SavePromptErrorAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"SavePrompt Lambda 함수 오류율이 높습니다","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"SavePromptFunction071F515F"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":3}}}}},"WebSocketStreamErrorAlarm":{"id":"WebSocketStreamErrorAlarm","path":"JournalismFaithfulStackDev/WebSocketStreamErrorAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/WebSocketStreamErrorAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"WebSocketStream Lambda 함수 오류율이 높습니다","comparisonOperator":"GreaterThanOrEqualToThreshold","dimensions":[{"name":"FunctionName","value":{"Ref":"WebSocketStreamFunctionB192D3D1"}}],"evaluationPeriods":2,"metricName":"Errors","namespace":"AWS/Lambda","period":300,"statistic":"Sum","threshold":3}}}}},"BatchJobsTable":{"id":"BatchJobsTable","path":"JournalismFaithfulStackDev/BatchJobsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BatchJobsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"job_id","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"job_id","keyType":"HASH"}],"tableName":"journalism-faithful-batch-jobs-dev","timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"JournalismFaithfulStackDev/BatchJobsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}}}},"BatchQueue":{"id":"BatchQueue","path":"JournalismFaithfulStackDev/BatchQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BatchQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"journalism-faithful-batch-queue-dev","receiveMessageWaitTimeSeconds":20,"visibilityTimeout":900}}}}},"BatchLambdaRole":{"id":"BatchLambdaRole","path":"JournalismFaithfulStackDev/BatchLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportBatchLambdaRole":{"id":"ImportBatchLambdaRole","path":"JournalismFaithfulStackDev/BatchLambdaRole/ImportBatchLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BatchLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonBedrockFullAccess"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulStackDev/BatchLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulStackDev/BatchLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:ReceiveMessage","sqs:DeleteMessage","sqs:GetQueueAttributes","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:GetItem","s3:GetObject","bedrock:InvokeModel","execute-api:ManageConnections"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["BatchQueue28C25975","Arn"]},{"Fn::GetAtt":["BatchJobsTable2D1384BC","Arn"]},{"Fn::GetAtt":["PromptMetaTable0A0B3876","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PromptBucket1668FD1C","Arn"]},"/*"]]},"arn:aws:execute-api:ap-northeast-2:887078546492:*/*/*"]}],"Version":"2012-10-17"},"policyName":"BatchLambdaRoleDefaultPolicy3F25F2CB","roles":[{"Ref":"BatchLambdaRole6C54EF21"}]}}}}}}},"ApiGatewayUrl":{"id":"ApiGatewayUrl","path":"JournalismFaithfulStackDev/ApiGatewayUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"PromptBucketName":{"id":"PromptBucketName","path":"JournalismFaithfulStackDev/PromptBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"ArticleBucketName":{"id":"ArticleBucketName","path":"JournalismFaithfulStackDev/ArticleBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"UserPoolId":{"id":"UserPoolId","path":"JournalismFaithfulStackDev/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"JournalismFaithfulStackDev/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"JournalismFaithfulStackDev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"JournalismFaithfulStackDev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"Exports":{"id":"Exports","path":"JournalismFaithfulStackDev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"BedrockDiyApi1AA2182A\"}":{"id":"Output{\"Ref\":\"BedrockDiyApi1AA2182A\"}","path":"JournalismFaithfulStackDev/Exports/Output{\"Ref\":\"BedrockDiyApi1AA2182A\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"Output{\"Ref\":\"BedrockDiyApiDeploymentStageprod6FFD6E49\"}":{"id":"Output{\"Ref\":\"BedrockDiyApiDeploymentStageprod6FFD6E49\"}","path":"JournalismFaithfulStackDev/Exports/Output{\"Ref\":\"BedrockDiyApiDeploymentStageprod6FFD6E49\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"JournalismFaithfulStackDev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"JournalismFaithfulStackDev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"JournalismFaithfulFrontendStackDev":{"id":"JournalismFaithfulFrontendStackDev","path":"JournalismFaithfulFrontendStackDev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.208.0"},"children":{"WebsiteBucket":{"id":"WebsiteBucket","path":"JournalismFaithfulFrontendStackDev/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"title-generator-frontend-dev-887078546492-ap-northeast-2","lifecycleConfiguration":{"rules":[{"abortIncompleteMultipartUpload":{"daysAfterInitiation":7},"noncurrentVersionExpiration":{"noncurrentDays":7},"status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:d2b0658e","value":"true"}]}}},"Policy":{"id":"Policy","path":"JournalismFaithfulFrontendStackDev/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebsiteBucket75C24D94"},"policyDocument":{"Statement":[{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":"arn:aws:cloudfront::887078546492:distribution/*"}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"Distribution830FAC52"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"JournalismFaithfulFrontendStackDev/WebsiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"JournalismFaithfulFrontendStackDev/WebsiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"JournalismFaithfulFrontendStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.208.0"},"children":{"Staging":{"id":"Staging","path":"JournalismFaithfulFrontendStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"Role":{"id":"Role","path":"JournalismFaithfulFrontendStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}},"Handler":{"id":"Handler","path":"JournalismFaithfulFrontendStackDev/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"OAC":{"id":"OAC","path":"JournalismFaithfulFrontendStackDev/OAC","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/OAC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"description":{"Fn::Join":["",["OAC for ",{"Ref":"WebsiteBucket75C24D94"}]]},"name":{"Fn::Join":["",["OAC-",{"Ref":"WebsiteBucket75C24D94"}]]},"signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}},"Distribution":{"id":"Distribution","path":"JournalismFaithfulFrontendStackDev/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.208.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"JournalismFaithfulFrontendStackDev/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin2":{"id":"Origin2","path":"JournalismFaithfulFrontendStackDev/Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin3":{"id":"Origin3","path":"JournalismFaithfulFrontendStackDev/Distribution/Origin3","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Origin4":{"id":"Origin4","path":"JournalismFaithfulFrontendStackDev/Distribution/Origin4","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"JournalismFaithfulFrontendStackDevDistributionOrigin132FA275C","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}},{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"JournalismFaithfulFrontendStackDevDistributionOrigin2F13C81E9","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}},{"domainName":{"Fn::GetAtt":["WebsiteBucket75C24D94","RegionalDomainName"]},"id":"JournalismFaithfulFrontendStackDevDistributionOrigin33ADFD145","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["OAC5B452445","Id"]}},{"domainName":{"Fn::Select":[2,{"Fn::Split":["/",{"Fn::Join":["",["https://",{"Fn::ImportValue":"JournalismFaithfulStackDev:ExportsOutputRefBedrockDiyApi1AA2182A3686DE39"},".execute-api.ap-northeast-2.",{"Ref":"AWS::URLSuffix"},"/",{"Fn::ImportValue":"JournalismFaithfulStackDev:ExportsOutputRefBedrockDiyApiDeploymentStageprod6FFD6E4934FCC1BA"},"/"]]}]}]},"id":"JournalismFaithfulFrontendStackDevDistributionOrigin47193DF08","originPath":{"Fn::Join":["",["/",{"Fn::ImportValue":"JournalismFaithfulStackDev:ExportsOutputRefBedrockDiyApiDeploymentStageprod6FFD6E4934FCC1BA"}]]},"customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"https-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"JournalismFaithfulFrontendStackDevDistributionOrigin132FA275C","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","responseHeadersPolicyId":"67f7725c-6f97-4210-82d7-5512b31e9d03","viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"*.js","targetOriginId":"JournalismFaithfulFrontendStackDevDistributionOrigin2F13C81E9","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.css","targetOriginId":"JournalismFaithfulFrontendStackDevDistributionOrigin33ADFD145","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/api/*","targetOriginId":"JournalismFaithfulFrontendStackDevDistributionOrigin47193DF08","allowedMethods":["GET","HEAD","OPTIONS","PUT","PATCH","POST","DELETE"],"cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"216adef6-5c7f-47e4-b989-5492eafa07d3","viewerProtocolPolicy":"redirect-to-https"}],"comment":"Dynamic Prompt System Frontend Distribution","customErrorResponses":[{"errorCachingMinTtl":1800,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":1800,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"priceClass":"PriceClass_100"}}}}}},"DeployWebsite":{"id":"DeployWebsite","path":"JournalismFaithfulFrontendStackDev/DeployWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.208.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.208.0","metadata":[]},"children":{"Code":{"id":"Code","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.208.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"CustomResource-512MiB-512MiB":{"id":"CustomResource-512MiB-512MiB","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/CustomResource-512MiB-512MiB","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.208.0","metadata":[]},"children":{"Default":{"id":"Default","path":"JournalismFaithfulFrontendStackDev/DeployWebsite/CustomResource-512MiB-512MiB/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.208.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.208.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.208.0","metadata":[]}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.208.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-887078546492-ap-northeast-2"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-887078546492-ap-northeast-2/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WebsiteBucket75C24D94","Arn"]},"/*"]]}]},{"Action":["cloudfront:GetInvalidation","cloudfront:CreateInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiBServiceRoleDefaultPolicyEA2DA91D","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiBServiceRoleCFA2F118"}]}}}}}}},"Code":{"id":"Code","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.208.0"},"children":{"Stage":{"id":"Stage","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.208.0"}},"AssetBucket":{"id":"AssetBucket","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.208.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"JournalismFaithfulFrontendStackDev/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.208.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-887078546492-ap-northeast-2","s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"ephemeralStorage":{"size":512},"handler":"index.handler","layers":[{"Ref":"DeployWebsiteAwsCliLayer17DBC421"}],"memorySize":512,"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C512MiB512MiBServiceRoleCFA2F118","Arn"]},"runtime":"python3.11","timeout":900}}}}},"WebsiteURL":{"id":"WebsiteURL","path":"JournalismFaithfulFrontendStackDev/WebsiteURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"BucketName":{"id":"BucketName","path":"JournalismFaithfulFrontendStackDev/BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"DistributionId":{"id":"DistributionId","path":"JournalismFaithfulFrontendStackDev/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"DistributionDomainName":{"id":"DistributionDomainName","path":"JournalismFaithfulFrontendStackDev/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.208.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"JournalismFaithfulFrontendStackDev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"JournalismFaithfulFrontendStackDev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.208.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"JournalismFaithfulFrontendStackDev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.208.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"JournalismFaithfulFrontendStackDev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.208.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}