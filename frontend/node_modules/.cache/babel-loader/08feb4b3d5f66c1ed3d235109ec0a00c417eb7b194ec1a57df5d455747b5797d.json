{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React from \"react\"; // Added for useDebounce\n\n// API ê¸°ë³¸ URL (í™˜ê²½ ë³€ìˆ˜ ë˜ëŠ” ê¸°ë³¸ê°’)\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"https://vph0fu827a.execute-api.us-east-1.amazonaws.com/prod\";\n\n// ì‹¤ì œ Bedrock Claude API ì‚¬ìš©\nconst IS_MOCK_MODE = true; // ğŸš¨ ì„ì‹œë¡œ Mock ëª¨ë“œ í™œì„±í™” (ë°°í¬ ë¬¸ì œ í•´ê²°ê¹Œì§€)\n\n// Axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n// ìš”ì²­ ì¸í„°ì…‰í„°\napi.interceptors.request.use(config => {\n  var _config$method;\n  console.log(\"API ìš”ì²­:\", (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(), config.url);\n\n  // ğŸš¨ ì„ì‹œ ë¹„í™œì„±í™”: ë¡œê·¸ì¸ ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ì¸ì¦ í† í° ì „ì†¡ ë¹„í™œì„±í™”\n  // TODO: ë°±ì—”ë“œ ê¸°ìˆ ì´ ì•ˆì •í™”ë˜ë©´ ì•„ë˜ ì£¼ì„ì„ í•´ì œí•˜ì—¬ ì¸ì¦ í™œì„±í™”\n  // const token = localStorage.getItem(\"idToken\") || localStorage.getItem(\"accessToken\") || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0LXVzZXIiLCJuYW1lIjoiVGVzdCBVc2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiaWF0IjoxNjE2MjM5MDIyfQ.test\";\n  // if (token) {\n  //   config.headers.Authorization = `Bearer ${token}`;\n  // }\n\n  console.log(\"ğŸ§ª ê°œë°œ ëª¨ë“œ: ì¸ì¦ í† í° ì „ì†¡ ë¹„í™œì„±í™”\");\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// ì‘ë‹µ ì¸í„°ì…‰í„°\napi.interceptors.response.use(response => {\n  console.log(\"API ì‘ë‹µ:\", response.status, response.config.url);\n  return response;\n}, error => {\n  var _error$response, _error$response2, _error$response3;\n  console.error(\"API ì˜¤ë¥˜:\", (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status, ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n\n  // 401 ì˜¤ë¥˜ ì‹œ í† í° ê°±ì‹  ì‹œë„ ë˜ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸\n  if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n    // í† í° ë§Œë£Œ ì²˜ë¦¬\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"idToken\");\n    localStorage.removeItem(\"refreshToken\");\n\n    // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ì‹¤ì œ êµ¬í˜„ ì‹œ React Router ì‚¬ìš©)\n    window.location.href = \"/login\";\n  }\n  return Promise.reject(error);\n});\n\n// í”„ë¡œì íŠ¸ ê´€ë ¨ API\nexport const projectAPI = {\n  // í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ\n  getProjects: async (params = {}) => {\n    // ğŸš¨ ê°œë°œ ëª¨ë“œ: ìƒ˜í”Œ í”„ë¡œì íŠ¸ ë°ì´í„° ë°˜í™˜\n    console.log(\"ğŸ§ª ê°œë°œ ëª¨ë“œ: í”„ë¡œì íŠ¸ API í˜¸ì¶œ ê±´ë„ˆë›°ê¸° - ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©\");\n    return {\n      projects: [{\n        projectId: \"6cbf88e5-e295-4377-9075-be0fc469704e\",\n        name: \"ì„œìš¸ê²½ì œì‹ ë¬¸ AI ì œëª© ìƒì„± ì‹œìŠ¤í…œ\",\n        description: \"ë‰´ìŠ¤ ê¸°ì‚¬ ì œëª© ìë™ ìƒì„±ì„ ìœ„í•œ AI ì‹œìŠ¤í…œ\",\n        category: \"news\",\n        createdAt: \"2024-01-15T10:00:00Z\",\n        updatedAt: \"2024-01-15T10:00:00Z\",\n        status: \"active\",\n        promptCount: 6,\n        generationCount: 150\n      }],\n      totalCount: 1,\n      page: 1,\n      limit: 10\n    };\n\n    // API í˜¸ì¶œ ë¶€ë¶„ì€ ì„ì‹œ ë¹„í™œì„±í™”\n    // const response = await api.get(\"/projects\", { params });\n    // return response.data;\n  },\n  // í”„ë¡œì íŠ¸ ìƒì„±\n  createProject: async projectData => {\n    const response = await api.post(\"/projects\", projectData);\n    return response.data;\n  },\n  // í”„ë¡œì íŠ¸ ìƒì„¸ ì¡°íšŒ\n  getProject: async projectId => {\n    // ğŸš¨ ê°œë°œ ëª¨ë“œ: ìƒ˜í”Œ í”„ë¡œì íŠ¸ ìƒì„¸ ë°ì´í„° ë°˜í™˜\n    console.log(\"ğŸ§ª ê°œë°œ ëª¨ë“œ: í”„ë¡œì íŠ¸ ìƒì„¸ API í˜¸ì¶œ ê±´ë„ˆë›°ê¸° - ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©\", projectId);\n    return {\n      projectId: projectId,\n      name: \"ì„œìš¸ê²½ì œì‹ ë¬¸ AI ì œëª© ìƒì„± ì‹œìŠ¤í…œ\",\n      description: \"ë‰´ìŠ¤ ê¸°ì‚¬ ì œëª© ìë™ ìƒì„±ì„ ìœ„í•œ AI ì‹œìŠ¤í…œ\",\n      category: \"news\",\n      createdAt: \"2024-01-15T10:00:00Z\",\n      updatedAt: \"2024-01-15T10:00:00Z\",\n      status: \"active\",\n      promptCount: 6,\n      generationCount: 150,\n      settings: {\n        model: \"us.anthropic.claude-3-5-sonnet-20241022-v2:0\",\n        temperature: 0.7,\n        maxTokens: 2500\n      }\n    };\n\n    // API í˜¸ì¶œ ë¶€ë¶„ì€ ì„ì‹œ ë¹„í™œì„±í™”\n    // const response = await api.get(`/projects/${projectId}`);\n    // return response.data;\n  },\n  // í”„ë¡œì íŠ¸ ì—…ë°ì´íŠ¸\n  updateProject: async (projectId, projectData) => {\n    const response = await api.put(`/projects/${projectId}`, projectData);\n    return response.data;\n  },\n  // í”„ë¡œì íŠ¸ ì‚­ì œ\n  deleteProject: async projectId => {\n    const response = await api.delete(`/projects/${projectId}`);\n    return response.data;\n  },\n  // ì—…ë¡œë“œ URL ìš”ì²­\n  getUploadUrl: async (projectId, category, filename) => {\n    const response = await api.get(`/projects/${projectId}/upload-url`, {\n      params: {\n        category,\n        filename\n      }\n    });\n    return response.data;\n  }\n};\n\n// ì œëª© ìƒì„± API (Step Functions ê¸°ë°˜)\nexport const generateAPI = {\n  // ì œëª© ìƒì„± ì‹œì‘ (Step Functions ì‹¤í–‰)\n  startTitleGeneration: async (projectId, article, aiSettings) => {\n    const payload = {\n      article\n    };\n\n    // AI ì„¤ì •ì´ ìˆìœ¼ë©´ ì¶”ê°€\n    if (aiSettings) {\n      payload.aiSettings = aiSettings;\n    }\n    const response = await api.post(`/projects/${projectId}/generate`, payload);\n    return response.data;\n  },\n  // ì‹¤í–‰ ìƒíƒœ ì¡°íšŒ\n  getExecutionStatus: async executionArn => {\n    const encodedArn = encodeURIComponent(executionArn);\n    const response = await api.get(`/executions/${encodedArn}`);\n    return response.data;\n  },\n  // í´ë§ì„ í†µí•œ ê²°ê³¼ ëŒ€ê¸°\n  pollForResult: async (executionArn, maxRetries = 30, interval = 2000) => {\n    if (!executionArn || executionArn === \"undefined\") {\n      return {\n        success: false,\n        error: \"ì‹¤í–‰ ARNì´ ì—†ìŠµë‹ˆë‹¤. ì§ì ‘ ëª¨ë“œì—ì„œëŠ” í´ë§ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\"\n      };\n    }\n    let retries = 0;\n    while (retries < maxRetries) {\n      try {\n        const status = await generateAPI.getExecutionStatus(executionArn);\n        if (status.status === \"SUCCEEDED\") {\n          return {\n            success: true,\n            data: status\n          };\n        } else if (status.status === \"FAILED\") {\n          return {\n            success: false,\n            error: status.error || \"ì‹¤í–‰ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤\"\n          };\n        } else if (status.status === \"TIMED_OUT\") {\n          return {\n            success: false,\n            error: \"ì‹¤í–‰ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤\"\n          };\n        } else if (status.status === \"ABORTED\") {\n          return {\n            success: false,\n            error: \"ì‹¤í–‰ì´ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤\"\n          };\n        }\n\n        // ì•„ì§ ì‹¤í–‰ ì¤‘ì´ë©´ ëŒ€ê¸°\n        await new Promise(resolve => setTimeout(resolve, interval));\n        retries++;\n      } catch (error) {\n        console.error(\"í´ë§ ì¤‘ ì˜¤ë¥˜:\", error);\n        retries++;\n        if (retries >= maxRetries) {\n          return {\n            success: false,\n            error: \"ìƒíƒœ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤\"\n          };\n        }\n        await new Promise(resolve => setTimeout(resolve, interval));\n      }\n    }\n    return {\n      success: false,\n      error: \"ì‹¤í–‰ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤\"\n    };\n  },\n  // ì œëª© ìƒì„± (ì§ì ‘ ëª¨ë“œ + Step Functions ëª¨ë“œ ì§€ì›)\n  generateTitle: async (projectId, article, onProgress, aiSettings) => {\n    try {\n      // ì œëª© ìƒì„± ì‹œì‘\n      const startResponse = await generateAPI.startTitleGeneration(projectId, article, aiSettings);\n\n      // ì§ì ‘ ëª¨ë“œì¸ ê²½ìš° (modeê°€ 'direct'ì´ê±°ë‚˜ resultê°€ ë°”ë¡œ ìˆëŠ” ê²½ìš°)\n      if (startResponse.mode === \"direct\" || startResponse.result) {\n        if (onProgress) {\n          onProgress({\n            status: \"completed\",\n            message: \"ì œëª© ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\",\n            result: startResponse.result\n          });\n        }\n        return {\n          conversationId: startResponse.executionId || \"direct-\" + Date.now(),\n          projectId: projectId,\n          result: startResponse.result,\n          usage: startResponse.usage || {},\n          timestamp: startResponse.timestamp || new Date().toISOString(),\n          mode: \"direct\",\n          debug: startResponse.debug || {}\n        };\n      }\n\n      // Step Functions ëª¨ë“œì¸ ê²½ìš°\n      if (startResponse.executionArn) {\n        if (onProgress) {\n          onProgress({\n            status: \"started\",\n            message: \"ì œëª© ìƒì„±ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤...\",\n            executionArn: startResponse.executionArn\n          });\n        }\n\n        // í´ë§ì„ í†µí•œ ê²°ê³¼ ëŒ€ê¸°\n        const pollResponse = await generateAPI.pollForResult(startResponse.executionArn);\n        if (pollResponse.success) {\n          return {\n            conversationId: pollResponse.data.conversationId,\n            projectId: projectId,\n            result: pollResponse.data.result,\n            usage: pollResponse.data.usage,\n            timestamp: pollResponse.data.completedAt || new Date().toISOString(),\n            executionArn: startResponse.executionArn,\n            mode: \"stepfunctions\"\n          };\n        } else {\n          throw new Error(pollResponse.error);\n        }\n      }\n      throw new Error(\"ì•Œ ìˆ˜ ì—†ëŠ” ì‘ë‹µ í˜•ì‹ì…ë‹ˆë‹¤\");\n    } catch (error) {\n      console.error(\"ì œëª© ìƒì„± ì‹¤íŒ¨:\", error);\n      throw error;\n    }\n  }\n};\n\n// ğŸ†• í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ê´€ë¦¬ API\nexport const promptCardAPI = {\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ëª©ë¡ ì¡°íšŒ (step_order ìˆœìœ¼ë¡œ ì •ë ¬)\n  getPromptCards: async (projectId, includeContent = false, includeDisabled = false) => {\n    if (IS_MOCK_MODE) {\n      console.log(\"ğŸ­ ê°œì„ ëœ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ëª©ë¡ (localStorage ê¸°ë°˜)\");\n\n      // localStorageì—ì„œ ìˆ˜ì •ëœ í”„ë¡¬í”„íŠ¸ë“¤ ê°€ì ¸ì˜¤ê¸°\n      const savedPrompts = JSON.parse(localStorage.getItem(`prompts_${projectId}`) || \"{}\");\n      const defaultPrompts = [{\n        promptId: \"template-instruction\",\n        id: \"template-instruction\",\n        title: \"ì—­í•  ë° ëª©í‘œ í”„ë¡¬í”„íŠ¸\",\n        category: \"instruction\",\n        enabled: true,\n        stepOrder: 1,\n        s3Key: \"prompts/instruction.txt\",\n        description: \"AIì˜ ì—­í• , ì •ì²´ì„±, í•µì‹¬ ëª©í‘œë¥¼ ëª…í™•íˆ ì •ì˜í•©ë‹ˆë‹¤\",\n        prompt_text: savedPrompts.instruction || \"ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ ê¸°ì‚¬ ì œëª© ìƒì„± AIì…ë‹ˆë‹¤.\\nëª©í‘œ: ë…ìì˜ ê´€ì‹¬ì„ ëŒê³  ì •í™•í•œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ì œëª© ìƒì„±\"\n      }, {\n        promptId: \"template-knowledge\",\n        id: \"template-knowledge\",\n        title: \"ì§€ì‹ ë² ì´ìŠ¤ í”„ë¡¬í”„íŠ¸\",\n        category: \"knowledge\",\n        enabled: true,\n        stepOrder: 2,\n        s3Key: \"prompts/knowledge.txt\",\n        description: \"ì‘ì—… ìˆ˜í–‰ì— í•„ìš”í•œ í•µì‹¬ ì§€ì‹ê³¼ ì›ì¹™ì„ ì œê³µí•©ë‹ˆë‹¤\",\n        prompt_text: savedPrompts.knowledge || \"ì œëª© ì‘ì„± ì›ì¹™:\\n- ê°„ê²°í•˜ê³  ëª…í™•í•œ í‘œí˜„\\n- í•µì‹¬ í‚¤ì›Œë“œ í¬í•¨\\n- ë…ìì˜ ê´€ì‹¬ ìœ ë°œ\"\n      }, {\n        promptId: \"template-secondary\",\n        id: \"template-secondary\",\n        title: \"CoT (ì‚¬ê³  ê³¼ì •) í”„ë¡¬í”„íŠ¸\",\n        category: \"secondary\",\n        enabled: true,\n        stepOrder: 3,\n        s3Key: \"prompts/secondary.txt\",\n        description: \"ë‹¨ê³„ë³„ ì¶”ë¡  ê³¼ì •ì„ í†µí•´ ì‚¬ê³ ì˜ íˆ¬ëª…ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤\",\n        prompt_text: savedPrompts.secondary || \"ë‹¤ìŒ ë‹¨ê³„ë¡œ ì‚¬ê³ í•˜ì„¸ìš”:\\n1. ê¸°ì‚¬ì˜ í•µì‹¬ ë‚´ìš© íŒŒì•…\\n2. ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ\\n3. ë…ì ê´€ì ì—ì„œ í¥ë¯¸ë„ í‰ê°€\\n4. ì œëª© í›„ë³´ ìƒì„±\\n5. ìµœì  ì œëª© ì„ íƒ\"\n      }, {\n        promptId: \"template-style_guide\",\n        id: \"template-style_guide\",\n        title: \"ìŠ¤íƒ€ì¼ ê°€ì´ë“œ í”„ë¡¬í”„íŠ¸\",\n        category: \"style_guide\",\n        enabled: true,\n        stepOrder: 4,\n        s3Key: \"prompts/style_guide.txt\",\n        description: \"ì¼ê´€ëœ ìŠ¤íƒ€ì¼ê³¼ í˜•ì‹ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ê°€ì´ë“œë¼ì¸\",\n        prompt_text: savedPrompts.style_guide || \"ìŠ¤íƒ€ì¼ ìš”êµ¬ì‚¬í•­:\\n- ê¸¸ì´: 15-25ì ê¶Œì¥\\n- í†¤: ì „ë¬¸ì ì´ë©´ì„œ ì¹œê·¼\\n- í˜•ì‹: ëª…ì‚¬í˜• ì¢…ê²°\"\n      }, {\n        promptId: \"template-validation\",\n        id: \"template-validation\",\n        title: \"ReAct (ì¶”ë¡ +í–‰ë™) í”„ë¡¬í”„íŠ¸\",\n        category: \"validation\",\n        enabled: true,\n        stepOrder: 5,\n        s3Key: \"prompts/validation.txt\",\n        description: \"ì¶”ë¡ ê³¼ í–‰ë™ì„ ê²°í•©í•˜ì—¬ ë” ì •í™•í•œ ê²°ê³¼ë¥¼ ë„ì¶œí•©ë‹ˆë‹¤\",\n        prompt_text: savedPrompts.validation || \"Thought: ì´ ê¸°ì‚¬ì˜ í•µì‹¬ì€ ë¬´ì—‡ì¸ê°€?\\nAction: í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ê³  ì¤‘ìš”ë„ë¥¼ í‰ê°€í•œë‹¤\\nObservation: ì¶”ì¶œëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì œëª©ì„ êµ¬ì„±í•œë‹¤\\nThought: ìƒì„±ëœ ì œëª©ì´ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ê°€?\\nAction: í•„ìš”ì‹œ ìˆ˜ì •í•˜ê³  ìµœì¢… ê²€ì¦í•œë‹¤\"\n      }, {\n        promptId: \"template-enhancement\",\n        id: \"template-enhancement\",\n        title: \"í’ˆì§ˆ ê²€ì¦ í”„ë¡¬í”„íŠ¸\",\n        category: \"enhancement\",\n        enabled: true,\n        stepOrder: 6,\n        s3Key: \"prompts/enhancement.txt\",\n        description: \"ìµœì¢… ê²°ê³¼ë¬¼ì˜ í’ˆì§ˆì„ ê²€ì¦í•˜ê³  ê°œì„ í•©ë‹ˆë‹¤\",\n        prompt_text: savedPrompts.enhancement || \"í’ˆì§ˆ ê²€ì¦ ê¸°ì¤€:\\n- ì •í™•ì„±: ê¸°ì‚¬ ë‚´ìš©ê³¼ ì¼ì¹˜\\n- ë§¤ë ¥ë„: ë…ì ê´€ì‹¬ ìœ ë°œ\\n- ì ì ˆì„±: ë§¤ì²´ ì„±ê²©ì— ë¶€í•©\\n- ì™„ì„±ë„: ë¬¸ë²•ê³¼ í‘œí˜„ì˜ ì •í™•ì„±\"\n      }];\n      return {\n        projectId,\n        promptCards: defaultPrompts,\n        count: defaultPrompts.length\n      };\n    }\n    const params = {};\n    if (includeContent) params.include_content = \"true\";\n    if (includeDisabled) params.include_disabled = \"true\";\n    console.log(\"ğŸ§ª í”„ë¡¬í”„íŠ¸ API í˜¸ì¶œ ì‹œë„:\", {\n      url: `/prompts/${projectId}`,\n      params,\n      baseURL: API_BASE_URL\n    });\n    try {\n      const response = await api.get(`/prompts/${projectId}`, {\n        params\n      });\n      console.log(\"ğŸ§ª í”„ë¡¬í”„íŠ¸ API í˜¸ì¶œ ì„±ê³µ:\", response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response4, _error$response5, _error$response6, _error$response7;\n      console.error(\"ğŸ§ª í”„ë¡¬í”„íŠ¸ API í˜¸ì¶œ ì‹¤íŒ¨:\", {\n        status: (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status,\n        statusText: (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.statusText,\n        data: (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data,\n        headers: (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.headers,\n        message: error.message\n      });\n      throw error;\n    }\n  },\n  // ìƒˆ í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìƒì„±\n  createPromptCard: async (projectId, promptData) => {\n    const response = await api.post(`/prompts/${projectId}`, promptData);\n    return response.data;\n  },\n  // ìƒˆ í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìƒì„±\n  createPromptCard: async (projectId, promptData) => {\n    if (IS_MOCK_MODE) {\n      console.log(\"ğŸ­ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìƒì„± ì‹œë®¬ë ˆì´ì…˜\", {\n        projectId,\n        promptData\n      });\n\n      // localStorageì— ì €ì¥\n      const savedPrompts = JSON.parse(localStorage.getItem(`prompts_${projectId}`) || \"{}\");\n      savedPrompts[promptData.category] = promptData.prompt_text || promptData.content;\n      localStorage.setItem(`prompts_${projectId}`, JSON.stringify(savedPrompts));\n      return {\n        success: true,\n        message: \"í”„ë¡¬í”„íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤\",\n        promptId: `template-${promptData.category}`\n      };\n    }\n    const response = await api.post(`/prompts/${projectId}`, promptData);\n    return response.data;\n  },\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìˆ˜ì •\n  updatePromptCard: async (projectId, promptId, promptData) => {\n    if (IS_MOCK_MODE) {\n      console.log(\"ğŸ­ ê°œì„ ëœ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìˆ˜ì • (localStorage ì €ì¥)\", {\n        projectId,\n        promptId,\n        promptData\n      });\n\n      // promptIdì—ì„œ ì¹´í…Œê³ ë¦¬ ì¶”ì¶œ (template-instruction -> instruction)\n      const category = promptId.replace(\"template-\", \"\");\n\n      // localStorageì— ì €ì¥\n      const savedPrompts = JSON.parse(localStorage.getItem(`prompts_${projectId}`) || \"{}\");\n      savedPrompts[category] = promptData.prompt_text || promptData.content;\n      localStorage.setItem(`prompts_${projectId}`, JSON.stringify(savedPrompts));\n      console.log(\"ğŸ’¾ localStorageì— ì €ì¥ëœ í”„ë¡¬í”„íŠ¸:\", savedPrompts);\n      return {\n        success: true,\n        message: \"í”„ë¡¬í”„íŠ¸ê°€ ìˆ˜ì •ë˜ì–´ localStorageì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤\",\n        category,\n        savedContent: savedPrompts[category]\n      };\n    }\n    const response = await api.put(`/prompts/${projectId}/${promptId}`, promptData);\n    return response.data;\n  },\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ì‚­ì œ\n  deletePromptCard: async (projectId, promptId) => {\n    const response = await api.delete(`/prompts/${projectId}/${promptId}`);\n    return response.data;\n  },\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìˆœì„œ ë³€ê²½\n  reorderPromptCard: async (projectId, promptId, newStepOrder) => {\n    const response = await api.put(`/prompts/${projectId}/${promptId}`, {\n      step_order: newStepOrder\n    });\n    return response.data;\n  },\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ í™œì„±/ë¹„í™œì„± í† ê¸€\n  togglePromptCard: async (projectId, promptId, enabled) => {\n    const response = await api.put(`/prompts/${projectId}/${promptId}`, {\n      enabled: enabled\n    });\n    return response.data;\n  },\n  // í”„ë¡¬í”„íŠ¸ ë‚´ìš© ì¡°íšŒ (S3ì—ì„œ ì§ì ‘ ë¡œë“œ)\n  getPromptContent: async (projectId, promptId) => {\n    if (IS_MOCK_MODE) {\n      console.log(\"ğŸ­ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ë‚´ìš© ì¡°íšŒ ì‹œë®¬ë ˆì´ì…˜\", {\n        projectId,\n        promptId\n      });\n      const mockContents = {\n        \"template-instruction\": \"ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ ê¸°ì‚¬ ì œëª© ìƒì„± AIì…ë‹ˆë‹¤.\\nëª©í‘œ: ë…ìì˜ ê´€ì‹¬ì„ ëŒê³  ì •í™•í•œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ì œëª© ìƒì„±\",\n        \"template-knowledge\": \"ì œëª© ì‘ì„± ì›ì¹™:\\n- ê°„ê²°í•˜ê³  ëª…í™•í•œ í‘œí˜„\\n- í•µì‹¬ í‚¤ì›Œë“œ í¬í•¨\\n- ë…ìì˜ ê´€ì‹¬ ìœ ë°œ\",\n        \"template-secondary\": \"ë‹¤ìŒ ë‹¨ê³„ë¡œ ì‚¬ê³ í•˜ì„¸ìš”:\\n1. ê¸°ì‚¬ì˜ í•µì‹¬ ë‚´ìš© íŒŒì•…\\n2. ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ\\n3. ë…ì ê´€ì ì—ì„œ í¥ë¯¸ë„ í‰ê°€\\n4. ì œëª© í›„ë³´ ìƒì„±\\n5. ìµœì  ì œëª© ì„ íƒ\"\n      };\n      return {\n        projectId,\n        promptId,\n        content: mockContents[promptId] || \"ìƒ˜í”Œ í”„ë¡¬í”„íŠ¸ ë‚´ìš©ì…ë‹ˆë‹¤.\",\n        lastModified: new Date().toISOString()\n      };\n    }\n    const response = await api.get(`/prompts/${projectId}/${promptId}/content`);\n    return response.data;\n  }\n};\n\n// ğŸ†• ì¸ì¦ API\nexport const authAPI = {\n  // íšŒì›ê°€ì…\n  signup: async userData => {\n    const response = await api.post(\"/auth/signup\", userData);\n    return response.data;\n  },\n  // ë¡œê·¸ì¸\n  signin: async credentials => {\n    const response = await api.post(\"/auth/signin\", credentials);\n    const {\n      accessToken,\n      idToken,\n      refreshToken\n    } = response.data;\n\n    // í† í° ì €ì¥\n    localStorage.setItem(\"accessToken\", accessToken);\n    localStorage.setItem(\"idToken\", idToken);\n    localStorage.setItem(\"refreshToken\", refreshToken);\n    return response.data;\n  },\n  // ë¡œê·¸ì•„ì›ƒ\n  signout: async () => {\n    try {\n      await api.post(\"/auth/signout\");\n    } finally {\n      // ë¡œì»¬ í† í° ì‚­ì œ\n      localStorage.removeItem(\"accessToken\");\n      localStorage.removeItem(\"idToken\");\n      localStorage.removeItem(\"refreshToken\");\n    }\n  },\n  // í† í° ê°±ì‹ \n  refreshToken: async () => {\n    const refreshToken = localStorage.getItem(\"refreshToken\");\n    if (!refreshToken) {\n      throw new Error(\"ë¦¬í”„ë ˆì‹œ í† í°ì´ ì—†ìŠµë‹ˆë‹¤\");\n    }\n    const response = await api.post(\"/auth/refresh\", {\n      refreshToken\n    });\n    const {\n      accessToken,\n      idToken\n    } = response.data;\n\n    // ìƒˆ í† í° ì €ì¥\n    localStorage.setItem(\"accessToken\", accessToken);\n    localStorage.setItem(\"idToken\", idToken);\n    return response.data;\n  },\n  // ì´ë©”ì¼ ì¸ì¦\n  verifyEmail: async verificationData => {\n    const response = await api.post(\"/auth/verify\", verificationData);\n    return response.data;\n  },\n  // ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°\n  forgotPassword: async email => {\n    const response = await api.post(\"/auth/forgot-password\", {\n      email\n    });\n    return response.data;\n  },\n  // ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •\n  confirmPassword: async resetData => {\n    const response = await api.post(\"/auth/confirm-password\", resetData);\n    return response.data;\n  },\n  // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ (í† í°ì—ì„œ ì¶”ì¶œ)\n  getCurrentUser: () => {\n    const token = localStorage.getItem(\"idToken\");\n    if (!token) return null;\n    try {\n      // JWT í† í° ë””ì½”ë”© (ê°„ë‹¨í•œ ë°©ë²• - ì‹¤ì œë¡œëŠ” jwt-decode ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¶Œì¥)\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      return {\n        email: payload.email,\n        name: payload.name,\n        sub: payload.sub\n      };\n    } catch (error) {\n      console.error(\"í† í° ë””ì½”ë”© ì˜¤ë¥˜:\", error);\n      return null;\n    }\n  },\n  // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸\n  isAuthenticated: () => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (!token) return false;\n    try {\n      // í† í° ë§Œë£Œ ì‹œê°„ í™•ì¸\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      const currentTime = Date.now() / 1000;\n      return payload.exp > currentTime;\n    } catch (error) {\n      return false;\n    }\n  }\n};\n\n// íŒŒì¼ ì—…ë¡œë“œ API\nexport const uploadAPI = {\n  // S3 Pre-signed URLë¡œ íŒŒì¼ ì—…ë¡œë“œ\n  uploadFile: async (uploadUrl, file) => {\n    const response = await axios.put(uploadUrl, file, {\n      headers: {\n        \"Content-Type\": \"text/plain\"\n      }\n    });\n    return response;\n  }\n};\n\n// ğŸ†• í”„ë¡¬í”„íŠ¸ ì¹´í…Œê³ ë¦¬ ì •ì˜ (ë ˆê±°ì‹œ - ê¸°ì¡´ íŒŒì¼ ì—…ë¡œë“œìš©)\nexport const PROMPT_CATEGORIES = [{\n  id: \"title_type_guidelines\",\n  name: \"ì œëª© ìœ í˜• ê°€ì´ë“œë¼ì¸\",\n  description: \"ì œëª©ì˜ ë‹¤ì–‘í•œ ìœ í˜•ê³¼ ì‘ì„± ì›ì¹™\",\n  required: true\n}, {\n  id: \"stylebook_guidelines\",\n  name: \"ìŠ¤íƒ€ì¼ë¶ ê°€ì´ë“œë¼ì¸\",\n  description: \"ì„œìš¸ê²½ì œì‹ ë¬¸ì˜ ìŠ¤íƒ€ì¼ë¶ ê·œì •\",\n  required: true\n}, {\n  id: \"workflow\",\n  name: \"ì›Œí¬í”Œë¡œìš°\",\n  description: \"ì œëª© ìƒì„± 6ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°\",\n  required: true\n}, {\n  id: \"audience_optimization\",\n  name: \"ë…ì ìµœì í™”\",\n  description: \"ëŒ€ìƒ ë…ìì¸µë³„ ìµœì í™” ì „ëµ\",\n  required: true\n}, {\n  id: \"seo_optimization\",\n  name: \"SEO ìµœì í™”\",\n  description: \"ê²€ìƒ‰ ì—”ì§„ ìµœì í™” ê°€ì´ë“œë¼ì¸\",\n  required: false\n}, {\n  id: \"digital_elements_guidelines\",\n  name: \"ë””ì§€í„¸ ìš”ì†Œ ê°€ì´ë“œë¼ì¸\",\n  description: \"ì˜¨ë¼ì¸ ë§¤ì²´ íŠ¹ì„±ì— ë§ëŠ” ì œëª© ì‘ì„±ë²•\",\n  required: true\n}, {\n  id: \"quality_assessment\",\n  name: \"í’ˆì§ˆ í‰ê°€\",\n  description: \"ì œëª© í’ˆì§ˆ í‰ê°€ ê¸°ì¤€\",\n  required: true\n}, {\n  id: \"uncertainty_handling\",\n  name: \"ë¶ˆí™•ì‹¤ì„± ì²˜ë¦¬\",\n  description: \"ë¶ˆí™•ì‹¤í•œ ì •ë³´ ì²˜ë¦¬ ê°€ì´ë“œë¼ì¸\",\n  required: true\n}, {\n  id: \"output_format\",\n  name: \"ì¶œë ¥ í˜•ì‹\",\n  description: \"ê²°ê³¼ ì¶œë ¥ í˜•ì‹ ì •ì˜\",\n  required: true\n}, {\n  id: \"description\",\n  name: \"í”„ë¡œì íŠ¸ ì„¤ëª…\",\n  description: \"TITLE-NOMICS ì‹œìŠ¤í…œ ì„¤ëª…\",\n  required: true\n}, {\n  id: \"knowledge\",\n  name: \"í•µì‹¬ ì§€ì‹\",\n  description: \"ì œëª© ì‘ì„± í•µì‹¬ ì§€ì‹\",\n  required: true\n}];\n\n// ğŸ†• í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ì¹´í…Œê³ ë¦¬ ì •ì˜ (ìƒˆë¡œìš´ ì¹´ë“œ ì‹œìŠ¤í…œìš©)\n// í”„ë¡¬í”„íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì¹´í…Œê³ ë¦¬ ì²´ê³„\nexport const PROMPT_CARD_CATEGORIES = [{\n  id: \"role\",\n  name: \"ì—­í•  (Role)\",\n  description: \"ëª¨ë¸ì´ ë§¡ê²Œ ë  í˜ë¥´ì†Œë‚˜ ë° ì—­í•  ì •ì˜\",\n  color: \"purple\",\n  icon: \"ğŸ­\",\n  order: 1,\n  orchestration_step: \"persona_definition\"\n}, {\n  id: \"guideline\",\n  name: \"ê°€ì´ë“œë¼ì¸ (Guideline)\",\n  description: \"ëª…í™•í•œ ì œí•œì‚¬í•­, ë£°, ì¡°ê±´\",\n  color: \"blue\",\n  icon: \"ğŸ“¦\",\n  order: 2,\n  orchestration_step: \"constraint_definition\"\n}, {\n  id: \"workflow\",\n  name: \"ì›Œí¬í”Œë¡œìš° (Workflow)\",\n  description: \"ì‘ì—…ì„ ìˆ˜í–‰í•  ë‹¨ê³„, ìˆœì„œ\",\n  color: \"green\",\n  icon: \"ğŸ§©\",\n  order: 3,\n  orchestration_step: \"process_execution\"\n}, {\n  id: \"output_format\",\n  name: \"ì¶œë ¥ê²°ê³¼ (Output Format)\",\n  description: \"ìµœì¢… ê²°ê³¼ë¬¼ í¬ë§· ì •ì˜\",\n  color: \"orange\",\n  icon: \"ğŸ¯\",\n  order: 4,\n  orchestration_step: \"format_validation\"\n}, {\n  id: \"few_shot\",\n  name: \"ì˜ˆì‹œ (Few-shot)\",\n  description: \"few-shot learning ì˜ˆì œ\",\n  color: \"yellow\",\n  icon: \"ğŸ’¡\",\n  order: 5,\n  orchestration_step: \"example_learning\"\n}, {\n  id: \"scoring\",\n  name: \"ê²€ìˆ˜ (Scoring)\",\n  description: \"ê²€ìˆ˜ ê·œì¹™ ë° í‰ê°€ ê¸°ì¤€\",\n  color: \"red\",\n  icon: \"ğŸ”\",\n  order: 6,\n  orchestration_step: \"quality_assessment\"\n}];\n\n// ì‚¬ìš© ê°€ëŠ¥í•œ AI ëª¨ë¸ ëª©ë¡\nexport const AVAILABLE_MODELS = [{\n  id: \"us.anthropic.claude-3-5-sonnet-20241022-v2:0\",\n  name: \"Claude 3.5 Sonnet (ìµœì‹ )\",\n  description: \"ê°€ì¥ ìµœì‹ ì´ê³  ì„±ëŠ¥ì´ ë›°ì–´ë‚œ ëª¨ë¸\",\n  maxTokens: 200000\n}, {\n  id: \"us.anthropic.claude-3-sonnet-20240229-v1:0\",\n  name: \"Claude 3 Sonnet\",\n  description: \"ê· í˜•ì¡íŒ ì„±ëŠ¥ê³¼ ì†ë„\",\n  maxTokens: 200000\n}, {\n  id: \"us.anthropic.claude-3-haiku-20240307-v1:0\",\n  name: \"Claude 3 Haiku\",\n  description: \"ë¹ ë¥¸ ì†ë„, íš¨ìœ¨ì ì¸ ì²˜ë¦¬\",\n  maxTokens: 200000\n}, {\n  id: \"anthropic.claude-instant-v1\",\n  name: \"Claude Instant\",\n  description: \"ì¦‰ì‹œ ì‘ë‹µ, ê°„ë‹¨í•œ ì‘ì—…ìš©\",\n  maxTokens: 100000\n}, {\n  id: \"amazon.titan-text-lite-v1\",\n  name: \"Titan Text Lite\",\n  description: \"ê°€ë²¼ìš´ í…ìŠ¤íŠ¸ ì²˜ë¦¬\",\n  maxTokens: 4000\n}, {\n  id: \"amazon.titan-text-express-v1\",\n  name: \"Titan Text Express\",\n  description: \"ë¹ ë¥¸ í…ìŠ¤íŠ¸ ìƒì„±\",\n  maxTokens: 8000\n}];\n\n// ì—ëŸ¬ í•¸ë“¤ë§ ìœ í‹¸ë¦¬í‹°\nexport const handleAPIError = error => {\n  if (error.response) {\n    // ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜\n    const {\n      status,\n      data\n    } = error.response;\n    return {\n      message: (data === null || data === void 0 ? void 0 : data.error) || `ì„œë²„ ì˜¤ë¥˜ (${status})`,\n      status\n    };\n  } else if (error.request) {\n    // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜\n    return {\n      message: \"ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”\",\n      status: 0\n    };\n  } else {\n    // ê¸°íƒ€ ì˜¤ë¥˜\n    return {\n      message: error.message || \"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤\",\n      status: -1\n    };\n  }\n};\n\n// ê¸°ë³¸ í”„ë¡œì íŠ¸ ì¹´í…Œê³ ë¦¬ ì •ì˜ (ì´ëª¨ì§€ ì œê±°, ì „ë¬¸ì  ë””ìì¸)\nexport const DEFAULT_PROJECT_CATEGORIES = [{\n  id: \"news\",\n  name: \"ë‰´ìŠ¤/ì–¸ë¡ \",\n  color: \"blue\",\n  description: \"ë‰´ìŠ¤ ê¸°ì‚¬, ì–¸ë¡  ë³´ë„ ì œëª© ìƒì„±\",\n  isDefault: true\n}, {\n  id: \"business\",\n  name: \"ë¹„ì¦ˆë‹ˆìŠ¤\",\n  color: \"green\",\n  description: \"ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì„œ, ê¸°ì—… ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\",\n  isDefault: true\n}, {\n  id: \"corporate\",\n  name: \"ê¸°ì—… í™ë³´\",\n  color: \"purple\",\n  description: \"ê¸°ì—… í™ë³´, ë§ˆì¼€íŒ… ì½˜í…ì¸ \",\n  isDefault: true\n}, {\n  id: \"education\",\n  name: \"êµìœ¡/ì—°êµ¬\",\n  color: \"orange\",\n  description: \"êµìœ¡ ìë£Œ, ì—°êµ¬ ë…¼ë¬¸, í•™ìˆ  ìë£Œ\",\n  isDefault: true\n}, {\n  id: \"marketing\",\n  name: \"ë§ˆì¼€íŒ…/ê´‘ê³ \",\n  color: \"yellow\",\n  description: \"ê´‘ê³  ì¹´í”¼, ë§ˆì¼€íŒ… ìº í˜ì¸\",\n  isDefault: true\n}, {\n  id: \"social\",\n  name: \"ì†Œì…œë¯¸ë””ì–´\",\n  color: \"indigo\",\n  description: \"SNS í¬ìŠ¤íŒ…, ì†Œì…œ ì½˜í…ì¸ \",\n  isDefault: true\n}, {\n  id: \"tech\",\n  name: \"ê¸°ìˆ /IT\",\n  color: \"cyan\",\n  description: \"ê¸°ìˆ  ë¬¸ì„œ, IT ë‰´ìŠ¤, ê°œë°œ ê´€ë ¨\",\n  isDefault: true\n}];\n\n// ì‚¬ìš©ì ì •ì˜ ì¹´í…Œê³ ë¦¬ API\nexport const categoryAPI = {\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ\n  getUserCategories: async () => {\n    // ğŸš¨ ê°œë°œ ëª¨ë“œ: API í˜¸ì¶œ ê±´ë„ˆë›°ê³  ë°”ë¡œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n    console.log(\"ğŸ§ª ê°œë°œ ëª¨ë“œ: ì¹´í…Œê³ ë¦¬ API í˜¸ì¶œ ê±´ë„ˆë›°ê¸° - ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\");\n    const savedCategories = localStorage.getItem(\"userCategories\");\n    if (savedCategories) {\n      return JSON.parse(savedCategories);\n    }\n    return {\n      categories: DEFAULT_PROJECT_CATEGORIES\n    };\n\n    // API í˜¸ì¶œ ë¶€ë¶„ì€ ì„ì‹œ ë¹„í™œì„±í™”\n    // try {\n    //   const response = await api.get(\"/categories\");\n    //   return response.data;\n    // } catch (error) {\n    //   // ë°±ì—”ë“œ APIê°€ ì—†ëŠ” ê²½ìš° ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n    //   const savedCategories = localStorage.getItem(\"userCategories\");\n    //   if (savedCategories) {\n    //     return JSON.parse(savedCategories);\n    //   }\n    //   return { categories: DEFAULT_PROJECT_CATEGORIES };\n    // }\n  },\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ìƒì„±\n  createCategory: async categoryData => {\n    try {\n      const response = await api.post(\"/categories\", categoryData);\n      return response.data;\n    } catch (error) {\n      // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n      const savedCategories = localStorage.getItem(\"userCategories\");\n      const categories = savedCategories ? JSON.parse(savedCategories) : {\n        categories: [...DEFAULT_PROJECT_CATEGORIES]\n      };\n      const newCategory = {\n        ...categoryData,\n        id: `custom_${Date.now()}`,\n        isDefault: false,\n        createdAt: new Date().toISOString()\n      };\n      categories.categories.push(newCategory);\n      localStorage.setItem(\"userCategories\", JSON.stringify(categories));\n      return newCategory;\n    }\n  },\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ìˆ˜ì •\n  updateCategory: async (categoryId, categoryData) => {\n    try {\n      const response = await api.put(`/categories/${categoryId}`, categoryData);\n      return response.data;\n    } catch (error) {\n      // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n      const savedCategories = localStorage.getItem(\"userCategories\");\n      const categories = savedCategories ? JSON.parse(savedCategories) : {\n        categories: [...DEFAULT_PROJECT_CATEGORIES]\n      };\n      const categoryIndex = categories.categories.findIndex(cat => cat.id === categoryId);\n      if (categoryIndex !== -1) {\n        categories.categories[categoryIndex] = {\n          ...categories.categories[categoryIndex],\n          ...categoryData,\n          updatedAt: new Date().toISOString()\n        };\n        localStorage.setItem(\"userCategories\", JSON.stringify(categories));\n        return categories.categories[categoryIndex];\n      }\n      throw new Error(\"ì¹´í…Œê³ ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n    }\n  },\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ì‚­ì œ\n  deleteCategory: async categoryId => {\n    try {\n      const response = await api.delete(`/categories/${categoryId}`);\n      return response.data;\n    } catch (error) {\n      // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n      const savedCategories = localStorage.getItem(\"userCategories\");\n      const categories = savedCategories ? JSON.parse(savedCategories) : {\n        categories: [...DEFAULT_PROJECT_CATEGORIES]\n      };\n      const categoryIndex = categories.categories.findIndex(cat => cat.id === categoryId);\n      if (categoryIndex !== -1) {\n        categories.categories.splice(categoryIndex, 1);\n        localStorage.setItem(\"userCategories\", JSON.stringify(categories));\n        return {\n          success: true\n        };\n      }\n      throw new Error(\"ì¹´í…Œê³ ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n    }\n  }\n};\n\n// í”„ë¡œì íŠ¸ ì¹´í…Œê³ ë¦¬ ë³€ê²½ API\nexport const projectCategoryAPI = {\n  // í”„ë¡œì íŠ¸ ì¹´í…Œê³ ë¦¬ ë³€ê²½\n  updateProjectCategory: async (projectId, categoryId) => {\n    try {\n      const response = await api.put(`/projects/${projectId}/category`, {\n        category: categoryId\n      });\n      return response.data;\n    } catch (error) {\n      // ì„ì‹œë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì²˜ë¦¬ (ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œì—ì„œ ì²˜ë¦¬í•´ì•¼ í•¨)\n      console.log(`í”„ë¡œì íŠ¸ ${projectId}ì˜ ì¹´í…Œê³ ë¦¬ë¥¼ ${categoryId}ë¡œ ë³€ê²½`);\n      return {\n        success: true,\n        projectId,\n        category: categoryId\n      };\n    }\n  }\n};\n\n//í”„ë¡œì íŠ¸ í†µê³„ ì •ë³´ API\nexport const projectStatsAPI = {\n  // í”„ë¡œì íŠ¸ ìƒì„¸ í†µê³„ ì¡°íšŒ\n  getProjectStats: async projectId => {\n    const response = await api.get(`/projects/${projectId}/stats`);\n    return response.data;\n  },\n  // ëª¨ë“  í”„ë¡œì íŠ¸ í†µê³„ ìš”ì•½\n  getAllProjectsStats: async () => {\n    const response = await api.get(\"/projects/stats\");\n    return response.data;\n  }\n};\n\n// í”„ë¡¬í”„íŠ¸ í†µê³„ ì •ë³´ ê³„ì‚° ìœ í‹¸ë¦¬í‹°\nexport const calculatePromptStats = promptCards => {\n  const stats = {\n    totalCards: promptCards.length,\n    activeCards: promptCards.filter(card => card.enabled !== false).length,\n    totalTokens: 0,\n    totalSize: 0,\n    avgTokensPerCard: 0,\n    categories: new Set(),\n    models: new Set(),\n    temperatureRange: {\n      min: 1,\n      max: 0\n    }\n  };\n  promptCards.forEach(card => {\n    // ì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘\n    stats.categories.add(card.category);\n\n    // ëª¨ë¸ ìˆ˜ì§‘\n    stats.models.add(card.model);\n\n    // í”„ë¡¬í”„íŠ¸ í…ìŠ¤íŠ¸ í†µê³„\n    if (card.prompt_text) {\n      const textLength = card.prompt_text.length;\n      stats.totalSize += textLength;\n\n      // ëŒ€ëµì ì¸ í† í° ìˆ˜ ê³„ì‚° (ì˜ì–´: 4ì/í† í°, í•œêµ­ì–´: 2ì/í† í°)\n      const estimatedTokens = Math.ceil(textLength / 2.5);\n      stats.totalTokens += estimatedTokens;\n    }\n\n    // ì˜¨ë„ ë²”ìœ„ ê³„ì‚°\n    const temp = parseFloat(card.temperature);\n    if (temp < stats.temperatureRange.min) stats.temperatureRange.min = temp;\n    if (temp > stats.temperatureRange.max) stats.temperatureRange.max = temp;\n  });\n\n  // í‰ê·  í† í° ê³„ì‚°\n  stats.avgTokensPerCard = stats.totalCards > 0 ? Math.round(stats.totalTokens / stats.totalCards) : 0;\n\n  // Setì„ ë°°ì—´ë¡œ ë³€í™˜\n  stats.categories = Array.from(stats.categories);\n  stats.models = Array.from(stats.models);\n  return stats;\n};\n\n// ìŠ¤ë§ˆíŠ¸ ì œëª© ìƒì„± í•¨ìˆ˜ (ì‹¤ì œ ë‰´ìŠ¤ ë¶„ì„)\nconst generateSmartTitles = (articleContent, userRequest = \"\") => {\n  const content = articleContent.toLowerCase();\n\n  // ë” ì •êµí•œ ë¶„ì„\n  const analysis = analyzeArticleContent(content);\n  const keywords = extractRealKeywords(content);\n\n  // ì‚¬ìš©ì ìš”ì²­ ë¶„ì„\n  const isShortRequest = userRequest.includes(\"ì§§ê²Œ\") || userRequest.includes(\"ê°„ê²°\") || userRequest.includes(\"ë‹¨ìˆœ\");\n  const isImpactfulRequest = userRequest.includes(\"ì„íŒ©íŠ¸\") || userRequest.includes(\"ê°•ë ¬\") || userRequest.includes(\"ëˆˆì— ë„\");\n  const isConservativeRequest = userRequest.includes(\"ë³´ìˆ˜ì \") || userRequest.includes(\"ì•ˆì „\") || userRequest.includes(\"ì „ë¬¸ì \");\n  console.log(\"ğŸ“° ê¸°ì‚¬ ë¶„ì„ ê²°ê³¼:\", analysis);\n  console.log(\"ğŸ”‘ ì¶”ì¶œëœ í‚¤ì›Œë“œ:\", keywords);\n\n  // ì‹¤ì œ ê¸°ì‚¬ ë‚´ìš© ê¸°ë°˜ ì œëª© ìƒì„±\n  const titles = [];\n\n  // ê¸°ë³¸ì ì¸ ì‚¬ì‹¤ ì „ë‹¬í˜• ì œëª©ë“¤\n  if (analysis.mainSubject && analysis.mainAction) {\n    titles.push(`${analysis.mainSubject} ${analysis.mainAction}`);\n    titles.push(`${analysis.mainSubject}, ${analysis.mainAction} ë‚˜ì„œ`);\n  }\n\n  // êµ¬ì²´ì  ì •ë³´ê°€ ìˆëŠ” ê²½ìš°\n  if (analysis.specificInfo) {\n    titles.push(`${analysis.mainSubject} ${analysis.specificInfo} ${analysis.mainAction}`);\n  }\n\n  // ì‹œì /ì „ë§ ì •ë³´ê°€ ìˆëŠ” ê²½ìš°\n  if (analysis.timeframe || analysis.target) {\n    const timeInfo = analysis.timeframe || analysis.target;\n    titles.push(`${analysis.mainSubject}, ${timeInfo} ${analysis.mainAction} ê³„íš`);\n  }\n\n  // ê²°ê³¼/íš¨ê³¼ ì¤‘ì‹¬ ì œëª©\n  if (analysis.expectedResult) {\n    titles.push(`${analysis.mainSubject} ${analysis.mainAction}ë¡œ ${analysis.expectedResult} ë…¸ë¦°ë‹¤`);\n  }\n\n  // í´ë°±: ê¸°ë³¸ ì œëª©ë“¤\n  if (titles.length < 3) {\n    titles.push(`${analysis.mainSubject || \"ê¸°ì—…\"} ìƒˆë¡œìš´ ë„ì „`);\n    titles.push(`ì£¼ëª©ë°›ëŠ” ${analysis.mainAction || \"ì‚¬ì—… ì „ëµ\"}`);\n    titles.push(`${analysis.industry || \"ì—…ê³„\"} ë³€í™” ë°”ëŒ`);\n  }\n\n  // ì‚¬ìš©ì ìš”ì²­ì— ë”°ë¥¸ ì œëª© ì¡°ì •\n  let finalTitles = titles.slice(0, 5);\n  if (isShortRequest) {\n    // ì§§ì€ ì œëª© ìš”ì²­ ì‹œ ê¸€ì ìˆ˜ ì¶•ì•½\n    finalTitles = finalTitles.map(title => {\n      if (title.length > 20) {\n        return title.substring(0, 18) + \"..\";\n      }\n      return title;\n    });\n  }\n  if (isImpactfulRequest) {\n    // ì„íŒ©íŠ¸ ê°•í™” ìš”ì²­ ì‹œ ê°•ë ¬í•œ í‘œí˜„ ì¶”ê°€\n    finalTitles = finalTitles.map(title => {\n      if (!title.includes(\"!\") && !title.includes(\"ì£¼ëª©\")) {\n        return title.replace(/ê³„íš|ì˜ˆì •/, \"í™•ì •\").replace(/ì¶”ì§„|ì§„í–‰/, \"ë‹¨í–‰\");\n      }\n      return title;\n    });\n  }\n  if (isConservativeRequest) {\n    // ë³´ìˆ˜ì  ìš”ì²­ ì‹œ ì•ˆì •ì  í‘œí˜„ìœ¼ë¡œ ë³€ê²½\n    finalTitles = finalTitles.map(title => {\n      return title.replace(/ê²Œì„ì²´ì¸ì €|ìŠ¹ë¶€ìˆ˜/, \"ì „ëµ\").replace(/!/, \"\");\n    });\n  }\n\n  // userRequestê°€ ìˆìœ¼ë©´ ì²« ë²ˆì§¸ ì œëª©ì— ë°˜ì˜ ìƒíƒœ í‘œì‹œ\n  const requestNote = userRequest ? `\\n\\nğŸ’¡ \"${userRequest}\" ìš”ì²­ì„ ë°˜ì˜í•˜ì—¬ ìƒì„±í–ˆìŠµë‹ˆë‹¤.` : \"\";\n  return finalTitles.map((title, i) => `${i + 1}. ${title}`).join(\"\\n\") + requestNote;\n};\n\n// ì‹¤ì œ ê¸°ì‚¬ ë‚´ìš© ë¶„ì„ í•¨ìˆ˜\nconst analyzeArticleContent = content => {\n  // íšŒì‚¬ëª… ì¶”ì¶œ\n  const companies = [\"lgì „ì\", \"lg\", \"ì—˜ì§€ì „ì\", \"ì‚¼ì„±ì „ì\", \"ì‚¼ì„±\", \"skí•˜ì´ë‹‰ìŠ¤\", \"sk\", \"í˜„ëŒ€ìë™ì°¨\", \"í˜„ëŒ€\", \"í¬ìŠ¤ì½”\", \"ë„¤ì´ë²„\", \"ì¹´ì¹´ì˜¤\", \"ì¿ íŒ¡\", \"kt\", \"skt\", \"ë¡¯ë°\", \"ì‹ ì„¸ê³„\", \"í•˜ë‚˜ê¸ˆìœµ\", \"ìš°ë¦¬ì€í–‰\", \"kbê¸ˆìœµ\", \"ê¸°ì•„\", \"ë‘ì‚°\", \"gs\", \"í•œí™”\", \"ls\", \"ì˜¤ë¦¬ì˜¨\", \"cj\"];\n  const foundCompany = companies.find(company => content.includes(company));\n\n  // ì•¡ì…˜ ë™ì‚¬ ì¶”ì¶œ\n  const actions = [{\n    keywords: [\"ì¶œì‹œ\", \"ëŸ°ì¹­\", \"ë°œí‘œ\"],\n    action: \"ì¶œì‹œ\"\n  }, {\n    keywords: [\"ê°œë°œ\", \"ì—°êµ¬\", \"ì œì‘\"],\n    action: \"ê°œë°œ\"\n  }, {\n    keywords: [\"ì¸ìˆ˜\", \"í•©ë³‘\", \"íˆ¬ì\"],\n    action: \"íˆ¬ì\"\n  }, {\n    keywords: [\"ì§„ì¶œ\", \"í™•ì¥\", \"ì§„ì…\"],\n    action: \"ì§„ì¶œ\"\n  }, {\n    keywords: [\"ê³„íš\", \"ì˜ˆì •\", \"ì¶”ì§„\"],\n    action: \"ì¶”ì§„\"\n  }, {\n    keywords: [\"í˜‘ë ¥\", \"ì œíœ´\", \"íŒŒíŠ¸ë„ˆì‹­\"],\n    action: \"í˜‘ë ¥\"\n  }, {\n    keywords: [\"êµ¬ì¶•\", \"ì„¤ë¦½\", \"ê±´ì„¤\"],\n    action: \"êµ¬ì¶•\"\n  }];\n  const foundAction = actions.find(actionGroup => actionGroup.keywords.some(keyword => content.includes(keyword)));\n\n  // êµ¬ì²´ì  ì •ë³´ ì¶”ì¶œ\n  const specificTerms = [\"ai\", \"ì¸ê³µì§€ëŠ¥\", \"ë°˜ë„ì²´\", \"hbm\", \"ì „ê¸°ì°¨\", \"ev\", \"ë°°í„°ë¦¬\", \"ì†Œí”„íŠ¸ì›¨ì–´\", \"í”Œë«í¼\", \"ì„œë¹„ìŠ¤\", \"ì†”ë£¨ì…˜\", \"ì‹œìŠ¤í…œ\", \"ê¸°ìˆ \", \"ì¥ë¹„\", \"ì œí’ˆ\"];\n  const foundSpecific = specificTerms.find(term => content.includes(term));\n\n  // ì‹œê°„ ê´€ë ¨ ì •ë³´\n  const timeframes = [\"2024ë…„\", \"2025ë…„\", \"2026ë…„\", \"ë‚´ë…„\", \"ì˜¬í•´\", \"ìƒë°˜ê¸°\", \"í•˜ë°˜ê¸°\", \"1ë¶„ê¸°\", \"2ë¶„ê¸°\", \"3ë¶„ê¸°\", \"4ë¶„ê¸°\", \"ì—°ë§\", \"ì—°ì´ˆ\"];\n  const foundTimeframe = timeframes.find(time => content.includes(time));\n\n  // ëª©í‘œ/ê²°ê³¼ ê´€ë ¨\n  const results = [\"ë§¤ì¶œ ì¦ëŒ€\", \"ì‹œì¥ ì ìœ ìœ¨\", \"ê²½ìŸë ¥ ê°•í™”\", \"ìˆ˜ìµì„± ê°œì„ \", \"ê¸€ë¡œë²Œ ì§„ì¶œ\", \"ë””ì§€í„¸ ì „í™˜\", \"íƒ„ì†Œì¤‘ë¦½\", \"esg\", \"ì§€ì†ê°€ëŠ¥\"];\n  const foundResult = results.find(result => content.includes(result));\n\n  // ì‚°ì—… ë¶„ì•¼\n  const industries = [\"ë°˜ë„ì²´\", \"ìë™ì°¨\", \"ê¸ˆìœµ\", \"ìœ í†µ\", \"í†µì‹ \", \"ê±´ì„¤\", \"ì—ë„ˆì§€\", \"ë°”ì´ì˜¤\", \"ê²Œì„\", \"it\", \"ì†Œí”„íŠ¸ì›¨ì–´\", \"í•˜ë“œì›¨ì–´\"];\n  const foundIndustry = industries.find(industry => content.includes(industry));\n\n  // íšŒì‚¬ëª… ì •ë¦¬\n  let cleanCompany = foundCompany;\n  if (foundCompany) {\n    if (foundCompany === \"lg\" || foundCompany === \"lgì „ì\") cleanCompany = \"LGì „ì\";else if (foundCompany === \"ì‚¼ì„±\" || foundCompany === \"ì‚¼ì„±ì „ì\") cleanCompany = \"ì‚¼ì„±ì „ì\";else if (foundCompany === \"sk\" || foundCompany === \"skí•˜ì´ë‹‰ìŠ¤\") cleanCompany = \"SKí•˜ì´ë‹‰ìŠ¤\";else if (foundCompany === \"í˜„ëŒ€\" || foundCompany === \"í˜„ëŒ€ìë™ì°¨\") cleanCompany = \"í˜„ëŒ€ìë™ì°¨\";else cleanCompany = foundCompany;\n  }\n  return {\n    mainSubject: cleanCompany || extractSubjectFromSentence(content),\n    mainAction: foundAction ? foundAction.action : \"ë°œí‘œ\",\n    specificInfo: foundSpecific,\n    timeframe: foundTimeframe,\n    expectedResult: foundResult,\n    industry: foundIndustry\n  };\n};\n\n// ë¬¸ì¥ì—ì„œ ì£¼ì–´ ì¶”ì¶œ (ê°„ë‹¨í•œ ë°©ì‹)\nconst extractSubjectFromSentence = content => {\n  const sentences = content.split(/[.!?]/).filter(s => s.length > 10);\n  if (sentences.length === 0) return \"ê¸°ì—…\";\n  const firstSentence = sentences[0].trim();\n  const words = firstSentence.split(\" \");\n\n  // ì²« ë²ˆì§¸ ë¬¸ì¥ì˜ ì²« ë²ˆì§¸ ë‹¨ì–´ê°€ ì£¼ì–´ì¸ ê²½ìš°ê°€ ë§ìŒ\n  if (words.length > 0) {\n    const subject = words[0].replace(/[^ê°€-í£a-zA-Z0-9]/g, \"\");\n    if (subject.length > 1) {\n      return subject;\n    }\n  }\n  return \"ê¸°ì—…\";\n};\n\n// ì‹¤ì œ í‚¤ì›Œë“œ ì¶”ì¶œ (ë¹ˆë„ ê¸°ë°˜)\nconst extractRealKeywords = content => {\n  const commonWords = [\"ê·¸ëŠ”\", \"ê·¸ë…€ëŠ”\", \"ì´ëŠ”\", \"ì´ë²ˆ\", \"ìµœê·¼\", \"ë‹¹ì‹œ\", \"í˜„ì¬\", \"ì•ì„œ\", \"ë˜í•œ\", \"í•˜ì§€ë§Œ\", \"ê·¸ëŸ¬ë‚˜\", \"ë”°ë¼ì„œ\"];\n  const words = content.split(/\\s+/).map(word => word.replace(/[^ê°€-í£a-zA-Z0-9]/g, \"\")).filter(word => word.length > 1 && !commonWords.includes(word));\n\n  // ë¹ˆë„ ê³„ì‚°\n  const frequency = {};\n  words.forEach(word => {\n    frequency[word] = (frequency[word] || 0) + 1;\n  });\n\n  // ìƒìœ„ í‚¤ì›Œë“œ ë°˜í™˜\n  return Object.entries(frequency).sort(([, a], [, b]) => b - a).slice(0, 5).map(([word]) => word);\n};\n\n// ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ë¥¼ ë°˜ì˜í•œ ì œëª© ìƒì„± (Bedrock Claude ì‹œë®¬ë ˆì´ì…˜)\nconst generateTitlesWithUserPrompts = (articleContent, userRequest = \"\", savedPrompts = {}) => {\n  console.log(\"ğŸ§  Claude ì‹œë®¬ë ˆì´ì…˜: ë‹¨ê³„ë³„ í”„ë¡¬í”„íŠ¸ ì²˜ë¦¬\");\n\n  // 1ë‹¨ê³„: ì—­í•  ë° ëª©í‘œ (instruction)\n  const rolePrompt = savedPrompts.instruction || \"ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ ê¸°ì‚¬ ì œëª© ìƒì„± AIì…ë‹ˆë‹¤.\";\n  console.log(\"1ï¸âƒ£ ì—­í•  ì •ì˜:\", rolePrompt.substring(0, 50) + \"...\");\n\n  // 2ë‹¨ê³„: ì§€ì‹ ë² ì´ìŠ¤ (knowledge)\n  const knowledgePrompt = savedPrompts.knowledge || \"ì œëª© ì‘ì„± ì›ì¹™: ê°„ê²°í•˜ê³  ëª…í™•í•œ í‘œí˜„\";\n  console.log(\"2ï¸âƒ£ ì§€ì‹ ë² ì´ìŠ¤:\", knowledgePrompt.substring(0, 50) + \"...\");\n\n  // 3ë‹¨ê³„: ì‚¬ê³  ê³¼ì • (secondary - CoT)\n  const reasoningPrompt = savedPrompts.secondary || \"ë‹¨ê³„ë³„ ì‚¬ê³  ê³¼ì •ì„ ê±°ì³ ì œëª©ì„ ìƒì„±í•©ë‹ˆë‹¤.\";\n  console.log(\"3ï¸âƒ£ ì‚¬ê³  ê³¼ì •:\", reasoningPrompt.substring(0, 50) + \"...\");\n\n  // ê¸°ì‚¬ ë¶„ì„\n  const analysis = analyzeArticleContent(articleContent.toLowerCase());\n\n  // ì‚¬ìš©ì ìš”ì²­ ë¶„ì„\n  const isShortRequest = userRequest.includes(\"ì§§ê²Œ\") || userRequest.includes(\"ê°„ê²°\");\n  const isImpactfulRequest = userRequest.includes(\"ì„íŒ©íŠ¸\") || userRequest.includes(\"ê°•ë ¬\") || userRequest.includes(\"ëˆˆì— ë„\");\n  const isConservativeRequest = userRequest.includes(\"ë³´ìˆ˜ì \") || userRequest.includes(\"ì•ˆì „\");\n\n  // Claude ìŠ¤íƒ€ì¼ì˜ ì œëª© ìƒì„± (ë‹¨ê³„ë³„ í”„ë¡¬í”„íŠ¸ ë°˜ì˜)\n  const titles = [];\n\n  // ê¸°ë³¸ ì •ë³´ ì „ë‹¬í˜• (knowledge í”„ë¡¬í”„íŠ¸ ë°˜ì˜)\n  if (analysis.mainSubject && analysis.mainAction) {\n    let title1 = `${analysis.mainSubject} ${analysis.mainAction}`;\n    let title2 = `${analysis.mainSubject}, ${analysis.mainAction} ê³„íš`;\n\n    // ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì ìš©\n    if (savedPrompts.style_guide) {\n      if (savedPrompts.style_guide.includes(\"ê°„ê²°\") || isShortRequest) {\n        title1 = title1.length > 15 ? title1.substring(0, 13) + \"..\" : title1;\n        title2 = title2.length > 15 ? title2.substring(0, 13) + \"..\" : title2;\n      }\n    }\n    titles.push(title1);\n    titles.push(title2);\n  }\n\n  // ìƒì„¸ ì •ë³´ í¬í•¨í˜• (secondary í”„ë¡¬í”„íŠ¸ì˜ ë‹¨ê³„ë³„ ì‚¬ê³  ë°˜ì˜)\n  if (analysis.specificInfo) {\n    let title3 = `${analysis.mainSubject} ${analysis.specificInfo} ${analysis.mainAction}`;\n    if (analysis.timeframe) {\n      title3 = `${analysis.mainSubject}, ${analysis.timeframe} ${analysis.specificInfo} ${analysis.mainAction}`;\n    }\n    titles.push(title3);\n  }\n\n  // ê²°ê³¼/íš¨ê³¼ ì¤‘ì‹¬ (validation í”„ë¡¬í”„íŠ¸ì˜ ReAct íŒ¨í„´ ë°˜ì˜)\n  if (analysis.expectedResult || analysis.industry) {\n    const effectTopic = analysis.expectedResult || `${analysis.industry} í˜ì‹ `;\n    titles.push(`${analysis.mainSubject} ${analysis.mainAction}ë¡œ ${effectTopic} ë…¸ë¦°ë‹¤`);\n  }\n\n  // enhancement í”„ë¡¬í”„íŠ¸ ë°˜ì˜ - í’ˆì§ˆ ê²€ì¦ ë° ê°œì„ \n  let finalTitles = titles.slice(0, 4);\n\n  // ì‚¬ìš©ì ìš”ì²­ì— ë”°ë¥¸ ì¡°ì •\n  if (isImpactfulRequest) {\n    finalTitles = finalTitles.map(title => {\n      if (!title.includes(\"!\")) {\n        return title.replace(/ê³„íš|ì˜ˆì •/, \"í™•ì •\").replace(/ë…¸ë¦°ë‹¤/, \"ëª©í‘œ\") + \"!\";\n      }\n      return title;\n    });\n  }\n  if (isConservativeRequest) {\n    finalTitles = finalTitles.map(title => {\n      return title.replace(/!/, \"\").replace(/ë…¸ë¦°ë‹¤/, \"ì „ë§\");\n    });\n  }\n\n  // í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ì¶”ê°€ ì œëª©\n  if (savedPrompts.enhancement && savedPrompts.enhancement.includes(\"ë§¤ë ¥ë„\")) {\n    finalTitles.push(`ì£¼ëª©! ${analysis.mainSubject}ì˜ ${analysis.specificInfo || \"ìƒˆë¡œìš´\"} ë„ì „`);\n  }\n\n  // ìµœì¢… ì •ë¦¬ ë° ë°˜í™˜\n  const resultTitles = finalTitles.slice(0, 5);\n  const promptInfo = Object.keys(savedPrompts).length > 0 ? `\\n\\nğŸ¯ ì ìš©ëœ ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸: ${Object.keys(savedPrompts).join(\", \")}` : \"\\n\\nğŸ“ ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©\";\n  const userRequestInfo = userRequest ? `\\nğŸ’¡ \"${userRequest}\" ìš”ì²­ì´ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.` : \"\";\n  return resultTitles.map((title, i) => `${i + 1}. ${title}`).join(\"\\n\") + promptInfo + userRequestInfo;\n};\n\n// í”„ë¡¬í”„íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API\nexport const orchestrationAPI = {\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì‹¤í–‰\n  executeOrchestration: async (projectId, articleContent, orchestrationConfig = {}, userRequest = \"\") => {\n    // ê°œë°œ í™˜ê²½ì—ì„œ CORS ë¬¸ì œ ìš°íšŒìš© ëª¨í‚¤ ì‘ë‹µ\n    if (IS_MOCK_MODE) {\n      var _orchestrationConfig$;\n      console.log(\"ğŸš€ ê³ ë„í™”ëœ ëª¨í‚¤ ëª¨ë“œ: Bedrock Claude ì‹œë®¬ë ˆì´ì…˜ + ì‹¤ì œ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©\");\n      console.log(\"ğŸ“ ì‚¬ìš©ì ì¶”ê°€ ìš”ì²­:\", userRequest);\n\n      // localStorageì—ì„œ ì‹¤ì œ ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ë“¤ ê°€ì ¸ì˜¤ê¸°\n      const savedPrompts = JSON.parse(localStorage.getItem(`prompts_${projectId}`) || \"{}\");\n      console.log(\"ğŸ’¾ ì‚¬ìš©í•  í”„ë¡¬í”„íŠ¸ë“¤:\", savedPrompts);\n\n      // ì‹¤ì œì™€ ìœ ì‚¬í•œ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜\n      await new Promise(resolve => setTimeout(resolve, 2000)); // 2ì´ˆ ì§€ì—°\n\n      // ì‹¤ì œ ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ë¥¼ ë°˜ì˜í•œ ì œëª© ìƒì„±\n      const titles = generateTitlesWithUserPrompts(articleContent, userRequest, savedPrompts);\n      console.log(\"âœ¨ ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ìƒì„±ëœ ì œëª©ë“¤:\", titles);\n      return {\n        message: \"ì œëª© ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\",\n        executionId: `mock-${Date.now()}`,\n        projectId: \"mock-project\",\n        result: titles,\n        mode: \"mock\",\n        timestamp: new Date().toISOString(),\n        debug: {\n          promptCount: ((_orchestrationConfig$ = orchestrationConfig.enabledSteps) === null || _orchestrationConfig$ === void 0 ? void 0 : _orchestrationConfig$.length) || 5,\n          usedDefaultGuidelines: false,\n          combinedPromptsLength: 1500,\n          promptTitles: orchestrationConfig.enabledSteps || [\"instruction\", \"knowledge\", \"secondary\", \"style_guide\", \"validation\"],\n          firstPromptPreview: \"ëª¨í‚¤ ëª¨ë“œì—ì„œ ì‹¤í–‰ëœ í”„ë¡¬í”„íŠ¸ì…ë‹ˆë‹¤...\"\n        }\n      };\n    }\n\n    // ì‹¤ì œ API í˜¸ì¶œ - /generate ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©\n    const response = await api.post(`/projects/${projectId}/generate`, {\n      article: articleContent,\n      userRequest: userRequest,\n      useStepFunction: false,\n      // ì§ì ‘ ëª¨ë“œ ì‚¬ìš©\n      enabledSteps: orchestrationConfig.enabledSteps || [],\n      temperature: orchestrationConfig.temperature || 0.7\n    });\n    console.log(\"ğŸ” ì‹¤ì œ Generate API ì‘ë‹µ:\", response.data);\n    return response.data;\n  },\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ìƒíƒœ ì¡°íšŒ\n  getOrchestrationStatus: async (projectId, executionId) => {\n    const response = await api.get(`/projects/${projectId}/orchestrate/${executionId}/status`);\n    return response.data;\n  },\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ê²°ê³¼ ì¡°íšŒ\n  getOrchestrationResult: async (projectId, executionId) => {\n    const response = await api.get(`/projects/${projectId}/orchestrate/${executionId}/result`);\n    return response.data;\n  },\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë¡œê·¸ ì¡°íšŒ\n  getOrchestrationLogs: async (projectId, executionId) => {\n    const response = await api.get(`/projects/${projectId}/orchestrate/${executionId}/logs`);\n    return response.data;\n  },\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì „ëµ í…ŒìŠ¤íŠ¸\n  testOrchestrationStep: async (projectId, stepType, promptContent, articleContent) => {\n    const response = await api.post(`/projects/${projectId}/orchestrate/test`, {\n      stepType,\n      promptContent,\n      articleContent\n    });\n    return response.data;\n  },\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ê³ ë„í™” ì„¤ì •\n  updateOrchestrationConfig: async (projectId, config) => {\n    const response = await api.put(`/projects/${projectId}/orchestration-config`, config);\n    return response.data;\n  },\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë©”íŠ¸ë¦­ ì¡°íšŒ\n  getOrchestrationMetrics: async (projectId, timeRange = \"24h\") => {\n    const response = await api.get(`/projects/${projectId}/orchestration-metrics`, {\n      params: {\n        timeRange\n      }\n    });\n    return response.data;\n  }\n};\n\n// ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë‹¨ê³„ ì •ì˜\nexport const ORCHESTRATION_STEPS = {\n  PERSONA_DEFINITION: {\n    id: \"persona_definition\",\n    name: \"ì—­í•  ì •ì˜\",\n    description: \"AI ëª¨ë¸ì—ê²Œ ì—­í• ê³¼ í˜ë¥´ì†Œë‚˜ë¥¼ ë¶€ì—¬\",\n    order: 1,\n    required: true\n  },\n  CONSTRAINT_DEFINITION: {\n    id: \"constraint_definition\",\n    name: \"ì œì•½ ì¡°ê±´ ì„¤ì •\",\n    description: \"ëª…í™•í•œ ë£°ê³¼ ì œí•œì‚¬í•­ ì ìš©\",\n    order: 2,\n    required: true\n  },\n  PROCESS_EXECUTION: {\n    id: \"process_execution\",\n    name: \"ì›Œí¬í”Œë¡œìš° ì‹¤í–‰\",\n    description: \"ë‹¨ê³„ë³„ ì‘ì—… í”„ë¡œì„¸ìŠ¤ ìˆ˜í–‰\",\n    order: 3,\n    required: true\n  },\n  FORMAT_VALIDATION: {\n    id: \"format_validation\",\n    name: \"í¬ë§· ê²€ì¦\",\n    description: \"ì¶œë ¥ ê²°ê³¼ë¬¼ í¬ë§· ê²€ì¦ ë° ì¡°ì •\",\n    order: 4,\n    required: false\n  },\n  EXAMPLE_LEARNING: {\n    id: \"example_learning\",\n    name: \"ì˜ˆì‹œ í•™ìŠµ\",\n    description: \"Few-shot ì˜ˆì œë¥¼ í†µí•œ í•™ìŠµ ë° ì¸¡ê³ \",\n    order: 5,\n    required: false\n  },\n  QUALITY_ASSESSMENT: {\n    id: \"quality_assessment\",\n    name: \"í’ˆì§ˆ í‰ê°€\",\n    description: \"ê²°ê³¼ë¬¼ í’ˆì§ˆ í‰ê°€ ë° ì ìˆ˜ ë§¤ê¸°ê¸°\",\n    order: 6,\n    required: false\n  }\n};\n\n// ğŸ†• íŒŒì¼ í¬ê¸° í¬ë§·íŒ… ìœ í‹¸ë¦¬í‹°\nexport const formatFileSize = bytes => {\n  if (bytes === 0) return \"0 B\";\n  const k = 1024;\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + \" \" + sizes[i];\n};\n\n// ğŸ†• í† í° ìˆ˜ í¬ë§·íŒ… ìœ í‹¸ë¦¬í‹°\nexport const formatTokenCount = tokens => {\n  if (tokens < 1000) return tokens.toString();\n  if (tokens < 1000000) return (tokens / 1000).toFixed(1) + \"K\";\n  return (tokens / 1000000).toFixed(1) + \"M\";\n};\n\n// ğŸ†• ì¹´í…Œê³ ë¦¬ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° (ìˆ˜ì •ë¨)\nexport const getCategoryInfo = (categoryId, userCategories = []) => {\n  const allCategories = [...DEFAULT_PROJECT_CATEGORIES, ...userCategories];\n  return allCategories.find(cat => cat.id === categoryId) || DEFAULT_PROJECT_CATEGORIES.find(cat => cat.id === \"news\");\n};\n\n// ğŸ†• ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ìƒ í´ë˜ìŠ¤ ë°˜í™˜ (ìˆ˜ì •ë¨)\nexport const getCategoryColorClasses = color => {\n  const colors = {\n    blue: \"bg-blue-100 text-blue-800 border-blue-200\",\n    green: \"bg-green-100 text-green-800 border-green-200\",\n    purple: \"bg-purple-100 text-purple-800 border-purple-200\",\n    orange: \"bg-orange-100 text-orange-800 border-orange-200\",\n    yellow: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\n    indigo: \"bg-indigo-100 text-indigo-800 border-indigo-200\",\n    cyan: \"bg-cyan-100 text-cyan-800 border-cyan-200\",\n    red: \"bg-red-100 text-red-800 border-red-200\",\n    pink: \"bg-pink-100 text-pink-800 border-pink-200\",\n    gray: \"bg-gray-100 text-gray-800 border-gray-200\"\n  };\n  return colors[color] || colors.gray;\n};\n\n// ğŸ†• ìƒ‰ìƒ ì˜µì…˜ (ì¹´í…Œê³ ë¦¬ ìƒì„± ì‹œ ì‚¬ìš©)\nexport const COLOR_OPTIONS = [{\n  id: \"blue\",\n  name: \"íŒŒë€ìƒ‰\",\n  class: \"bg-blue-500\"\n}, {\n  id: \"green\",\n  name: \"ì´ˆë¡ìƒ‰\",\n  class: \"bg-green-500\"\n}, {\n  id: \"purple\",\n  name: \"ë³´ë¼ìƒ‰\",\n  class: \"bg-purple-500\"\n}, {\n  id: \"orange\",\n  name: \"ì£¼í™©ìƒ‰\",\n  class: \"bg-orange-500\"\n}, {\n  id: \"yellow\",\n  name: \"ë…¸ë€ìƒ‰\",\n  class: \"bg-yellow-500\"\n}, {\n  id: \"indigo\",\n  name: \"ë‚¨ìƒ‰\",\n  class: \"bg-indigo-500\"\n}, {\n  id: \"cyan\",\n  name: \"ì²­ë¡ìƒ‰\",\n  class: \"bg-cyan-500\"\n}, {\n  id: \"red\",\n  name: \"ë¹¨ê°„ìƒ‰\",\n  class: \"bg-red-500\"\n}, {\n  id: \"pink\",\n  name: \"ë¶„í™ìƒ‰\",\n  class: \"bg-pink-500\"\n}, {\n  id: \"gray\",\n  name: \"íšŒìƒ‰\",\n  class: \"bg-gray-500\"\n}];\n\n// ğŸ†• í”„ë¡œì íŠ¸ ê²€ìƒ‰ ë° í•„í„°ë§ ìœ í‹¸ë¦¬í‹°\nexport const filterProjects = (projects, {\n  category,\n  searchQuery,\n  sortBy\n}) => {\n  let filtered = [...projects];\n\n  // ì¹´í…Œê³ ë¦¬ í•„í„°ë§\n  if (category && category !== \"all\") {\n    filtered = filtered.filter(project => project.category === category);\n  }\n\n  // ê²€ìƒ‰ í•„í„°ë§\n  if (searchQuery && searchQuery.trim()) {\n    const query = searchQuery.toLowerCase().trim();\n    filtered = filtered.filter(project => project.name.toLowerCase().includes(query) || project.description && project.description.toLowerCase().includes(query) || project.tags && project.tags.some(tag => tag.toLowerCase().includes(query)));\n  }\n\n  // ì •ë ¬\n  switch (sortBy) {\n    case \"name\":\n      filtered.sort((a, b) => a.name.localeCompare(b.name));\n      break;\n    case \"updated\":\n      filtered.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));\n      break;\n    case \"created\":\n    default:\n      filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n      break;\n  }\n  return filtered;\n};\n\n// ğŸ†• ë””ë°”ìš´ìŠ¤ í›… (ê²€ìƒ‰ ìµœì í™”ìš©)\nexport const useDebounce = (value, delay) => {\n  _s();\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\n  React.useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n  return debouncedValue;\n};\n_s(useDebounce, \"KDuPAtDOgxm8PU6legVJOb3oOmA=\");\nexport default api;","map":{"version":3,"names":["axios","React","API_BASE_URL","process","env","REACT_APP_API_URL","IS_MOCK_MODE","api","create","baseURL","headers","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","Promise","reject","response","status","_error$response","_error$response2","_error$response3","data","message","localStorage","removeItem","window","location","href","projectAPI","getProjects","params","projects","projectId","name","description","category","createdAt","updatedAt","promptCount","generationCount","totalCount","page","limit","createProject","projectData","post","getProject","settings","model","temperature","maxTokens","updateProject","put","deleteProject","delete","getUploadUrl","filename","get","generateAPI","startTitleGeneration","article","aiSettings","payload","getExecutionStatus","executionArn","encodedArn","encodeURIComponent","pollForResult","maxRetries","interval","success","retries","resolve","setTimeout","generateTitle","onProgress","startResponse","mode","result","conversationId","executionId","Date","now","usage","timestamp","toISOString","debug","pollResponse","completedAt","Error","promptCardAPI","getPromptCards","includeContent","includeDisabled","savedPrompts","JSON","parse","getItem","defaultPrompts","promptId","id","title","enabled","stepOrder","s3Key","prompt_text","instruction","knowledge","secondary","style_guide","validation","enhancement","promptCards","count","length","include_content","include_disabled","_error$response4","_error$response5","_error$response6","_error$response7","statusText","createPromptCard","promptData","content","setItem","stringify","updatePromptCard","replace","savedContent","deletePromptCard","reorderPromptCard","newStepOrder","step_order","togglePromptCard","getPromptContent","mockContents","lastModified","authAPI","signup","userData","signin","credentials","accessToken","idToken","refreshToken","signout","verifyEmail","verificationData","forgotPassword","email","confirmPassword","resetData","getCurrentUser","token","atob","split","sub","isAuthenticated","currentTime","exp","uploadAPI","uploadFile","uploadUrl","file","PROMPT_CATEGORIES","required","PROMPT_CARD_CATEGORIES","color","icon","order","orchestration_step","AVAILABLE_MODELS","handleAPIError","DEFAULT_PROJECT_CATEGORIES","isDefault","categoryAPI","getUserCategories","savedCategories","categories","createCategory","categoryData","newCategory","push","updateCategory","categoryId","categoryIndex","findIndex","cat","deleteCategory","splice","projectCategoryAPI","updateProjectCategory","projectStatsAPI","getProjectStats","getAllProjectsStats","calculatePromptStats","stats","totalCards","activeCards","filter","card","totalTokens","totalSize","avgTokensPerCard","Set","models","temperatureRange","min","max","forEach","add","textLength","estimatedTokens","Math","ceil","temp","parseFloat","round","Array","from","generateSmartTitles","articleContent","userRequest","toLowerCase","analysis","analyzeArticleContent","keywords","extractRealKeywords","isShortRequest","includes","isImpactfulRequest","isConservativeRequest","titles","mainSubject","mainAction","specificInfo","timeframe","target","timeInfo","expectedResult","industry","finalTitles","slice","map","substring","requestNote","i","join","companies","foundCompany","find","company","actions","action","foundAction","actionGroup","some","keyword","specificTerms","foundSpecific","term","timeframes","foundTimeframe","time","results","foundResult","industries","foundIndustry","cleanCompany","extractSubjectFromSentence","sentences","s","firstSentence","trim","words","subject","commonWords","word","frequency","Object","entries","sort","a","b","generateTitlesWithUserPrompts","rolePrompt","knowledgePrompt","reasoningPrompt","title1","title2","title3","effectTopic","resultTitles","promptInfo","keys","userRequestInfo","orchestrationAPI","executeOrchestration","orchestrationConfig","_orchestrationConfig$","enabledSteps","usedDefaultGuidelines","combinedPromptsLength","promptTitles","firstPromptPreview","useStepFunction","getOrchestrationStatus","getOrchestrationResult","getOrchestrationLogs","testOrchestrationStep","stepType","promptContent","updateOrchestrationConfig","getOrchestrationMetrics","timeRange","ORCHESTRATION_STEPS","PERSONA_DEFINITION","CONSTRAINT_DEFINITION","PROCESS_EXECUTION","FORMAT_VALIDATION","EXAMPLE_LEARNING","QUALITY_ASSESSMENT","formatFileSize","bytes","k","sizes","floor","pow","toFixed","formatTokenCount","tokens","toString","getCategoryInfo","userCategories","allCategories","getCategoryColorClasses","colors","blue","green","purple","orange","yellow","indigo","cyan","red","pink","gray","COLOR_OPTIONS","class","filterProjects","searchQuery","sortBy","filtered","project","query","tags","tag","localeCompare","useDebounce","value","delay","_s","debouncedValue","setDebouncedValue","useState","useEffect","handler","clearTimeout"],"sources":["/Users/yeong-gwang/Documents/work/á„‰á…¥á„‹á…®á†¯á„€á…§á†¼á„Œá…¦á„‰á…µá†«á„†á…®á†«/ai_á„Œá…¦á„†á…©á†¨á„ƒá…¡á†¯á„€á…µ/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\"; // Added for useDebounce\n\n// API ê¸°ë³¸ URL (í™˜ê²½ ë³€ìˆ˜ ë˜ëŠ” ê¸°ë³¸ê°’)\nconst API_BASE_URL =\n  process.env.REACT_APP_API_URL ||\n  \"https://vph0fu827a.execute-api.us-east-1.amazonaws.com/prod\";\n\n// ì‹¤ì œ Bedrock Claude API ì‚¬ìš©\nconst IS_MOCK_MODE = true; // ğŸš¨ ì„ì‹œë¡œ Mock ëª¨ë“œ í™œì„±í™” (ë°°í¬ ë¬¸ì œ í•´ê²°ê¹Œì§€)\n\n// Axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// ìš”ì²­ ì¸í„°ì…‰í„°\napi.interceptors.request.use(\n  (config) => {\n    console.log(\"API ìš”ì²­:\", config.method?.toUpperCase(), config.url);\n\n    // ğŸš¨ ì„ì‹œ ë¹„í™œì„±í™”: ë¡œê·¸ì¸ ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ì¸ì¦ í† í° ì „ì†¡ ë¹„í™œì„±í™”\n    // TODO: ë°±ì—”ë“œ ê¸°ìˆ ì´ ì•ˆì •í™”ë˜ë©´ ì•„ë˜ ì£¼ì„ì„ í•´ì œí•˜ì—¬ ì¸ì¦ í™œì„±í™”\n    // const token = localStorage.getItem(\"idToken\") || localStorage.getItem(\"accessToken\") || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0LXVzZXIiLCJuYW1lIjoiVGVzdCBVc2VyIiwiZW1haWwiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiaWF0IjoxNjE2MjM5MDIyfQ.test\";\n    // if (token) {\n    //   config.headers.Authorization = `Bearer ${token}`;\n    // }\n\n    console.log(\"ğŸ§ª ê°œë°œ ëª¨ë“œ: ì¸ì¦ í† í° ì „ì†¡ ë¹„í™œì„±í™”\");\n\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// ì‘ë‹µ ì¸í„°ì…‰í„°\napi.interceptors.response.use(\n  (response) => {\n    console.log(\"API ì‘ë‹µ:\", response.status, response.config.url);\n    return response;\n  },\n  (error) => {\n    console.error(\n      \"API ì˜¤ë¥˜:\",\n      error.response?.status,\n      error.response?.data || error.message\n    );\n\n    // 401 ì˜¤ë¥˜ ì‹œ í† í° ê°±ì‹  ì‹œë„ ë˜ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸\n    if (error.response?.status === 401) {\n      // í† í° ë§Œë£Œ ì²˜ë¦¬\n      localStorage.removeItem(\"accessToken\");\n      localStorage.removeItem(\"idToken\");\n      localStorage.removeItem(\"refreshToken\");\n\n      // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ì‹¤ì œ êµ¬í˜„ ì‹œ React Router ì‚¬ìš©)\n      window.location.href = \"/login\";\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n// í”„ë¡œì íŠ¸ ê´€ë ¨ API\nexport const projectAPI = {\n  // í”„ë¡œì íŠ¸ ëª©ë¡ ì¡°íšŒ\n  getProjects: async (params = {}) => {\n    // ğŸš¨ ê°œë°œ ëª¨ë“œ: ìƒ˜í”Œ í”„ë¡œì íŠ¸ ë°ì´í„° ë°˜í™˜\n    console.log(\"ğŸ§ª ê°œë°œ ëª¨ë“œ: í”„ë¡œì íŠ¸ API í˜¸ì¶œ ê±´ë„ˆë›°ê¸° - ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©\");\n\n    return {\n      projects: [\n        {\n          projectId: \"6cbf88e5-e295-4377-9075-be0fc469704e\",\n          name: \"ì„œìš¸ê²½ì œì‹ ë¬¸ AI ì œëª© ìƒì„± ì‹œìŠ¤í…œ\",\n          description: \"ë‰´ìŠ¤ ê¸°ì‚¬ ì œëª© ìë™ ìƒì„±ì„ ìœ„í•œ AI ì‹œìŠ¤í…œ\",\n          category: \"news\",\n          createdAt: \"2024-01-15T10:00:00Z\",\n          updatedAt: \"2024-01-15T10:00:00Z\",\n          status: \"active\",\n          promptCount: 6,\n          generationCount: 150,\n        },\n      ],\n      totalCount: 1,\n      page: 1,\n      limit: 10,\n    };\n\n    // API í˜¸ì¶œ ë¶€ë¶„ì€ ì„ì‹œ ë¹„í™œì„±í™”\n    // const response = await api.get(\"/projects\", { params });\n    // return response.data;\n  },\n\n  // í”„ë¡œì íŠ¸ ìƒì„±\n  createProject: async (projectData) => {\n    const response = await api.post(\"/projects\", projectData);\n    return response.data;\n  },\n\n  // í”„ë¡œì íŠ¸ ìƒì„¸ ì¡°íšŒ\n  getProject: async (projectId) => {\n    // ğŸš¨ ê°œë°œ ëª¨ë“œ: ìƒ˜í”Œ í”„ë¡œì íŠ¸ ìƒì„¸ ë°ì´í„° ë°˜í™˜\n    console.log(\n      \"ğŸ§ª ê°œë°œ ëª¨ë“œ: í”„ë¡œì íŠ¸ ìƒì„¸ API í˜¸ì¶œ ê±´ë„ˆë›°ê¸° - ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©\",\n      projectId\n    );\n\n    return {\n      projectId: projectId,\n      name: \"ì„œìš¸ê²½ì œì‹ ë¬¸ AI ì œëª© ìƒì„± ì‹œìŠ¤í…œ\",\n      description: \"ë‰´ìŠ¤ ê¸°ì‚¬ ì œëª© ìë™ ìƒì„±ì„ ìœ„í•œ AI ì‹œìŠ¤í…œ\",\n      category: \"news\",\n      createdAt: \"2024-01-15T10:00:00Z\",\n      updatedAt: \"2024-01-15T10:00:00Z\",\n      status: \"active\",\n      promptCount: 6,\n      generationCount: 150,\n      settings: {\n        model: \"us.anthropic.claude-3-5-sonnet-20241022-v2:0\",\n        temperature: 0.7,\n        maxTokens: 2500,\n      },\n    };\n\n    // API í˜¸ì¶œ ë¶€ë¶„ì€ ì„ì‹œ ë¹„í™œì„±í™”\n    // const response = await api.get(`/projects/${projectId}`);\n    // return response.data;\n  },\n\n  // í”„ë¡œì íŠ¸ ì—…ë°ì´íŠ¸\n  updateProject: async (projectId, projectData) => {\n    const response = await api.put(`/projects/${projectId}`, projectData);\n    return response.data;\n  },\n\n  // í”„ë¡œì íŠ¸ ì‚­ì œ\n  deleteProject: async (projectId) => {\n    const response = await api.delete(`/projects/${projectId}`);\n    return response.data;\n  },\n\n  // ì—…ë¡œë“œ URL ìš”ì²­\n  getUploadUrl: async (projectId, category, filename) => {\n    const response = await api.get(`/projects/${projectId}/upload-url`, {\n      params: { category, filename },\n    });\n    return response.data;\n  },\n};\n\n// ì œëª© ìƒì„± API (Step Functions ê¸°ë°˜)\nexport const generateAPI = {\n  // ì œëª© ìƒì„± ì‹œì‘ (Step Functions ì‹¤í–‰)\n  startTitleGeneration: async (projectId, article, aiSettings) => {\n    const payload = {\n      article,\n    };\n\n    // AI ì„¤ì •ì´ ìˆìœ¼ë©´ ì¶”ê°€\n    if (aiSettings) {\n      payload.aiSettings = aiSettings;\n    }\n\n    const response = await api.post(`/projects/${projectId}/generate`, payload);\n    return response.data;\n  },\n\n  // ì‹¤í–‰ ìƒíƒœ ì¡°íšŒ\n  getExecutionStatus: async (executionArn) => {\n    const encodedArn = encodeURIComponent(executionArn);\n    const response = await api.get(`/executions/${encodedArn}`);\n    return response.data;\n  },\n\n  // í´ë§ì„ í†µí•œ ê²°ê³¼ ëŒ€ê¸°\n  pollForResult: async (executionArn, maxRetries = 30, interval = 2000) => {\n    if (!executionArn || executionArn === \"undefined\") {\n      return {\n        success: false,\n        error: \"ì‹¤í–‰ ARNì´ ì—†ìŠµë‹ˆë‹¤. ì§ì ‘ ëª¨ë“œì—ì„œëŠ” í´ë§ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\",\n      };\n    }\n\n    let retries = 0;\n\n    while (retries < maxRetries) {\n      try {\n        const status = await generateAPI.getExecutionStatus(executionArn);\n\n        if (status.status === \"SUCCEEDED\") {\n          return {\n            success: true,\n            data: status,\n          };\n        } else if (status.status === \"FAILED\") {\n          return {\n            success: false,\n            error: status.error || \"ì‹¤í–‰ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤\",\n          };\n        } else if (status.status === \"TIMED_OUT\") {\n          return {\n            success: false,\n            error: \"ì‹¤í–‰ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤\",\n          };\n        } else if (status.status === \"ABORTED\") {\n          return {\n            success: false,\n            error: \"ì‹¤í–‰ì´ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤\",\n          };\n        }\n\n        // ì•„ì§ ì‹¤í–‰ ì¤‘ì´ë©´ ëŒ€ê¸°\n        await new Promise((resolve) => setTimeout(resolve, interval));\n        retries++;\n      } catch (error) {\n        console.error(\"í´ë§ ì¤‘ ì˜¤ë¥˜:\", error);\n        retries++;\n\n        if (retries >= maxRetries) {\n          return {\n            success: false,\n            error: \"ìƒíƒœ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤\",\n          };\n        }\n\n        await new Promise((resolve) => setTimeout(resolve, interval));\n      }\n    }\n\n    return {\n      success: false,\n      error: \"ì‹¤í–‰ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤\",\n    };\n  },\n\n  // ì œëª© ìƒì„± (ì§ì ‘ ëª¨ë“œ + Step Functions ëª¨ë“œ ì§€ì›)\n  generateTitle: async (projectId, article, onProgress, aiSettings) => {\n    try {\n      // ì œëª© ìƒì„± ì‹œì‘\n      const startResponse = await generateAPI.startTitleGeneration(\n        projectId,\n        article,\n        aiSettings\n      );\n\n      // ì§ì ‘ ëª¨ë“œì¸ ê²½ìš° (modeê°€ 'direct'ì´ê±°ë‚˜ resultê°€ ë°”ë¡œ ìˆëŠ” ê²½ìš°)\n      if (startResponse.mode === \"direct\" || startResponse.result) {\n        if (onProgress) {\n          onProgress({\n            status: \"completed\",\n            message: \"ì œëª© ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\",\n            result: startResponse.result,\n          });\n        }\n\n        return {\n          conversationId: startResponse.executionId || \"direct-\" + Date.now(),\n          projectId: projectId,\n          result: startResponse.result,\n          usage: startResponse.usage || {},\n          timestamp: startResponse.timestamp || new Date().toISOString(),\n          mode: \"direct\",\n          debug: startResponse.debug || {},\n        };\n      }\n\n      // Step Functions ëª¨ë“œì¸ ê²½ìš°\n      if (startResponse.executionArn) {\n        if (onProgress) {\n          onProgress({\n            status: \"started\",\n            message: \"ì œëª© ìƒì„±ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤...\",\n            executionArn: startResponse.executionArn,\n          });\n        }\n\n        // í´ë§ì„ í†µí•œ ê²°ê³¼ ëŒ€ê¸°\n        const pollResponse = await generateAPI.pollForResult(\n          startResponse.executionArn\n        );\n\n        if (pollResponse.success) {\n          return {\n            conversationId: pollResponse.data.conversationId,\n            projectId: projectId,\n            result: pollResponse.data.result,\n            usage: pollResponse.data.usage,\n            timestamp:\n              pollResponse.data.completedAt || new Date().toISOString(),\n            executionArn: startResponse.executionArn,\n            mode: \"stepfunctions\",\n          };\n        } else {\n          throw new Error(pollResponse.error);\n        }\n      }\n\n      throw new Error(\"ì•Œ ìˆ˜ ì—†ëŠ” ì‘ë‹µ í˜•ì‹ì…ë‹ˆë‹¤\");\n    } catch (error) {\n      console.error(\"ì œëª© ìƒì„± ì‹¤íŒ¨:\", error);\n      throw error;\n    }\n  },\n};\n\n// ğŸ†• í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ê´€ë¦¬ API\nexport const promptCardAPI = {\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ëª©ë¡ ì¡°íšŒ (step_order ìˆœìœ¼ë¡œ ì •ë ¬)\n  getPromptCards: async (\n    projectId,\n    includeContent = false,\n    includeDisabled = false\n  ) => {\n    if (IS_MOCK_MODE) {\n      console.log(\n        \"ğŸ­ ê°œì„ ëœ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ëª©ë¡ (localStorage ê¸°ë°˜)\"\n      );\n\n      // localStorageì—ì„œ ìˆ˜ì •ëœ í”„ë¡¬í”„íŠ¸ë“¤ ê°€ì ¸ì˜¤ê¸°\n      const savedPrompts = JSON.parse(\n        localStorage.getItem(`prompts_${projectId}`) || \"{}\"\n      );\n\n      const defaultPrompts = [\n        {\n          promptId: \"template-instruction\",\n          id: \"template-instruction\",\n          title: \"ì—­í•  ë° ëª©í‘œ í”„ë¡¬í”„íŠ¸\",\n          category: \"instruction\",\n          enabled: true,\n          stepOrder: 1,\n          s3Key: \"prompts/instruction.txt\",\n          description: \"AIì˜ ì—­í• , ì •ì²´ì„±, í•µì‹¬ ëª©í‘œë¥¼ ëª…í™•íˆ ì •ì˜í•©ë‹ˆë‹¤\",\n          prompt_text:\n            savedPrompts.instruction ||\n            \"ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ ê¸°ì‚¬ ì œëª© ìƒì„± AIì…ë‹ˆë‹¤.\\nëª©í‘œ: ë…ìì˜ ê´€ì‹¬ì„ ëŒê³  ì •í™•í•œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ì œëª© ìƒì„±\",\n        },\n        {\n          promptId: \"template-knowledge\",\n          id: \"template-knowledge\",\n          title: \"ì§€ì‹ ë² ì´ìŠ¤ í”„ë¡¬í”„íŠ¸\",\n          category: \"knowledge\",\n          enabled: true,\n          stepOrder: 2,\n          s3Key: \"prompts/knowledge.txt\",\n          description: \"ì‘ì—… ìˆ˜í–‰ì— í•„ìš”í•œ í•µì‹¬ ì§€ì‹ê³¼ ì›ì¹™ì„ ì œê³µí•©ë‹ˆë‹¤\",\n          prompt_text:\n            savedPrompts.knowledge ||\n            \"ì œëª© ì‘ì„± ì›ì¹™:\\n- ê°„ê²°í•˜ê³  ëª…í™•í•œ í‘œí˜„\\n- í•µì‹¬ í‚¤ì›Œë“œ í¬í•¨\\n- ë…ìì˜ ê´€ì‹¬ ìœ ë°œ\",\n        },\n        {\n          promptId: \"template-secondary\",\n          id: \"template-secondary\",\n          title: \"CoT (ì‚¬ê³  ê³¼ì •) í”„ë¡¬í”„íŠ¸\",\n          category: \"secondary\",\n          enabled: true,\n          stepOrder: 3,\n          s3Key: \"prompts/secondary.txt\",\n          description: \"ë‹¨ê³„ë³„ ì¶”ë¡  ê³¼ì •ì„ í†µí•´ ì‚¬ê³ ì˜ íˆ¬ëª…ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤\",\n          prompt_text:\n            savedPrompts.secondary ||\n            \"ë‹¤ìŒ ë‹¨ê³„ë¡œ ì‚¬ê³ í•˜ì„¸ìš”:\\n1. ê¸°ì‚¬ì˜ í•µì‹¬ ë‚´ìš© íŒŒì•…\\n2. ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ\\n3. ë…ì ê´€ì ì—ì„œ í¥ë¯¸ë„ í‰ê°€\\n4. ì œëª© í›„ë³´ ìƒì„±\\n5. ìµœì  ì œëª© ì„ íƒ\",\n        },\n        {\n          promptId: \"template-style_guide\",\n          id: \"template-style_guide\",\n          title: \"ìŠ¤íƒ€ì¼ ê°€ì´ë“œ í”„ë¡¬í”„íŠ¸\",\n          category: \"style_guide\",\n          enabled: true,\n          stepOrder: 4,\n          s3Key: \"prompts/style_guide.txt\",\n          description: \"ì¼ê´€ëœ ìŠ¤íƒ€ì¼ê³¼ í˜•ì‹ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ê°€ì´ë“œë¼ì¸\",\n          prompt_text:\n            savedPrompts.style_guide ||\n            \"ìŠ¤íƒ€ì¼ ìš”êµ¬ì‚¬í•­:\\n- ê¸¸ì´: 15-25ì ê¶Œì¥\\n- í†¤: ì „ë¬¸ì ì´ë©´ì„œ ì¹œê·¼\\n- í˜•ì‹: ëª…ì‚¬í˜• ì¢…ê²°\",\n        },\n        {\n          promptId: \"template-validation\",\n          id: \"template-validation\",\n          title: \"ReAct (ì¶”ë¡ +í–‰ë™) í”„ë¡¬í”„íŠ¸\",\n          category: \"validation\",\n          enabled: true,\n          stepOrder: 5,\n          s3Key: \"prompts/validation.txt\",\n          description: \"ì¶”ë¡ ê³¼ í–‰ë™ì„ ê²°í•©í•˜ì—¬ ë” ì •í™•í•œ ê²°ê³¼ë¥¼ ë„ì¶œí•©ë‹ˆë‹¤\",\n          prompt_text:\n            savedPrompts.validation ||\n            \"Thought: ì´ ê¸°ì‚¬ì˜ í•µì‹¬ì€ ë¬´ì—‡ì¸ê°€?\\nAction: í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ê³  ì¤‘ìš”ë„ë¥¼ í‰ê°€í•œë‹¤\\nObservation: ì¶”ì¶œëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì œëª©ì„ êµ¬ì„±í•œë‹¤\\nThought: ìƒì„±ëœ ì œëª©ì´ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ê°€?\\nAction: í•„ìš”ì‹œ ìˆ˜ì •í•˜ê³  ìµœì¢… ê²€ì¦í•œë‹¤\",\n        },\n        {\n          promptId: \"template-enhancement\",\n          id: \"template-enhancement\",\n          title: \"í’ˆì§ˆ ê²€ì¦ í”„ë¡¬í”„íŠ¸\",\n          category: \"enhancement\",\n          enabled: true,\n          stepOrder: 6,\n          s3Key: \"prompts/enhancement.txt\",\n          description: \"ìµœì¢… ê²°ê³¼ë¬¼ì˜ í’ˆì§ˆì„ ê²€ì¦í•˜ê³  ê°œì„ í•©ë‹ˆë‹¤\",\n          prompt_text:\n            savedPrompts.enhancement ||\n            \"í’ˆì§ˆ ê²€ì¦ ê¸°ì¤€:\\n- ì •í™•ì„±: ê¸°ì‚¬ ë‚´ìš©ê³¼ ì¼ì¹˜\\n- ë§¤ë ¥ë„: ë…ì ê´€ì‹¬ ìœ ë°œ\\n- ì ì ˆì„±: ë§¤ì²´ ì„±ê²©ì— ë¶€í•©\\n- ì™„ì„±ë„: ë¬¸ë²•ê³¼ í‘œí˜„ì˜ ì •í™•ì„±\",\n        },\n      ];\n\n      return {\n        projectId,\n        promptCards: defaultPrompts,\n        count: defaultPrompts.length,\n      };\n    }\n\n    const params = {};\n    if (includeContent) params.include_content = \"true\";\n    if (includeDisabled) params.include_disabled = \"true\";\n\n    console.log(\"ğŸ§ª í”„ë¡¬í”„íŠ¸ API í˜¸ì¶œ ì‹œë„:\", {\n      url: `/prompts/${projectId}`,\n      params,\n      baseURL: API_BASE_URL,\n    });\n\n    try {\n      const response = await api.get(`/prompts/${projectId}`, { params });\n      console.log(\"ğŸ§ª í”„ë¡¬í”„íŠ¸ API í˜¸ì¶œ ì„±ê³µ:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"ğŸ§ª í”„ë¡¬í”„íŠ¸ API í˜¸ì¶œ ì‹¤íŒ¨:\", {\n        status: error.response?.status,\n        statusText: error.response?.statusText,\n        data: error.response?.data,\n        headers: error.response?.headers,\n        message: error.message,\n      });\n      throw error;\n    }\n  },\n\n  // ìƒˆ í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìƒì„±\n  createPromptCard: async (projectId, promptData) => {\n    const response = await api.post(`/prompts/${projectId}`, promptData);\n    return response.data;\n  },\n\n  // ìƒˆ í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìƒì„±\n  createPromptCard: async (projectId, promptData) => {\n    if (IS_MOCK_MODE) {\n      console.log(\"ğŸ­ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìƒì„± ì‹œë®¬ë ˆì´ì…˜\", {\n        projectId,\n        promptData,\n      });\n\n      // localStorageì— ì €ì¥\n      const savedPrompts = JSON.parse(\n        localStorage.getItem(`prompts_${projectId}`) || \"{}\"\n      );\n      savedPrompts[promptData.category] =\n        promptData.prompt_text || promptData.content;\n      localStorage.setItem(\n        `prompts_${projectId}`,\n        JSON.stringify(savedPrompts)\n      );\n\n      return {\n        success: true,\n        message: \"í”„ë¡¬í”„íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤\",\n        promptId: `template-${promptData.category}`,\n      };\n    }\n\n    const response = await api.post(`/prompts/${projectId}`, promptData);\n    return response.data;\n  },\n\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìˆ˜ì •\n  updatePromptCard: async (projectId, promptId, promptData) => {\n    if (IS_MOCK_MODE) {\n      console.log(\n        \"ğŸ­ ê°œì„ ëœ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìˆ˜ì • (localStorage ì €ì¥)\",\n        {\n          projectId,\n          promptId,\n          promptData,\n        }\n      );\n\n      // promptIdì—ì„œ ì¹´í…Œê³ ë¦¬ ì¶”ì¶œ (template-instruction -> instruction)\n      const category = promptId.replace(\"template-\", \"\");\n\n      // localStorageì— ì €ì¥\n      const savedPrompts = JSON.parse(\n        localStorage.getItem(`prompts_${projectId}`) || \"{}\"\n      );\n      savedPrompts[category] = promptData.prompt_text || promptData.content;\n      localStorage.setItem(\n        `prompts_${projectId}`,\n        JSON.stringify(savedPrompts)\n      );\n\n      console.log(\"ğŸ’¾ localStorageì— ì €ì¥ëœ í”„ë¡¬í”„íŠ¸:\", savedPrompts);\n\n      return {\n        success: true,\n        message: \"í”„ë¡¬í”„íŠ¸ê°€ ìˆ˜ì •ë˜ì–´ localStorageì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤\",\n        category,\n        savedContent: savedPrompts[category],\n      };\n    }\n\n    const response = await api.put(\n      `/prompts/${projectId}/${promptId}`,\n      promptData\n    );\n    return response.data;\n  },\n\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ì‚­ì œ\n  deletePromptCard: async (projectId, promptId) => {\n    const response = await api.delete(`/prompts/${projectId}/${promptId}`);\n    return response.data;\n  },\n\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ìˆœì„œ ë³€ê²½\n  reorderPromptCard: async (projectId, promptId, newStepOrder) => {\n    const response = await api.put(`/prompts/${projectId}/${promptId}`, {\n      step_order: newStepOrder,\n    });\n    return response.data;\n  },\n\n  // í”„ë¡¬í”„íŠ¸ ì¹´ë“œ í™œì„±/ë¹„í™œì„± í† ê¸€\n  togglePromptCard: async (projectId, promptId, enabled) => {\n    const response = await api.put(`/prompts/${projectId}/${promptId}`, {\n      enabled: enabled,\n    });\n    return response.data;\n  },\n\n  // í”„ë¡¬í”„íŠ¸ ë‚´ìš© ì¡°íšŒ (S3ì—ì„œ ì§ì ‘ ë¡œë“œ)\n  getPromptContent: async (projectId, promptId) => {\n    if (IS_MOCK_MODE) {\n      console.log(\"ğŸ­ ëª¨í‚¤ ëª¨ë“œ: í”„ë¡¬í”„íŠ¸ ë‚´ìš© ì¡°íšŒ ì‹œë®¬ë ˆì´ì…˜\", {\n        projectId,\n        promptId,\n      });\n      const mockContents = {\n        \"template-instruction\":\n          \"ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ ê¸°ì‚¬ ì œëª© ìƒì„± AIì…ë‹ˆë‹¤.\\nëª©í‘œ: ë…ìì˜ ê´€ì‹¬ì„ ëŒê³  ì •í™•í•œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ì œëª© ìƒì„±\",\n        \"template-knowledge\":\n          \"ì œëª© ì‘ì„± ì›ì¹™:\\n- ê°„ê²°í•˜ê³  ëª…í™•í•œ í‘œí˜„\\n- í•µì‹¬ í‚¤ì›Œë“œ í¬í•¨\\n- ë…ìì˜ ê´€ì‹¬ ìœ ë°œ\",\n        \"template-secondary\":\n          \"ë‹¤ìŒ ë‹¨ê³„ë¡œ ì‚¬ê³ í•˜ì„¸ìš”:\\n1. ê¸°ì‚¬ì˜ í•µì‹¬ ë‚´ìš© íŒŒì•…\\n2. ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ\\n3. ë…ì ê´€ì ì—ì„œ í¥ë¯¸ë„ í‰ê°€\\n4. ì œëª© í›„ë³´ ìƒì„±\\n5. ìµœì  ì œëª© ì„ íƒ\",\n      };\n      return {\n        projectId,\n        promptId,\n        content: mockContents[promptId] || \"ìƒ˜í”Œ í”„ë¡¬í”„íŠ¸ ë‚´ìš©ì…ë‹ˆë‹¤.\",\n        lastModified: new Date().toISOString(),\n      };\n    }\n\n    const response = await api.get(`/prompts/${projectId}/${promptId}/content`);\n    return response.data;\n  },\n};\n\n// ğŸ†• ì¸ì¦ API\nexport const authAPI = {\n  // íšŒì›ê°€ì…\n  signup: async (userData) => {\n    const response = await api.post(\"/auth/signup\", userData);\n    return response.data;\n  },\n\n  // ë¡œê·¸ì¸\n  signin: async (credentials) => {\n    const response = await api.post(\"/auth/signin\", credentials);\n    const { accessToken, idToken, refreshToken } = response.data;\n\n    // í† í° ì €ì¥\n    localStorage.setItem(\"accessToken\", accessToken);\n    localStorage.setItem(\"idToken\", idToken);\n    localStorage.setItem(\"refreshToken\", refreshToken);\n\n    return response.data;\n  },\n\n  // ë¡œê·¸ì•„ì›ƒ\n  signout: async () => {\n    try {\n      await api.post(\"/auth/signout\");\n    } finally {\n      // ë¡œì»¬ í† í° ì‚­ì œ\n      localStorage.removeItem(\"accessToken\");\n      localStorage.removeItem(\"idToken\");\n      localStorage.removeItem(\"refreshToken\");\n    }\n  },\n\n  // í† í° ê°±ì‹ \n  refreshToken: async () => {\n    const refreshToken = localStorage.getItem(\"refreshToken\");\n    if (!refreshToken) {\n      throw new Error(\"ë¦¬í”„ë ˆì‹œ í† í°ì´ ì—†ìŠµë‹ˆë‹¤\");\n    }\n\n    const response = await api.post(\"/auth/refresh\", { refreshToken });\n    const { accessToken, idToken } = response.data;\n\n    // ìƒˆ í† í° ì €ì¥\n    localStorage.setItem(\"accessToken\", accessToken);\n    localStorage.setItem(\"idToken\", idToken);\n\n    return response.data;\n  },\n\n  // ì´ë©”ì¼ ì¸ì¦\n  verifyEmail: async (verificationData) => {\n    const response = await api.post(\"/auth/verify\", verificationData);\n    return response.data;\n  },\n\n  // ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°\n  forgotPassword: async (email) => {\n    const response = await api.post(\"/auth/forgot-password\", { email });\n    return response.data;\n  },\n\n  // ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •\n  confirmPassword: async (resetData) => {\n    const response = await api.post(\"/auth/confirm-password\", resetData);\n    return response.data;\n  },\n\n  // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ (í† í°ì—ì„œ ì¶”ì¶œ)\n  getCurrentUser: () => {\n    const token = localStorage.getItem(\"idToken\");\n    if (!token) return null;\n\n    try {\n      // JWT í† í° ë””ì½”ë”© (ê°„ë‹¨í•œ ë°©ë²• - ì‹¤ì œë¡œëŠ” jwt-decode ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¶Œì¥)\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      return {\n        email: payload.email,\n        name: payload.name,\n        sub: payload.sub,\n      };\n    } catch (error) {\n      console.error(\"í† í° ë””ì½”ë”© ì˜¤ë¥˜:\", error);\n      return null;\n    }\n  },\n\n  // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸\n  isAuthenticated: () => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (!token) return false;\n\n    try {\n      // í† í° ë§Œë£Œ ì‹œê°„ í™•ì¸\n      const payload = JSON.parse(atob(token.split(\".\")[1]));\n      const currentTime = Date.now() / 1000;\n      return payload.exp > currentTime;\n    } catch (error) {\n      return false;\n    }\n  },\n};\n\n// íŒŒì¼ ì—…ë¡œë“œ API\nexport const uploadAPI = {\n  // S3 Pre-signed URLë¡œ íŒŒì¼ ì—…ë¡œë“œ\n  uploadFile: async (uploadUrl, file) => {\n    const response = await axios.put(uploadUrl, file, {\n      headers: {\n        \"Content-Type\": \"text/plain\",\n      },\n    });\n    return response;\n  },\n};\n\n// ğŸ†• í”„ë¡¬í”„íŠ¸ ì¹´í…Œê³ ë¦¬ ì •ì˜ (ë ˆê±°ì‹œ - ê¸°ì¡´ íŒŒì¼ ì—…ë¡œë“œìš©)\nexport const PROMPT_CATEGORIES = [\n  {\n    id: \"title_type_guidelines\",\n    name: \"ì œëª© ìœ í˜• ê°€ì´ë“œë¼ì¸\",\n    description: \"ì œëª©ì˜ ë‹¤ì–‘í•œ ìœ í˜•ê³¼ ì‘ì„± ì›ì¹™\",\n    required: true,\n  },\n  {\n    id: \"stylebook_guidelines\",\n    name: \"ìŠ¤íƒ€ì¼ë¶ ê°€ì´ë“œë¼ì¸\",\n    description: \"ì„œìš¸ê²½ì œì‹ ë¬¸ì˜ ìŠ¤íƒ€ì¼ë¶ ê·œì •\",\n    required: true,\n  },\n  {\n    id: \"workflow\",\n    name: \"ì›Œí¬í”Œë¡œìš°\",\n    description: \"ì œëª© ìƒì„± 6ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°\",\n    required: true,\n  },\n  {\n    id: \"audience_optimization\",\n    name: \"ë…ì ìµœì í™”\",\n    description: \"ëŒ€ìƒ ë…ìì¸µë³„ ìµœì í™” ì „ëµ\",\n    required: true,\n  },\n  {\n    id: \"seo_optimization\",\n    name: \"SEO ìµœì í™”\",\n    description: \"ê²€ìƒ‰ ì—”ì§„ ìµœì í™” ê°€ì´ë“œë¼ì¸\",\n    required: false,\n  },\n  {\n    id: \"digital_elements_guidelines\",\n    name: \"ë””ì§€í„¸ ìš”ì†Œ ê°€ì´ë“œë¼ì¸\",\n    description: \"ì˜¨ë¼ì¸ ë§¤ì²´ íŠ¹ì„±ì— ë§ëŠ” ì œëª© ì‘ì„±ë²•\",\n    required: true,\n  },\n  {\n    id: \"quality_assessment\",\n    name: \"í’ˆì§ˆ í‰ê°€\",\n    description: \"ì œëª© í’ˆì§ˆ í‰ê°€ ê¸°ì¤€\",\n    required: true,\n  },\n  {\n    id: \"uncertainty_handling\",\n    name: \"ë¶ˆí™•ì‹¤ì„± ì²˜ë¦¬\",\n    description: \"ë¶ˆí™•ì‹¤í•œ ì •ë³´ ì²˜ë¦¬ ê°€ì´ë“œë¼ì¸\",\n    required: true,\n  },\n  {\n    id: \"output_format\",\n    name: \"ì¶œë ¥ í˜•ì‹\",\n    description: \"ê²°ê³¼ ì¶œë ¥ í˜•ì‹ ì •ì˜\",\n    required: true,\n  },\n  {\n    id: \"description\",\n    name: \"í”„ë¡œì íŠ¸ ì„¤ëª…\",\n    description: \"TITLE-NOMICS ì‹œìŠ¤í…œ ì„¤ëª…\",\n    required: true,\n  },\n  {\n    id: \"knowledge\",\n    name: \"í•µì‹¬ ì§€ì‹\",\n    description: \"ì œëª© ì‘ì„± í•µì‹¬ ì§€ì‹\",\n    required: true,\n  },\n];\n\n// ğŸ†• í”„ë¡¬í”„íŠ¸ ì¹´ë“œ ì¹´í…Œê³ ë¦¬ ì •ì˜ (ìƒˆë¡œìš´ ì¹´ë“œ ì‹œìŠ¤í…œìš©)\n// í”„ë¡¬í”„íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì¹´í…Œê³ ë¦¬ ì²´ê³„\nexport const PROMPT_CARD_CATEGORIES = [\n  {\n    id: \"role\",\n    name: \"ì—­í•  (Role)\",\n    description: \"ëª¨ë¸ì´ ë§¡ê²Œ ë  í˜ë¥´ì†Œë‚˜ ë° ì—­í•  ì •ì˜\",\n    color: \"purple\",\n    icon: \"ğŸ­\",\n    order: 1,\n    orchestration_step: \"persona_definition\",\n  },\n  {\n    id: \"guideline\",\n    name: \"ê°€ì´ë“œë¼ì¸ (Guideline)\",\n    description: \"ëª…í™•í•œ ì œí•œì‚¬í•­, ë£°, ì¡°ê±´\",\n    color: \"blue\",\n    icon: \"ğŸ“¦\",\n    order: 2,\n    orchestration_step: \"constraint_definition\",\n  },\n  {\n    id: \"workflow\",\n    name: \"ì›Œí¬í”Œë¡œìš° (Workflow)\",\n    description: \"ì‘ì—…ì„ ìˆ˜í–‰í•  ë‹¨ê³„, ìˆœì„œ\",\n    color: \"green\",\n    icon: \"ğŸ§©\",\n    order: 3,\n    orchestration_step: \"process_execution\",\n  },\n  {\n    id: \"output_format\",\n    name: \"ì¶œë ¥ê²°ê³¼ (Output Format)\",\n    description: \"ìµœì¢… ê²°ê³¼ë¬¼ í¬ë§· ì •ì˜\",\n    color: \"orange\",\n    icon: \"ğŸ¯\",\n    order: 4,\n    orchestration_step: \"format_validation\",\n  },\n  {\n    id: \"few_shot\",\n    name: \"ì˜ˆì‹œ (Few-shot)\",\n    description: \"few-shot learning ì˜ˆì œ\",\n    color: \"yellow\",\n    icon: \"ğŸ’¡\",\n    order: 5,\n    orchestration_step: \"example_learning\",\n  },\n  {\n    id: \"scoring\",\n    name: \"ê²€ìˆ˜ (Scoring)\",\n    description: \"ê²€ìˆ˜ ê·œì¹™ ë° í‰ê°€ ê¸°ì¤€\",\n    color: \"red\",\n    icon: \"ğŸ”\",\n    order: 6,\n    orchestration_step: \"quality_assessment\",\n  },\n];\n\n// ì‚¬ìš© ê°€ëŠ¥í•œ AI ëª¨ë¸ ëª©ë¡\nexport const AVAILABLE_MODELS = [\n  {\n    id: \"us.anthropic.claude-3-5-sonnet-20241022-v2:0\",\n    name: \"Claude 3.5 Sonnet (ìµœì‹ )\",\n    description: \"ê°€ì¥ ìµœì‹ ì´ê³  ì„±ëŠ¥ì´ ë›°ì–´ë‚œ ëª¨ë¸\",\n    maxTokens: 200000,\n  },\n  {\n    id: \"us.anthropic.claude-3-sonnet-20240229-v1:0\",\n    name: \"Claude 3 Sonnet\",\n    description: \"ê· í˜•ì¡íŒ ì„±ëŠ¥ê³¼ ì†ë„\",\n    maxTokens: 200000,\n  },\n  {\n    id: \"us.anthropic.claude-3-haiku-20240307-v1:0\",\n    name: \"Claude 3 Haiku\",\n    description: \"ë¹ ë¥¸ ì†ë„, íš¨ìœ¨ì ì¸ ì²˜ë¦¬\",\n    maxTokens: 200000,\n  },\n  {\n    id: \"anthropic.claude-instant-v1\",\n    name: \"Claude Instant\",\n    description: \"ì¦‰ì‹œ ì‘ë‹µ, ê°„ë‹¨í•œ ì‘ì—…ìš©\",\n    maxTokens: 100000,\n  },\n  {\n    id: \"amazon.titan-text-lite-v1\",\n    name: \"Titan Text Lite\",\n    description: \"ê°€ë²¼ìš´ í…ìŠ¤íŠ¸ ì²˜ë¦¬\",\n    maxTokens: 4000,\n  },\n  {\n    id: \"amazon.titan-text-express-v1\",\n    name: \"Titan Text Express\",\n    description: \"ë¹ ë¥¸ í…ìŠ¤íŠ¸ ìƒì„±\",\n    maxTokens: 8000,\n  },\n];\n\n// ì—ëŸ¬ í•¸ë“¤ë§ ìœ í‹¸ë¦¬í‹°\nexport const handleAPIError = (error) => {\n  if (error.response) {\n    // ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜\n    const { status, data } = error.response;\n    return {\n      message: data?.error || `ì„œë²„ ì˜¤ë¥˜ (${status})`,\n      status,\n    };\n  } else if (error.request) {\n    // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜\n    return {\n      message: \"ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”\",\n      status: 0,\n    };\n  } else {\n    // ê¸°íƒ€ ì˜¤ë¥˜\n    return {\n      message: error.message || \"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤\",\n      status: -1,\n    };\n  }\n};\n\n// ê¸°ë³¸ í”„ë¡œì íŠ¸ ì¹´í…Œê³ ë¦¬ ì •ì˜ (ì´ëª¨ì§€ ì œê±°, ì „ë¬¸ì  ë””ìì¸)\nexport const DEFAULT_PROJECT_CATEGORIES = [\n  {\n    id: \"news\",\n    name: \"ë‰´ìŠ¤/ì–¸ë¡ \",\n    color: \"blue\",\n    description: \"ë‰´ìŠ¤ ê¸°ì‚¬, ì–¸ë¡  ë³´ë„ ì œëª© ìƒì„±\",\n    isDefault: true,\n  },\n  {\n    id: \"business\",\n    name: \"ë¹„ì¦ˆë‹ˆìŠ¤\",\n    color: \"green\",\n    description: \"ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì„œ, ê¸°ì—… ì»¤ë®¤ë‹ˆì¼€ì´ì…˜\",\n    isDefault: true,\n  },\n  {\n    id: \"corporate\",\n    name: \"ê¸°ì—… í™ë³´\",\n    color: \"purple\",\n    description: \"ê¸°ì—… í™ë³´, ë§ˆì¼€íŒ… ì½˜í…ì¸ \",\n    isDefault: true,\n  },\n  {\n    id: \"education\",\n    name: \"êµìœ¡/ì—°êµ¬\",\n    color: \"orange\",\n    description: \"êµìœ¡ ìë£Œ, ì—°êµ¬ ë…¼ë¬¸, í•™ìˆ  ìë£Œ\",\n    isDefault: true,\n  },\n  {\n    id: \"marketing\",\n    name: \"ë§ˆì¼€íŒ…/ê´‘ê³ \",\n    color: \"yellow\",\n    description: \"ê´‘ê³  ì¹´í”¼, ë§ˆì¼€íŒ… ìº í˜ì¸\",\n    isDefault: true,\n  },\n  {\n    id: \"social\",\n    name: \"ì†Œì…œë¯¸ë””ì–´\",\n    color: \"indigo\",\n    description: \"SNS í¬ìŠ¤íŒ…, ì†Œì…œ ì½˜í…ì¸ \",\n    isDefault: true,\n  },\n  {\n    id: \"tech\",\n    name: \"ê¸°ìˆ /IT\",\n    color: \"cyan\",\n    description: \"ê¸°ìˆ  ë¬¸ì„œ, IT ë‰´ìŠ¤, ê°œë°œ ê´€ë ¨\",\n    isDefault: true,\n  },\n];\n\n// ì‚¬ìš©ì ì •ì˜ ì¹´í…Œê³ ë¦¬ API\nexport const categoryAPI = {\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ\n  getUserCategories: async () => {\n    // ğŸš¨ ê°œë°œ ëª¨ë“œ: API í˜¸ì¶œ ê±´ë„ˆë›°ê³  ë°”ë¡œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n    console.log(\n      \"ğŸ§ª ê°œë°œ ëª¨ë“œ: ì¹´í…Œê³ ë¦¬ API í˜¸ì¶œ ê±´ë„ˆë›°ê¸° - ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\"\n    );\n\n    const savedCategories = localStorage.getItem(\"userCategories\");\n    if (savedCategories) {\n      return JSON.parse(savedCategories);\n    }\n    return { categories: DEFAULT_PROJECT_CATEGORIES };\n\n    // API í˜¸ì¶œ ë¶€ë¶„ì€ ì„ì‹œ ë¹„í™œì„±í™”\n    // try {\n    //   const response = await api.get(\"/categories\");\n    //   return response.data;\n    // } catch (error) {\n    //   // ë°±ì—”ë“œ APIê°€ ì—†ëŠ” ê²½ìš° ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n    //   const savedCategories = localStorage.getItem(\"userCategories\");\n    //   if (savedCategories) {\n    //     return JSON.parse(savedCategories);\n    //   }\n    //   return { categories: DEFAULT_PROJECT_CATEGORIES };\n    // }\n  },\n\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ìƒì„±\n  createCategory: async (categoryData) => {\n    try {\n      const response = await api.post(\"/categories\", categoryData);\n      return response.data;\n    } catch (error) {\n      // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n      const savedCategories = localStorage.getItem(\"userCategories\");\n      const categories = savedCategories\n        ? JSON.parse(savedCategories)\n        : { categories: [...DEFAULT_PROJECT_CATEGORIES] };\n\n      const newCategory = {\n        ...categoryData,\n        id: `custom_${Date.now()}`,\n        isDefault: false,\n        createdAt: new Date().toISOString(),\n      };\n\n      categories.categories.push(newCategory);\n      localStorage.setItem(\"userCategories\", JSON.stringify(categories));\n      return newCategory;\n    }\n  },\n\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ìˆ˜ì •\n  updateCategory: async (categoryId, categoryData) => {\n    try {\n      const response = await api.put(`/categories/${categoryId}`, categoryData);\n      return response.data;\n    } catch (error) {\n      // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n      const savedCategories = localStorage.getItem(\"userCategories\");\n      const categories = savedCategories\n        ? JSON.parse(savedCategories)\n        : { categories: [...DEFAULT_PROJECT_CATEGORIES] };\n\n      const categoryIndex = categories.categories.findIndex(\n        (cat) => cat.id === categoryId\n      );\n      if (categoryIndex !== -1) {\n        categories.categories[categoryIndex] = {\n          ...categories.categories[categoryIndex],\n          ...categoryData,\n          updatedAt: new Date().toISOString(),\n        };\n        localStorage.setItem(\"userCategories\", JSON.stringify(categories));\n        return categories.categories[categoryIndex];\n      }\n      throw new Error(\"ì¹´í…Œê³ ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n    }\n  },\n\n  // ì‚¬ìš©ì ì¹´í…Œê³ ë¦¬ ì‚­ì œ\n  deleteCategory: async (categoryId) => {\n    try {\n      const response = await api.delete(`/categories/${categoryId}`);\n      return response.data;\n    } catch (error) {\n      // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©\n      const savedCategories = localStorage.getItem(\"userCategories\");\n      const categories = savedCategories\n        ? JSON.parse(savedCategories)\n        : { categories: [...DEFAULT_PROJECT_CATEGORIES] };\n\n      const categoryIndex = categories.categories.findIndex(\n        (cat) => cat.id === categoryId\n      );\n      if (categoryIndex !== -1) {\n        categories.categories.splice(categoryIndex, 1);\n        localStorage.setItem(\"userCategories\", JSON.stringify(categories));\n        return { success: true };\n      }\n      throw new Error(\"ì¹´í…Œê³ ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n    }\n  },\n};\n\n// í”„ë¡œì íŠ¸ ì¹´í…Œê³ ë¦¬ ë³€ê²½ API\nexport const projectCategoryAPI = {\n  // í”„ë¡œì íŠ¸ ì¹´í…Œê³ ë¦¬ ë³€ê²½\n  updateProjectCategory: async (projectId, categoryId) => {\n    try {\n      const response = await api.put(`/projects/${projectId}/category`, {\n        category: categoryId,\n      });\n      return response.data;\n    } catch (error) {\n      // ì„ì‹œë¡œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì²˜ë¦¬ (ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œì—ì„œ ì²˜ë¦¬í•´ì•¼ í•¨)\n      console.log(`í”„ë¡œì íŠ¸ ${projectId}ì˜ ì¹´í…Œê³ ë¦¬ë¥¼ ${categoryId}ë¡œ ë³€ê²½`);\n      return { success: true, projectId, category: categoryId };\n    }\n  },\n};\n\n//í”„ë¡œì íŠ¸ í†µê³„ ì •ë³´ API\nexport const projectStatsAPI = {\n  // í”„ë¡œì íŠ¸ ìƒì„¸ í†µê³„ ì¡°íšŒ\n  getProjectStats: async (projectId) => {\n    const response = await api.get(`/projects/${projectId}/stats`);\n    return response.data;\n  },\n\n  // ëª¨ë“  í”„ë¡œì íŠ¸ í†µê³„ ìš”ì•½\n  getAllProjectsStats: async () => {\n    const response = await api.get(\"/projects/stats\");\n    return response.data;\n  },\n};\n\n// í”„ë¡¬í”„íŠ¸ í†µê³„ ì •ë³´ ê³„ì‚° ìœ í‹¸ë¦¬í‹°\nexport const calculatePromptStats = (promptCards) => {\n  const stats = {\n    totalCards: promptCards.length,\n    activeCards: promptCards.filter((card) => card.enabled !== false).length,\n    totalTokens: 0,\n    totalSize: 0,\n    avgTokensPerCard: 0,\n    categories: new Set(),\n    models: new Set(),\n    temperatureRange: { min: 1, max: 0 },\n  };\n\n  promptCards.forEach((card) => {\n    // ì¹´í…Œê³ ë¦¬ ìˆ˜ì§‘\n    stats.categories.add(card.category);\n\n    // ëª¨ë¸ ìˆ˜ì§‘\n    stats.models.add(card.model);\n\n    // í”„ë¡¬í”„íŠ¸ í…ìŠ¤íŠ¸ í†µê³„\n    if (card.prompt_text) {\n      const textLength = card.prompt_text.length;\n      stats.totalSize += textLength;\n\n      // ëŒ€ëµì ì¸ í† í° ìˆ˜ ê³„ì‚° (ì˜ì–´: 4ì/í† í°, í•œêµ­ì–´: 2ì/í† í°)\n      const estimatedTokens = Math.ceil(textLength / 2.5);\n      stats.totalTokens += estimatedTokens;\n    }\n\n    // ì˜¨ë„ ë²”ìœ„ ê³„ì‚°\n    const temp = parseFloat(card.temperature);\n    if (temp < stats.temperatureRange.min) stats.temperatureRange.min = temp;\n    if (temp > stats.temperatureRange.max) stats.temperatureRange.max = temp;\n  });\n\n  // í‰ê·  í† í° ê³„ì‚°\n  stats.avgTokensPerCard =\n    stats.totalCards > 0 ? Math.round(stats.totalTokens / stats.totalCards) : 0;\n\n  // Setì„ ë°°ì—´ë¡œ ë³€í™˜\n  stats.categories = Array.from(stats.categories);\n  stats.models = Array.from(stats.models);\n\n  return stats;\n};\n\n// ìŠ¤ë§ˆíŠ¸ ì œëª© ìƒì„± í•¨ìˆ˜ (ì‹¤ì œ ë‰´ìŠ¤ ë¶„ì„)\nconst generateSmartTitles = (articleContent, userRequest = \"\") => {\n  const content = articleContent.toLowerCase();\n\n  // ë” ì •êµí•œ ë¶„ì„\n  const analysis = analyzeArticleContent(content);\n  const keywords = extractRealKeywords(content);\n\n  // ì‚¬ìš©ì ìš”ì²­ ë¶„ì„\n  const isShortRequest =\n    userRequest.includes(\"ì§§ê²Œ\") ||\n    userRequest.includes(\"ê°„ê²°\") ||\n    userRequest.includes(\"ë‹¨ìˆœ\");\n  const isImpactfulRequest =\n    userRequest.includes(\"ì„íŒ©íŠ¸\") ||\n    userRequest.includes(\"ê°•ë ¬\") ||\n    userRequest.includes(\"ëˆˆì— ë„\");\n  const isConservativeRequest =\n    userRequest.includes(\"ë³´ìˆ˜ì \") ||\n    userRequest.includes(\"ì•ˆì „\") ||\n    userRequest.includes(\"ì „ë¬¸ì \");\n\n  console.log(\"ğŸ“° ê¸°ì‚¬ ë¶„ì„ ê²°ê³¼:\", analysis);\n  console.log(\"ğŸ”‘ ì¶”ì¶œëœ í‚¤ì›Œë“œ:\", keywords);\n\n  // ì‹¤ì œ ê¸°ì‚¬ ë‚´ìš© ê¸°ë°˜ ì œëª© ìƒì„±\n  const titles = [];\n\n  // ê¸°ë³¸ì ì¸ ì‚¬ì‹¤ ì „ë‹¬í˜• ì œëª©ë“¤\n  if (analysis.mainSubject && analysis.mainAction) {\n    titles.push(`${analysis.mainSubject} ${analysis.mainAction}`);\n    titles.push(`${analysis.mainSubject}, ${analysis.mainAction} ë‚˜ì„œ`);\n  }\n\n  // êµ¬ì²´ì  ì •ë³´ê°€ ìˆëŠ” ê²½ìš°\n  if (analysis.specificInfo) {\n    titles.push(\n      `${analysis.mainSubject} ${analysis.specificInfo} ${analysis.mainAction}`\n    );\n  }\n\n  // ì‹œì /ì „ë§ ì •ë³´ê°€ ìˆëŠ” ê²½ìš°\n  if (analysis.timeframe || analysis.target) {\n    const timeInfo = analysis.timeframe || analysis.target;\n    titles.push(\n      `${analysis.mainSubject}, ${timeInfo} ${analysis.mainAction} ê³„íš`\n    );\n  }\n\n  // ê²°ê³¼/íš¨ê³¼ ì¤‘ì‹¬ ì œëª©\n  if (analysis.expectedResult) {\n    titles.push(\n      `${analysis.mainSubject} ${analysis.mainAction}ë¡œ ${analysis.expectedResult} ë…¸ë¦°ë‹¤`\n    );\n  }\n\n  // í´ë°±: ê¸°ë³¸ ì œëª©ë“¤\n  if (titles.length < 3) {\n    titles.push(`${analysis.mainSubject || \"ê¸°ì—…\"} ìƒˆë¡œìš´ ë„ì „`);\n    titles.push(`ì£¼ëª©ë°›ëŠ” ${analysis.mainAction || \"ì‚¬ì—… ì „ëµ\"}`);\n    titles.push(`${analysis.industry || \"ì—…ê³„\"} ë³€í™” ë°”ëŒ`);\n  }\n\n  // ì‚¬ìš©ì ìš”ì²­ì— ë”°ë¥¸ ì œëª© ì¡°ì •\n  let finalTitles = titles.slice(0, 5);\n\n  if (isShortRequest) {\n    // ì§§ì€ ì œëª© ìš”ì²­ ì‹œ ê¸€ì ìˆ˜ ì¶•ì•½\n    finalTitles = finalTitles.map((title) => {\n      if (title.length > 20) {\n        return title.substring(0, 18) + \"..\";\n      }\n      return title;\n    });\n  }\n\n  if (isImpactfulRequest) {\n    // ì„íŒ©íŠ¸ ê°•í™” ìš”ì²­ ì‹œ ê°•ë ¬í•œ í‘œí˜„ ì¶”ê°€\n    finalTitles = finalTitles.map((title) => {\n      if (!title.includes(\"!\") && !title.includes(\"ì£¼ëª©\")) {\n        return title.replace(/ê³„íš|ì˜ˆì •/, \"í™•ì •\").replace(/ì¶”ì§„|ì§„í–‰/, \"ë‹¨í–‰\");\n      }\n      return title;\n    });\n  }\n\n  if (isConservativeRequest) {\n    // ë³´ìˆ˜ì  ìš”ì²­ ì‹œ ì•ˆì •ì  í‘œí˜„ìœ¼ë¡œ ë³€ê²½\n    finalTitles = finalTitles.map((title) => {\n      return title.replace(/ê²Œì„ì²´ì¸ì €|ìŠ¹ë¶€ìˆ˜/, \"ì „ëµ\").replace(/!/, \"\");\n    });\n  }\n\n  // userRequestê°€ ìˆìœ¼ë©´ ì²« ë²ˆì§¸ ì œëª©ì— ë°˜ì˜ ìƒíƒœ í‘œì‹œ\n  const requestNote = userRequest\n    ? `\\n\\nğŸ’¡ \"${userRequest}\" ìš”ì²­ì„ ë°˜ì˜í•˜ì—¬ ìƒì„±í–ˆìŠµë‹ˆë‹¤.`\n    : \"\";\n\n  return (\n    finalTitles.map((title, i) => `${i + 1}. ${title}`).join(\"\\n\") + requestNote\n  );\n};\n\n// ì‹¤ì œ ê¸°ì‚¬ ë‚´ìš© ë¶„ì„ í•¨ìˆ˜\nconst analyzeArticleContent = (content) => {\n  // íšŒì‚¬ëª… ì¶”ì¶œ\n  const companies = [\n    \"lgì „ì\",\n    \"lg\",\n    \"ì—˜ì§€ì „ì\",\n    \"ì‚¼ì„±ì „ì\",\n    \"ì‚¼ì„±\",\n    \"skí•˜ì´ë‹‰ìŠ¤\",\n    \"sk\",\n    \"í˜„ëŒ€ìë™ì°¨\",\n    \"í˜„ëŒ€\",\n    \"í¬ìŠ¤ì½”\",\n    \"ë„¤ì´ë²„\",\n    \"ì¹´ì¹´ì˜¤\",\n    \"ì¿ íŒ¡\",\n    \"kt\",\n    \"skt\",\n    \"ë¡¯ë°\",\n    \"ì‹ ì„¸ê³„\",\n    \"í•˜ë‚˜ê¸ˆìœµ\",\n    \"ìš°ë¦¬ì€í–‰\",\n    \"kbê¸ˆìœµ\",\n    \"ê¸°ì•„\",\n    \"ë‘ì‚°\",\n    \"gs\",\n    \"í•œí™”\",\n    \"ls\",\n    \"ì˜¤ë¦¬ì˜¨\",\n    \"cj\",\n  ];\n\n  const foundCompany = companies.find((company) => content.includes(company));\n\n  // ì•¡ì…˜ ë™ì‚¬ ì¶”ì¶œ\n  const actions = [\n    { keywords: [\"ì¶œì‹œ\", \"ëŸ°ì¹­\", \"ë°œí‘œ\"], action: \"ì¶œì‹œ\" },\n    { keywords: [\"ê°œë°œ\", \"ì—°êµ¬\", \"ì œì‘\"], action: \"ê°œë°œ\" },\n    { keywords: [\"ì¸ìˆ˜\", \"í•©ë³‘\", \"íˆ¬ì\"], action: \"íˆ¬ì\" },\n    { keywords: [\"ì§„ì¶œ\", \"í™•ì¥\", \"ì§„ì…\"], action: \"ì§„ì¶œ\" },\n    { keywords: [\"ê³„íš\", \"ì˜ˆì •\", \"ì¶”ì§„\"], action: \"ì¶”ì§„\" },\n    { keywords: [\"í˜‘ë ¥\", \"ì œíœ´\", \"íŒŒíŠ¸ë„ˆì‹­\"], action: \"í˜‘ë ¥\" },\n    { keywords: [\"êµ¬ì¶•\", \"ì„¤ë¦½\", \"ê±´ì„¤\"], action: \"êµ¬ì¶•\" },\n  ];\n\n  const foundAction = actions.find((actionGroup) =>\n    actionGroup.keywords.some((keyword) => content.includes(keyword))\n  );\n\n  // êµ¬ì²´ì  ì •ë³´ ì¶”ì¶œ\n  const specificTerms = [\n    \"ai\",\n    \"ì¸ê³µì§€ëŠ¥\",\n    \"ë°˜ë„ì²´\",\n    \"hbm\",\n    \"ì „ê¸°ì°¨\",\n    \"ev\",\n    \"ë°°í„°ë¦¬\",\n    \"ì†Œí”„íŠ¸ì›¨ì–´\",\n    \"í”Œë«í¼\",\n    \"ì„œë¹„ìŠ¤\",\n    \"ì†”ë£¨ì…˜\",\n    \"ì‹œìŠ¤í…œ\",\n    \"ê¸°ìˆ \",\n    \"ì¥ë¹„\",\n    \"ì œí’ˆ\",\n  ];\n\n  const foundSpecific = specificTerms.find((term) => content.includes(term));\n\n  // ì‹œê°„ ê´€ë ¨ ì •ë³´\n  const timeframes = [\n    \"2024ë…„\",\n    \"2025ë…„\",\n    \"2026ë…„\",\n    \"ë‚´ë…„\",\n    \"ì˜¬í•´\",\n    \"ìƒë°˜ê¸°\",\n    \"í•˜ë°˜ê¸°\",\n    \"1ë¶„ê¸°\",\n    \"2ë¶„ê¸°\",\n    \"3ë¶„ê¸°\",\n    \"4ë¶„ê¸°\",\n    \"ì—°ë§\",\n    \"ì—°ì´ˆ\",\n  ];\n\n  const foundTimeframe = timeframes.find((time) => content.includes(time));\n\n  // ëª©í‘œ/ê²°ê³¼ ê´€ë ¨\n  const results = [\n    \"ë§¤ì¶œ ì¦ëŒ€\",\n    \"ì‹œì¥ ì ìœ ìœ¨\",\n    \"ê²½ìŸë ¥ ê°•í™”\",\n    \"ìˆ˜ìµì„± ê°œì„ \",\n    \"ê¸€ë¡œë²Œ ì§„ì¶œ\",\n    \"ë””ì§€í„¸ ì „í™˜\",\n    \"íƒ„ì†Œì¤‘ë¦½\",\n    \"esg\",\n    \"ì§€ì†ê°€ëŠ¥\",\n  ];\n\n  const foundResult = results.find((result) => content.includes(result));\n\n  // ì‚°ì—… ë¶„ì•¼\n  const industries = [\n    \"ë°˜ë„ì²´\",\n    \"ìë™ì°¨\",\n    \"ê¸ˆìœµ\",\n    \"ìœ í†µ\",\n    \"í†µì‹ \",\n    \"ê±´ì„¤\",\n    \"ì—ë„ˆì§€\",\n    \"ë°”ì´ì˜¤\",\n    \"ê²Œì„\",\n    \"it\",\n    \"ì†Œí”„íŠ¸ì›¨ì–´\",\n    \"í•˜ë“œì›¨ì–´\",\n  ];\n\n  const foundIndustry = industries.find((industry) =>\n    content.includes(industry)\n  );\n\n  // íšŒì‚¬ëª… ì •ë¦¬\n  let cleanCompany = foundCompany;\n  if (foundCompany) {\n    if (foundCompany === \"lg\" || foundCompany === \"lgì „ì\")\n      cleanCompany = \"LGì „ì\";\n    else if (foundCompany === \"ì‚¼ì„±\" || foundCompany === \"ì‚¼ì„±ì „ì\")\n      cleanCompany = \"ì‚¼ì„±ì „ì\";\n    else if (foundCompany === \"sk\" || foundCompany === \"skí•˜ì´ë‹‰ìŠ¤\")\n      cleanCompany = \"SKí•˜ì´ë‹‰ìŠ¤\";\n    else if (foundCompany === \"í˜„ëŒ€\" || foundCompany === \"í˜„ëŒ€ìë™ì°¨\")\n      cleanCompany = \"í˜„ëŒ€ìë™ì°¨\";\n    else cleanCompany = foundCompany;\n  }\n\n  return {\n    mainSubject: cleanCompany || extractSubjectFromSentence(content),\n    mainAction: foundAction ? foundAction.action : \"ë°œí‘œ\",\n    specificInfo: foundSpecific,\n    timeframe: foundTimeframe,\n    expectedResult: foundResult,\n    industry: foundIndustry,\n  };\n};\n\n// ë¬¸ì¥ì—ì„œ ì£¼ì–´ ì¶”ì¶œ (ê°„ë‹¨í•œ ë°©ì‹)\nconst extractSubjectFromSentence = (content) => {\n  const sentences = content.split(/[.!?]/).filter((s) => s.length > 10);\n  if (sentences.length === 0) return \"ê¸°ì—…\";\n\n  const firstSentence = sentences[0].trim();\n  const words = firstSentence.split(\" \");\n\n  // ì²« ë²ˆì§¸ ë¬¸ì¥ì˜ ì²« ë²ˆì§¸ ë‹¨ì–´ê°€ ì£¼ì–´ì¸ ê²½ìš°ê°€ ë§ìŒ\n  if (words.length > 0) {\n    const subject = words[0].replace(/[^ê°€-í£a-zA-Z0-9]/g, \"\");\n    if (subject.length > 1) {\n      return subject;\n    }\n  }\n\n  return \"ê¸°ì—…\";\n};\n\n// ì‹¤ì œ í‚¤ì›Œë“œ ì¶”ì¶œ (ë¹ˆë„ ê¸°ë°˜)\nconst extractRealKeywords = (content) => {\n  const commonWords = [\n    \"ê·¸ëŠ”\",\n    \"ê·¸ë…€ëŠ”\",\n    \"ì´ëŠ”\",\n    \"ì´ë²ˆ\",\n    \"ìµœê·¼\",\n    \"ë‹¹ì‹œ\",\n    \"í˜„ì¬\",\n    \"ì•ì„œ\",\n    \"ë˜í•œ\",\n    \"í•˜ì§€ë§Œ\",\n    \"ê·¸ëŸ¬ë‚˜\",\n    \"ë”°ë¼ì„œ\",\n  ];\n  const words = content\n    .split(/\\s+/)\n    .map((word) => word.replace(/[^ê°€-í£a-zA-Z0-9]/g, \"\"))\n    .filter((word) => word.length > 1 && !commonWords.includes(word));\n\n  // ë¹ˆë„ ê³„ì‚°\n  const frequency = {};\n  words.forEach((word) => {\n    frequency[word] = (frequency[word] || 0) + 1;\n  });\n\n  // ìƒìœ„ í‚¤ì›Œë“œ ë°˜í™˜\n  return Object.entries(frequency)\n    .sort(([, a], [, b]) => b - a)\n    .slice(0, 5)\n    .map(([word]) => word);\n};\n\n// ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ë¥¼ ë°˜ì˜í•œ ì œëª© ìƒì„± (Bedrock Claude ì‹œë®¬ë ˆì´ì…˜)\nconst generateTitlesWithUserPrompts = (\n  articleContent,\n  userRequest = \"\",\n  savedPrompts = {}\n) => {\n  console.log(\"ğŸ§  Claude ì‹œë®¬ë ˆì´ì…˜: ë‹¨ê³„ë³„ í”„ë¡¬í”„íŠ¸ ì²˜ë¦¬\");\n\n  // 1ë‹¨ê³„: ì—­í•  ë° ëª©í‘œ (instruction)\n  const rolePrompt =\n    savedPrompts.instruction || \"ë‹¹ì‹ ì€ ì „ë¬¸ì ì¸ ê¸°ì‚¬ ì œëª© ìƒì„± AIì…ë‹ˆë‹¤.\";\n  console.log(\"1ï¸âƒ£ ì—­í•  ì •ì˜:\", rolePrompt.substring(0, 50) + \"...\");\n\n  // 2ë‹¨ê³„: ì§€ì‹ ë² ì´ìŠ¤ (knowledge)\n  const knowledgePrompt =\n    savedPrompts.knowledge || \"ì œëª© ì‘ì„± ì›ì¹™: ê°„ê²°í•˜ê³  ëª…í™•í•œ í‘œí˜„\";\n  console.log(\"2ï¸âƒ£ ì§€ì‹ ë² ì´ìŠ¤:\", knowledgePrompt.substring(0, 50) + \"...\");\n\n  // 3ë‹¨ê³„: ì‚¬ê³  ê³¼ì • (secondary - CoT)\n  const reasoningPrompt =\n    savedPrompts.secondary || \"ë‹¨ê³„ë³„ ì‚¬ê³  ê³¼ì •ì„ ê±°ì³ ì œëª©ì„ ìƒì„±í•©ë‹ˆë‹¤.\";\n  console.log(\"3ï¸âƒ£ ì‚¬ê³  ê³¼ì •:\", reasoningPrompt.substring(0, 50) + \"...\");\n\n  // ê¸°ì‚¬ ë¶„ì„\n  const analysis = analyzeArticleContent(articleContent.toLowerCase());\n\n  // ì‚¬ìš©ì ìš”ì²­ ë¶„ì„\n  const isShortRequest =\n    userRequest.includes(\"ì§§ê²Œ\") || userRequest.includes(\"ê°„ê²°\");\n  const isImpactfulRequest =\n    userRequest.includes(\"ì„íŒ©íŠ¸\") ||\n    userRequest.includes(\"ê°•ë ¬\") ||\n    userRequest.includes(\"ëˆˆì— ë„\");\n  const isConservativeRequest =\n    userRequest.includes(\"ë³´ìˆ˜ì \") || userRequest.includes(\"ì•ˆì „\");\n\n  // Claude ìŠ¤íƒ€ì¼ì˜ ì œëª© ìƒì„± (ë‹¨ê³„ë³„ í”„ë¡¬í”„íŠ¸ ë°˜ì˜)\n  const titles = [];\n\n  // ê¸°ë³¸ ì •ë³´ ì „ë‹¬í˜• (knowledge í”„ë¡¬í”„íŠ¸ ë°˜ì˜)\n  if (analysis.mainSubject && analysis.mainAction) {\n    let title1 = `${analysis.mainSubject} ${analysis.mainAction}`;\n    let title2 = `${analysis.mainSubject}, ${analysis.mainAction} ê³„íš`;\n\n    // ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì ìš©\n    if (savedPrompts.style_guide) {\n      if (savedPrompts.style_guide.includes(\"ê°„ê²°\") || isShortRequest) {\n        title1 = title1.length > 15 ? title1.substring(0, 13) + \"..\" : title1;\n        title2 = title2.length > 15 ? title2.substring(0, 13) + \"..\" : title2;\n      }\n    }\n\n    titles.push(title1);\n    titles.push(title2);\n  }\n\n  // ìƒì„¸ ì •ë³´ í¬í•¨í˜• (secondary í”„ë¡¬í”„íŠ¸ì˜ ë‹¨ê³„ë³„ ì‚¬ê³  ë°˜ì˜)\n  if (analysis.specificInfo) {\n    let title3 = `${analysis.mainSubject} ${analysis.specificInfo} ${analysis.mainAction}`;\n    if (analysis.timeframe) {\n      title3 = `${analysis.mainSubject}, ${analysis.timeframe} ${analysis.specificInfo} ${analysis.mainAction}`;\n    }\n    titles.push(title3);\n  }\n\n  // ê²°ê³¼/íš¨ê³¼ ì¤‘ì‹¬ (validation í”„ë¡¬í”„íŠ¸ì˜ ReAct íŒ¨í„´ ë°˜ì˜)\n  if (analysis.expectedResult || analysis.industry) {\n    const effectTopic = analysis.expectedResult || `${analysis.industry} í˜ì‹ `;\n    titles.push(\n      `${analysis.mainSubject} ${analysis.mainAction}ë¡œ ${effectTopic} ë…¸ë¦°ë‹¤`\n    );\n  }\n\n  // enhancement í”„ë¡¬í”„íŠ¸ ë°˜ì˜ - í’ˆì§ˆ ê²€ì¦ ë° ê°œì„ \n  let finalTitles = titles.slice(0, 4);\n\n  // ì‚¬ìš©ì ìš”ì²­ì— ë”°ë¥¸ ì¡°ì •\n  if (isImpactfulRequest) {\n    finalTitles = finalTitles.map((title) => {\n      if (!title.includes(\"!\")) {\n        return (\n          title.replace(/ê³„íš|ì˜ˆì •/, \"í™•ì •\").replace(/ë…¸ë¦°ë‹¤/, \"ëª©í‘œ\") + \"!\"\n        );\n      }\n      return title;\n    });\n  }\n\n  if (isConservativeRequest) {\n    finalTitles = finalTitles.map((title) => {\n      return title.replace(/!/, \"\").replace(/ë…¸ë¦°ë‹¤/, \"ì „ë§\");\n    });\n  }\n\n  // í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ì¶”ê°€ ì œëª©\n  if (savedPrompts.enhancement && savedPrompts.enhancement.includes(\"ë§¤ë ¥ë„\")) {\n    finalTitles.push(\n      `ì£¼ëª©! ${analysis.mainSubject}ì˜ ${\n        analysis.specificInfo || \"ìƒˆë¡œìš´\"\n      } ë„ì „`\n    );\n  }\n\n  // ìµœì¢… ì •ë¦¬ ë° ë°˜í™˜\n  const resultTitles = finalTitles.slice(0, 5);\n  const promptInfo =\n    Object.keys(savedPrompts).length > 0\n      ? `\\n\\nğŸ¯ ì ìš©ëœ ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸: ${Object.keys(savedPrompts).join(\", \")}`\n      : \"\\n\\nğŸ“ ê¸°ë³¸ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©\";\n\n  const userRequestInfo = userRequest\n    ? `\\nğŸ’¡ \"${userRequest}\" ìš”ì²­ì´ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.`\n    : \"\";\n\n  return (\n    resultTitles.map((title, i) => `${i + 1}. ${title}`).join(\"\\n\") +\n    promptInfo +\n    userRequestInfo\n  );\n};\n\n// í”„ë¡¬í”„íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API\nexport const orchestrationAPI = {\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì‹¤í–‰\n  executeOrchestration: async (\n    projectId,\n    articleContent,\n    orchestrationConfig = {},\n    userRequest = \"\"\n  ) => {\n    // ê°œë°œ í™˜ê²½ì—ì„œ CORS ë¬¸ì œ ìš°íšŒìš© ëª¨í‚¤ ì‘ë‹µ\n    if (IS_MOCK_MODE) {\n      console.log(\n        \"ğŸš€ ê³ ë„í™”ëœ ëª¨í‚¤ ëª¨ë“œ: Bedrock Claude ì‹œë®¬ë ˆì´ì…˜ + ì‹¤ì œ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©\"\n      );\n      console.log(\"ğŸ“ ì‚¬ìš©ì ì¶”ê°€ ìš”ì²­:\", userRequest);\n\n      // localStorageì—ì„œ ì‹¤ì œ ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ë“¤ ê°€ì ¸ì˜¤ê¸°\n      const savedPrompts = JSON.parse(\n        localStorage.getItem(`prompts_${projectId}`) || \"{}\"\n      );\n      console.log(\"ğŸ’¾ ì‚¬ìš©í•  í”„ë¡¬í”„íŠ¸ë“¤:\", savedPrompts);\n\n      // ì‹¤ì œì™€ ìœ ì‚¬í•œ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜\n      await new Promise((resolve) => setTimeout(resolve, 2000)); // 2ì´ˆ ì§€ì—°\n\n      // ì‹¤ì œ ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ë¥¼ ë°˜ì˜í•œ ì œëª© ìƒì„±\n      const titles = generateTitlesWithUserPrompts(\n        articleContent,\n        userRequest,\n        savedPrompts\n      );\n      console.log(\"âœ¨ ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ ìƒì„±ëœ ì œëª©ë“¤:\", titles);\n\n      return {\n        message: \"ì œëª© ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤\",\n        executionId: `mock-${Date.now()}`,\n        projectId: \"mock-project\",\n        result: titles,\n        mode: \"mock\",\n        timestamp: new Date().toISOString(),\n        debug: {\n          promptCount: orchestrationConfig.enabledSteps?.length || 5,\n          usedDefaultGuidelines: false,\n          combinedPromptsLength: 1500,\n          promptTitles: orchestrationConfig.enabledSteps || [\n            \"instruction\",\n            \"knowledge\",\n            \"secondary\",\n            \"style_guide\",\n            \"validation\",\n          ],\n          firstPromptPreview: \"ëª¨í‚¤ ëª¨ë“œì—ì„œ ì‹¤í–‰ëœ í”„ë¡¬í”„íŠ¸ì…ë‹ˆë‹¤...\",\n        },\n      };\n    }\n\n    // ì‹¤ì œ API í˜¸ì¶œ - /generate ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©\n    const response = await api.post(`/projects/${projectId}/generate`, {\n      article: articleContent,\n      userRequest: userRequest,\n      useStepFunction: false, // ì§ì ‘ ëª¨ë“œ ì‚¬ìš©\n      enabledSteps: orchestrationConfig.enabledSteps || [],\n      temperature: orchestrationConfig.temperature || 0.7,\n    });\n\n    console.log(\"ğŸ” ì‹¤ì œ Generate API ì‘ë‹µ:\", response.data);\n    return response.data;\n  },\n\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ìƒíƒœ ì¡°íšŒ\n  getOrchestrationStatus: async (projectId, executionId) => {\n    const response = await api.get(\n      `/projects/${projectId}/orchestrate/${executionId}/status`\n    );\n    return response.data;\n  },\n\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ê²°ê³¼ ì¡°íšŒ\n  getOrchestrationResult: async (projectId, executionId) => {\n    const response = await api.get(\n      `/projects/${projectId}/orchestrate/${executionId}/result`\n    );\n    return response.data;\n  },\n\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë¡œê·¸ ì¡°íšŒ\n  getOrchestrationLogs: async (projectId, executionId) => {\n    const response = await api.get(\n      `/projects/${projectId}/orchestrate/${executionId}/logs`\n    );\n    return response.data;\n  },\n\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì „ëµ í…ŒìŠ¤íŠ¸\n  testOrchestrationStep: async (\n    projectId,\n    stepType,\n    promptContent,\n    articleContent\n  ) => {\n    const response = await api.post(`/projects/${projectId}/orchestrate/test`, {\n      stepType,\n      promptContent,\n      articleContent,\n    });\n    return response.data;\n  },\n\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ê³ ë„í™” ì„¤ì •\n  updateOrchestrationConfig: async (projectId, config) => {\n    const response = await api.put(\n      `/projects/${projectId}/orchestration-config`,\n      config\n    );\n    return response.data;\n  },\n\n  // ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë©”íŠ¸ë¦­ ì¡°íšŒ\n  getOrchestrationMetrics: async (projectId, timeRange = \"24h\") => {\n    const response = await api.get(\n      `/projects/${projectId}/orchestration-metrics`,\n      {\n        params: { timeRange },\n      }\n    );\n    return response.data;\n  },\n};\n\n// ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë‹¨ê³„ ì •ì˜\nexport const ORCHESTRATION_STEPS = {\n  PERSONA_DEFINITION: {\n    id: \"persona_definition\",\n    name: \"ì—­í•  ì •ì˜\",\n    description: \"AI ëª¨ë¸ì—ê²Œ ì—­í• ê³¼ í˜ë¥´ì†Œë‚˜ë¥¼ ë¶€ì—¬\",\n    order: 1,\n    required: true,\n  },\n  CONSTRAINT_DEFINITION: {\n    id: \"constraint_definition\",\n    name: \"ì œì•½ ì¡°ê±´ ì„¤ì •\",\n    description: \"ëª…í™•í•œ ë£°ê³¼ ì œí•œì‚¬í•­ ì ìš©\",\n    order: 2,\n    required: true,\n  },\n  PROCESS_EXECUTION: {\n    id: \"process_execution\",\n    name: \"ì›Œí¬í”Œë¡œìš° ì‹¤í–‰\",\n    description: \"ë‹¨ê³„ë³„ ì‘ì—… í”„ë¡œì„¸ìŠ¤ ìˆ˜í–‰\",\n    order: 3,\n    required: true,\n  },\n  FORMAT_VALIDATION: {\n    id: \"format_validation\",\n    name: \"í¬ë§· ê²€ì¦\",\n    description: \"ì¶œë ¥ ê²°ê³¼ë¬¼ í¬ë§· ê²€ì¦ ë° ì¡°ì •\",\n    order: 4,\n    required: false,\n  },\n  EXAMPLE_LEARNING: {\n    id: \"example_learning\",\n    name: \"ì˜ˆì‹œ í•™ìŠµ\",\n    description: \"Few-shot ì˜ˆì œë¥¼ í†µí•œ í•™ìŠµ ë° ì¸¡ê³ \",\n    order: 5,\n    required: false,\n  },\n  QUALITY_ASSESSMENT: {\n    id: \"quality_assessment\",\n    name: \"í’ˆì§ˆ í‰ê°€\",\n    description: \"ê²°ê³¼ë¬¼ í’ˆì§ˆ í‰ê°€ ë° ì ìˆ˜ ë§¤ê¸°ê¸°\",\n    order: 6,\n    required: false,\n  },\n};\n\n// ğŸ†• íŒŒì¼ í¬ê¸° í¬ë§·íŒ… ìœ í‹¸ë¦¬í‹°\nexport const formatFileSize = (bytes) => {\n  if (bytes === 0) return \"0 B\";\n  const k = 1024;\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + \" \" + sizes[i];\n};\n\n// ğŸ†• í† í° ìˆ˜ í¬ë§·íŒ… ìœ í‹¸ë¦¬í‹°\nexport const formatTokenCount = (tokens) => {\n  if (tokens < 1000) return tokens.toString();\n  if (tokens < 1000000) return (tokens / 1000).toFixed(1) + \"K\";\n  return (tokens / 1000000).toFixed(1) + \"M\";\n};\n\n// ğŸ†• ì¹´í…Œê³ ë¦¬ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° (ìˆ˜ì •ë¨)\nexport const getCategoryInfo = (categoryId, userCategories = []) => {\n  const allCategories = [...DEFAULT_PROJECT_CATEGORIES, ...userCategories];\n  return (\n    allCategories.find((cat) => cat.id === categoryId) ||\n    DEFAULT_PROJECT_CATEGORIES.find((cat) => cat.id === \"news\")\n  );\n};\n\n// ğŸ†• ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ìƒ í´ë˜ìŠ¤ ë°˜í™˜ (ìˆ˜ì •ë¨)\nexport const getCategoryColorClasses = (color) => {\n  const colors = {\n    blue: \"bg-blue-100 text-blue-800 border-blue-200\",\n    green: \"bg-green-100 text-green-800 border-green-200\",\n    purple: \"bg-purple-100 text-purple-800 border-purple-200\",\n    orange: \"bg-orange-100 text-orange-800 border-orange-200\",\n    yellow: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\n    indigo: \"bg-indigo-100 text-indigo-800 border-indigo-200\",\n    cyan: \"bg-cyan-100 text-cyan-800 border-cyan-200\",\n    red: \"bg-red-100 text-red-800 border-red-200\",\n    pink: \"bg-pink-100 text-pink-800 border-pink-200\",\n    gray: \"bg-gray-100 text-gray-800 border-gray-200\",\n  };\n  return colors[color] || colors.gray;\n};\n\n// ğŸ†• ìƒ‰ìƒ ì˜µì…˜ (ì¹´í…Œê³ ë¦¬ ìƒì„± ì‹œ ì‚¬ìš©)\nexport const COLOR_OPTIONS = [\n  { id: \"blue\", name: \"íŒŒë€ìƒ‰\", class: \"bg-blue-500\" },\n  { id: \"green\", name: \"ì´ˆë¡ìƒ‰\", class: \"bg-green-500\" },\n  { id: \"purple\", name: \"ë³´ë¼ìƒ‰\", class: \"bg-purple-500\" },\n  { id: \"orange\", name: \"ì£¼í™©ìƒ‰\", class: \"bg-orange-500\" },\n  { id: \"yellow\", name: \"ë…¸ë€ìƒ‰\", class: \"bg-yellow-500\" },\n  { id: \"indigo\", name: \"ë‚¨ìƒ‰\", class: \"bg-indigo-500\" },\n  { id: \"cyan\", name: \"ì²­ë¡ìƒ‰\", class: \"bg-cyan-500\" },\n  { id: \"red\", name: \"ë¹¨ê°„ìƒ‰\", class: \"bg-red-500\" },\n  { id: \"pink\", name: \"ë¶„í™ìƒ‰\", class: \"bg-pink-500\" },\n  { id: \"gray\", name: \"íšŒìƒ‰\", class: \"bg-gray-500\" },\n];\n\n// ğŸ†• í”„ë¡œì íŠ¸ ê²€ìƒ‰ ë° í•„í„°ë§ ìœ í‹¸ë¦¬í‹°\nexport const filterProjects = (projects, { category, searchQuery, sortBy }) => {\n  let filtered = [...projects];\n\n  // ì¹´í…Œê³ ë¦¬ í•„í„°ë§\n  if (category && category !== \"all\") {\n    filtered = filtered.filter((project) => project.category === category);\n  }\n\n  // ê²€ìƒ‰ í•„í„°ë§\n  if (searchQuery && searchQuery.trim()) {\n    const query = searchQuery.toLowerCase().trim();\n    filtered = filtered.filter(\n      (project) =>\n        project.name.toLowerCase().includes(query) ||\n        (project.description &&\n          project.description.toLowerCase().includes(query)) ||\n        (project.tags &&\n          project.tags.some((tag) => tag.toLowerCase().includes(query)))\n    );\n  }\n\n  // ì •ë ¬\n  switch (sortBy) {\n    case \"name\":\n      filtered.sort((a, b) => a.name.localeCompare(b.name));\n      break;\n    case \"updated\":\n      filtered.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));\n      break;\n    case \"created\":\n    default:\n      filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n      break;\n  }\n\n  return filtered;\n};\n\n// ğŸ†• ë””ë°”ìš´ìŠ¤ í›… (ê²€ìƒ‰ ìµœì í™”ìš©)\nexport const useDebounce = (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\n\n  React.useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}