{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Documents/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/dev/nexus/title_generator_ver1/frontend/src/components/chat/ConversationDrawer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useConversations } from \"../../hooks/useConversations\";\nimport { useConversationContext } from \"../../contexts/ConversationContext\";\nimport { conversationAPI } from \"../../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ConversationDrawer = ({\n  isOpen,\n  onClose,\n  className = \"\",\n  onCollapsedChange\n}) => {\n  _s();\n  // ConversationContextì—ì„œ ì „ì—­ ëŒ€í™” ëª©ë¡ ì‚¬ìš©\n  const {\n    currentConversationId,\n    setCurrentConversation,\n    conversations: contextConversations\n  } = useConversationContext();\n\n  // useConversationsëŠ” ë°±ì—…ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©\n  const {\n    conversations: hookConversations,\n    loading,\n    error,\n    hasMore,\n    loadMore,\n    createConversation,\n    deleteConversation,\n    updateConversation\n  } = useConversations();\n\n  // Context ëŒ€í™”ê°€ ì—†ìœ¼ë©´ hook ëŒ€í™” ì‚¬ìš© (ì´ˆê¸° ë¡œë“œ)\n  const conversations = (contextConversations === null || contextConversations === void 0 ? void 0 : contextConversations.length) > 0 ? contextConversations : hookConversations;\n\n  // ëŒ€í™” ëª©ë¡ ë³€ê²½ ê°ì§€ ë””ë²„ê¹…\n  useEffect(() => {\n    console.log(\"ğŸ­ [DEBUG] ConversationDrawer - conversations ë³€ê²½ë¨:\", {\n      contextCount: (contextConversations === null || contextConversations === void 0 ? void 0 : contextConversations.length) || 0,\n      hookCount: (hookConversations === null || hookConversations === void 0 ? void 0 : hookConversations.length) || 0,\n      finalCount: conversations.length,\n      conversations: conversations.map(c => ({\n        id: c.id,\n        title: c.title\n      }))\n    });\n  }, [contextConversations, hookConversations, conversations]);\n  const [isCreating, setIsCreating] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [createError, setCreateError] = useState(null);\n  const [deletingId, setDeletingId] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const [activeMenuId, setActiveMenuId] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n\n  // ëŒ€í™” ëª©ë¡ ìŠ¤í¬ë¡¤ì„ ìœ„í•œ ref\n  const conversationListRef = useRef(null);\n\n  // ìƒˆ ëŒ€í™”ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ë§¨ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤\n  useEffect(() => {\n    if (conversationListRef.current && conversations.length > 0 && !isCollapsed) {\n      conversationListRef.current.scrollTop = conversationListRef.current.scrollHeight;\n    }\n  }, [conversations.length, isCollapsed]);\n\n  // ì™¸ë¶€ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (activeMenuId && !event.target.closest(\".conversation-menu\")) {\n        setActiveMenuId(null);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [activeMenuId]);\n\n  // ìƒˆ ëŒ€í™” ì‹œì‘ (ì¦‰ì‹œ UI ì „í™˜)\n  const handleNewChat = async () => {\n    if (isCreating) return;\n\n    // ğŸš€ ì¦‰ì‹œ UI ì „í™˜ (Optimistic Update)\n    console.log(\"âš¡ [FAST] ì¦‰ì‹œ ìƒˆ ëŒ€í™” ëª¨ë“œë¡œ ì „í™˜\");\n    setCurrentConversation(null);\n\n    // ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” ë‹«ê¸°\n    if (window.innerWidth < 768) {\n      onClose();\n    }\n\n    // ë¡œë”© ìƒíƒœëŠ” ìµœì†Œí•œìœ¼ë¡œë§Œ í‘œì‹œ\n    setIsCreating(true);\n\n    // ë§¤ìš° ì§§ì€ ì‹œê°„ í›„ ë¡œë”© í•´ì œ (ë¶€ë“œëŸ¬ìš´ ì „í™˜)\n    setTimeout(() => {\n      setIsCreating(false);\n      console.log(\"âš¡ [FAST] ìƒˆ ëŒ€í™” ì¤€ë¹„ ì™„ë£Œ - ì‚¬ìš©ì ì…ë ¥ ëŒ€ê¸°\");\n    }, 100);\n  };\n\n  // ëŒ€í™” ì„ íƒ\n  const handleSelectConversation = conversationId => {\n    setCurrentConversation(conversationId);\n    if (window.innerWidth < 768) {\n      onClose();\n    }\n  };\n\n  // ëŒ€í™” ì‚­ì œ\n  const handleDeleteConversation = async (conversationId, event) => {\n    event.stopPropagation(); // ëŒ€í™” ì„ íƒì„ ë°©ì§€\n\n    if (!window.confirm(\"ì´ ëŒ€í™”ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) {\n      return;\n    }\n    setDeletingId(conversationId);\n    setDeleteError(null);\n    setActiveMenuId(null); // ë©”ë‰´ ë‹«ê¸°\n\n    try {\n      await deleteConversation(conversationId);\n\n      // í˜„ì¬ ì„ íƒëœ ëŒ€í™”ê°€ ì‚­ì œëœ ê²½ìš° ì²« ë²ˆì§¸ ëŒ€í™”ë¡œ ì´ë™\n      if (currentConversationId === conversationId && conversations.length > 1) {\n        const remainingConversations = conversations.filter(conv => conv.id !== conversationId);\n        if (remainingConversations.length > 0) {\n          setCurrentConversation(remainingConversations[0].id);\n        }\n      }\n      console.log(\"ëŒ€í™” ì‚­ì œ ì™„ë£Œ:\", conversationId);\n    } catch (error) {\n      console.error(\"ëŒ€í™” ì‚­ì œ ì¤‘ ì˜¤ë¥˜:\", error);\n      // ì¼ë°˜ì ìœ¼ë¡œ API ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ë¡œì»¬ì—ì„œëŠ” ì‚­ì œë˜ë¯€ë¡œ ì—ëŸ¬ í‘œì‹œí•˜ì§€ ì•ŠìŒ\n      // setDeleteError('ëŒ€í™”ë¥¼ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\n      // setTimeout(() => setDeleteError(null), 3000);\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // ëŒ€í™” ìˆ˜ì • ì‹œì‘\n  const handleStartEdit = (conversationId, currentTitle, event) => {\n    event.stopPropagation();\n    setEditingId(conversationId);\n    setEditingTitle(currentTitle);\n    setActiveMenuId(null); // ë©”ë‰´ ë‹«ê¸°\n  };\n\n  // ëŒ€í™” ìˆ˜ì • ì™„ë£Œ\n  const handleSaveEdit = async conversationId => {\n    if (!editingTitle.trim()) {\n      setEditingId(null);\n      setEditingTitle(\"\");\n      return;\n    }\n    try {\n      // API í˜¸ì¶œë¡œ ëŒ€í™” ì œëª© ì—…ë°ì´íŠ¸\n      console.log(\"ëŒ€í™” ì œëª© ì—…ë°ì´íŠ¸:\", conversationId, editingTitle);\n      await conversationAPI.updateConversation(conversationId, {\n        title: editingTitle\n      });\n\n      // ë¡œì»¬ ìƒíƒœë„ ì—…ë°ì´íŠ¸\n      updateConversation(conversationId, {\n        title: editingTitle\n      });\n      setEditingId(null);\n      setEditingTitle(\"\");\n      console.log(\"ëŒ€í™” ì œëª© ìˆ˜ì • ì™„ë£Œ\");\n    } catch (error) {\n      console.error(\"ëŒ€í™” ì œëª© ìˆ˜ì • ì¤‘ ì˜¤ë¥˜:\", error);\n      // ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ í‘œì‹œ\n      alert(\"ì œëª© ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\");\n    }\n  };\n\n  // ëŒ€í™” ìˆ˜ì • ì·¨ì†Œ\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditingTitle(\"\");\n  };\n\n  // ë©”ë‰´ í† ê¸€\n  const handleToggleMenu = (conversationId, event) => {\n    event.stopPropagation();\n    setActiveMenuId(activeMenuId === conversationId ? null : conversationId);\n  };\n\n  // ëŒ€í™”ë¥¼ ë‚ ì§œë³„ë¡œ ê·¸ë£¹í™”\n  const groupConversationsByDate = conversations => {\n    const groups = {};\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n    conversations.forEach(conversation => {\n      const date = new Date(conversation.lastActivityAt || conversation.createdAt);\n      const isToday = date.toDateString() === today.toDateString();\n      const isYesterday = date.toDateString() === yesterday.toDateString();\n      let key;\n      if (isToday) {\n        key = \"Today\";\n      } else if (isYesterday) {\n        key = \"Yesterday\";\n      } else {\n        const monthYear = date.toLocaleDateString(\"ko-KR\", {\n          year: \"numeric\",\n          month: \"2-digit\"\n        });\n        key = monthYear;\n      }\n      if (!groups[key]) {\n        groups[key] = [];\n      }\n      groups[key].push(conversation);\n    });\n    return groups;\n  };\n  const conversationGroups = groupConversationsByDate(conversations);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `\n        conversation-drawer\n        fixed top-0 left-0 h-full z-[9999]\n        bg-[#0d1117]\n        border-r border-[#21262d] shadow-[inset_0_0_16px_rgba(0,0,0,0.4)]\n        transform transition-all duration-500 ease-out\n        ${isOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n        md:translate-x-0\n        ${isCollapsed ? \"w-14\" : \"w-full md:w-64\"}\n        ${className}\n      `,\n      style: {\n        overscrollBehavior: \"contain\"\n      },\n      children: [!isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-5 border-b border-[#21262d] relative transition-opacity duration-300 ease-in-out\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold tracking-tight text-[#e6edf3]\",\n          children: \"TITLE-NOMICS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const newCollapsed = !isCollapsed;\n            setIsCollapsed(newCollapsed);\n            if (onCollapsedChange) {\n              onCollapsedChange(newCollapsed);\n            }\n          },\n          className: \"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\",\n          title: \"\\uC0AC\\uC774\\uB4DC\\uBC14 \\uC811\\uAE30\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            strokeWidth: \"1.5\",\n            stroke: \"currentColor\",\n            className: \"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              d: \"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 flex justify-center border-b border-[#21262d]\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const newCollapsed = !isCollapsed;\n            setIsCollapsed(newCollapsed);\n            if (onCollapsedChange) {\n              onCollapsedChange(newCollapsed);\n            }\n          },\n          className: \"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\",\n          title: \"\\uC0AC\\uC774\\uB4DC\\uBC14 \\uD3BC\\uCE58\\uAE30\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            strokeWidth: \"1.5\",\n            stroke: \"currentColor\",\n            className: \"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200 rotate-180\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              d: \"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-[#21262d] transition-opacity duration-300 ease-in-out\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleNewChat,\n          disabled: isCreating,\n          className: \"group w-full flex items-center justify-start gap-3 px-3 py-2.5 text-[#e6edf3] hover:bg-[#21262d] disabled:bg-[#374151] rounded-lg text-sm transition-all duration-200 focus:outline-none border border-[#6e7681] hover:border-[#8b949e]\",\n          title: \"\\uC0C8 \\uCC44\\uD305\",\n          children: isCreating ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-5 h-5 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-[#e6edf3]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"\\uC0DD\\uC131 \\uC911...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 w-5 h-5 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                strokeWidth: \"2\",\n                stroke: \"currentColor\",\n                className: \"h-4 w-4 group-hover:scale-110 transition-transform duration-200\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  d: \"M12 4.5v15m7.5-7.5h-15\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"\\uC0C8 \\uCC44\\uD305\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), (createError || deleteError) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-red-400\",\n            children: createError || deleteError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: conversationListRef,\n        className: \"flex flex-col gap-0.5 overflow-y-auto h-[calc(100vh-210px)] custom-scrollbar\",\n        onScroll: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"style\", {\n          jsx: true,\n          children: `\n            /* CSS Custom Properties for Design System */\n            .conversation-drawer {\n              --color-bg-primary: #0d1117;\n              --color-bg-secondary: #11161f;\n              --color-bg-tertiary: #161b22;\n              --color-border: #21262d;\n              --color-text-primary: #e6edf3;\n              --color-text-secondary: #88929d;\n              --color-accent: #10b981;\n              --color-accent-hover: #059669;\n              --color-danger: #f85149;\n              --shadow-depth: inset 0 0 16px rgba(0, 0, 0, 0.4);\n            }\n\n            .custom-scrollbar::-webkit-scrollbar {\n              width: 8px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-track {\n              background: transparent;\n              border-radius: 4px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb {\n              background: var(--color-border);\n              border-radius: 4px;\n              border: 1px solid var(--color-bg-primary);\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n              background: #30363d;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:active {\n              background: #484f58;\n            }\n            .custom-scrollbar::-webkit-scrollbar-corner {\n              background: transparent;\n            }\n\n            /* ì‚¬ì´ë“œë°” ìŠ¤í¬ë¡¤ ê²©ë¦¬ */\n            .custom-scrollbar {\n              overscroll-behavior: contain;\n              scroll-behavior: smooth;\n            }\n          `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), error && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center bg-red-900/30 rounded-lg border border-red-700/50 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-300 text-sm font-medium\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), conversations.length === 0 && !loading && !error && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700/30\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              strokeWidth: \"1.5\",\n              stroke: \"currentColor\",\n              className: \"h-6 w-6 text-gray-400\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                d: \"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-medium text-white mb-2 drop-shadow\",\n            children: \"\\uC544\\uC9C1 \\uB300\\uD654\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 leading-snug opacity-80\",\n            children: \"\\uC0C8 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD574\\uC11C AI\\uC640 \\uB300\\uD654\\uD574\\uBCF4\\uC138\\uC694!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this), loading && conversations.length === 0 && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-1\",\n          children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-10 px-3 bg-gray-900/40 animate-pulse flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-3 bg-gray-700/40 rounded w-3/4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 19\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this), !isCollapsed && conversations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-1 transition-opacity duration-300 ease-in-out\",\n          children: Object.entries(conversationGroups).map(([groupTitle, groupConversations]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-white/40 uppercase tracking-wide py-2 px-3 font-medium\",\n              children: groupTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 21\n            }, this), groupConversations.map(conversation => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `\n                        flex items-center justify-between h-10 px-3 py-2 text-sm transition-colors duration-200 relative\n                        ${currentConversationId === conversation.id ? \"bg-[#161b22] text-[#e6edf3] relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-[2px] before:bg-[#10b981]\" : \"text-[#88929d] hover:bg-[#11161f] hover:text-[#e6edf3]\"}\n                      `,\n              children: editingId === conversation.id ?\n              /*#__PURE__*/\n              // ìˆ˜ì • ëª¨ë“œ\n              _jsxDEV(\"div\", {\n                className: \"flex-1 flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingTitle,\n                  onChange: e => setEditingTitle(e.target.value),\n                  onKeyPress: e => {\n                    if (e.key === \"Enter\") {\n                      handleSaveEdit(conversation.id);\n                    } else if (e.key === \"Escape\") {\n                      handleCancelEdit();\n                    }\n                  },\n                  className: \"flex-1 bg-[#0d1117] border border-[#21262d] rounded px-2 py-1 text-sm text-[#e6edf3] focus:outline-none focus:border-[#10b981]\",\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSaveEdit(conversation.id),\n                  className: \"p-1 text-[#10b981] hover:bg-[#161b22] rounded\",\n                  title: \"\\uC800\\uC7A5\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    strokeWidth: \"2\",\n                    stroke: \"currentColor\",\n                    className: \"h-4 w-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      d: \"m4.5 12.75 6 6 9-13.5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancelEdit,\n                  className: \"p-1 text-[#88929d] hover:text-[#f85149] hover:bg-[#161b22] rounded\",\n                  title: \"\\uCDE8\\uC18C\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    strokeWidth: \"2\",\n                    stroke: \"currentColor\",\n                    className: \"h-4 w-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      d: \"M6 18L18 6M6 6l12 12\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 27\n              }, this) :\n              /*#__PURE__*/\n              // ì¼ë°˜ ëª¨ë“œ\n              _jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSelectConversation(conversation.id),\n                  className: \"flex-1 text-left truncate focus:outline-none py-2\",\n                  title: conversation.title,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"truncate text-sm font-medium\",\n                    children: conversation.title || \"ìƒˆ ëŒ€í™”\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"conversation-menu relative\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => handleToggleMenu(conversation.id, e),\n                    className: \"ml-2 py-2 px-2 text-[#88929d] hover:text-[#e6edf3] transition-colors duration-200 flex-shrink-0 rounded-md hover:bg-[#161b22]\",\n                    title: \"\\uBA54\\uB274\",\n                    children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                      xmlns: \"http://www.w3.org/2000/svg\",\n                      fill: \"none\",\n                      viewBox: \"0 0 24 24\",\n                      strokeWidth: \"1.5\",\n                      stroke: \"currentColor\",\n                      className: \"h-5 w-5\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        d: \"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 594,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 586,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 31\n                  }, this), activeMenuId === conversation.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute right-0 top-full mt-1 bg-[#21262d] border border-[#30363d] rounded-md shadow-lg z-50 min-w-[120px]\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => handleStartEdit(conversation.id, conversation.title, e),\n                      className: \"w-full px-3 py-2 text-sm text-[#e6edf3] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        strokeWidth: \"1.5\",\n                        stroke: \"currentColor\",\n                        className: \"h-4 w-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          d: \"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 623,\n                          columnNumber: 39\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 615,\n                        columnNumber: 37\n                      }, this), \"\\uC218\\uC815\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 605,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => handleDeleteConversation(conversation.id, e),\n                      disabled: deletingId === conversation.id,\n                      className: \"w-full px-3 py-2 text-sm text-[#f85149] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200 disabled:opacity-50\",\n                      children: [deletingId === conversation.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"animate-spin rounded-full h-4 w-4 border-b border-[#f85149]\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 642,\n                        columnNumber: 39\n                      }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        fill: \"none\",\n                        viewBox: \"0 0 24 24\",\n                        strokeWidth: \"1.5\",\n                        stroke: \"currentColor\",\n                        className: \"h-4 w-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          d: \"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 652,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 644,\n                        columnNumber: 39\n                      }, this), \"\\uC0AD\\uC81C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 631,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true)\n            }, conversation.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 23\n            }, this))]\n          }, groupTitle, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 13\n        }, this), isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center p-2 transition-opacity duration-300 ease-in-out\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNewChat,\n            disabled: isCreating,\n            className: \"w-10 h-10 bg-[#21262d] hover:bg-[#30363d] disabled:bg-[#374151] text-white rounded-full flex items-center justify-center transition-colors duration-200 focus:outline-none border border-[#30363d] hover:border-[#444c56]\",\n            title: \"\\uC0C8 \\uB300\\uD654\",\n            children: isCreating ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              strokeWidth: \"2\",\n              stroke: \"currentColor\",\n              className: \"h-6 w-6\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                d: \"M12 4.5v15m7.5-7.5h-15\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), loading && conversations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-300 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 11\n      }, this), hasMore && !loading && conversations.length > 0 && !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadMore,\n          className: \"text-xs text-white/60 hover:text-white/80 transition-colors duration-200 px-3 py-1.5 hover:bg-gray-800/40 rounded\",\n          children: \"\\uB354 \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ConversationDrawer, \"YgPnF1xaMvuXjD5PR+91t29atdA=\", false, function () {\n  return [useConversationContext, useConversations];\n});\n_c = ConversationDrawer;\nexport default ConversationDrawer;\nvar _c;\n$RefreshReg$(_c, \"ConversationDrawer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useConversations","useConversationContext","conversationAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","ConversationDrawer","isOpen","onClose","className","onCollapsedChange","_s","currentConversationId","setCurrentConversation","conversations","contextConversations","hookConversations","loading","error","hasMore","loadMore","createConversation","deleteConversation","updateConversation","length","console","log","contextCount","hookCount","finalCount","map","c","id","title","isCreating","setIsCreating","isCollapsed","setIsCollapsed","createError","setCreateError","deletingId","setDeletingId","deleteError","setDeleteError","activeMenuId","setActiveMenuId","editingId","setEditingId","editingTitle","setEditingTitle","conversationListRef","current","scrollTop","scrollHeight","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","handleNewChat","window","innerWidth","setTimeout","handleSelectConversation","conversationId","handleDeleteConversation","stopPropagation","confirm","remainingConversations","filter","conv","handleStartEdit","currentTitle","handleSaveEdit","trim","alert","handleCancelEdit","handleToggleMenu","groupConversationsByDate","groups","today","Date","yesterday","setDate","getDate","forEach","conversation","date","lastActivityAt","createdAt","isToday","toDateString","isYesterday","key","monthYear","toLocaleDateString","year","month","push","conversationGroups","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","overscrollBehavior","newCollapsed","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","disabled","ref","onScroll","e","jsx","Array","_","i","Object","entries","groupTitle","groupConversations","type","value","onChange","onKeyPress","autoFocus","_c","$RefreshReg$"],"sources":["/Users/yeong-gwang/Documents/work/á„‰á…¥á„‹á…®á†¯á„€á…§á†¼á„Œá…¦á„‰á…µá†«á„†á…®á†«/dev/nexus/title_generator_ver1/frontend/src/components/chat/ConversationDrawer.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { useConversations } from \"../../hooks/useConversations\";\nimport { useConversationContext } from \"../../contexts/ConversationContext\";\nimport { conversationAPI } from \"../../services/api\";\n\nconst ConversationDrawer = ({\n  isOpen,\n  onClose,\n  className = \"\",\n  onCollapsedChange,\n}) => {\n  // ConversationContextì—ì„œ ì „ì—­ ëŒ€í™” ëª©ë¡ ì‚¬ìš©\n  const { \n    currentConversationId, \n    setCurrentConversation, \n    conversations: contextConversations \n  } = useConversationContext();\n  \n  // useConversationsëŠ” ë°±ì—…ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©\n  const {\n    conversations: hookConversations,\n    loading,\n    error,\n    hasMore,\n    loadMore,\n    createConversation,\n    deleteConversation,\n    updateConversation,\n  } = useConversations();\n\n  // Context ëŒ€í™”ê°€ ì—†ìœ¼ë©´ hook ëŒ€í™” ì‚¬ìš© (ì´ˆê¸° ë¡œë“œ)\n  const conversations = contextConversations?.length > 0 ? contextConversations : hookConversations;\n\n  // ëŒ€í™” ëª©ë¡ ë³€ê²½ ê°ì§€ ë””ë²„ê¹…\n  useEffect(() => {\n    console.log(\"ğŸ­ [DEBUG] ConversationDrawer - conversations ë³€ê²½ë¨:\", {\n      contextCount: contextConversations?.length || 0,\n      hookCount: hookConversations?.length || 0,\n      finalCount: conversations.length,\n      conversations: conversations.map(c => ({id: c.id, title: c.title}))\n    });\n  }, [contextConversations, hookConversations, conversations]);\n\n  const [isCreating, setIsCreating] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [createError, setCreateError] = useState(null);\n  const [deletingId, setDeletingId] = useState(null);\n  const [deleteError, setDeleteError] = useState(null);\n  const [activeMenuId, setActiveMenuId] = useState(null);\n  const [editingId, setEditingId] = useState(null);\n  const [editingTitle, setEditingTitle] = useState(\"\");\n\n  // ëŒ€í™” ëª©ë¡ ìŠ¤í¬ë¡¤ì„ ìœ„í•œ ref\n  const conversationListRef = useRef(null);\n\n  // ìƒˆ ëŒ€í™”ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ë§¨ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤\n  useEffect(() => {\n    if (\n      conversationListRef.current &&\n      conversations.length > 0 &&\n      !isCollapsed\n    ) {\n      conversationListRef.current.scrollTop =\n        conversationListRef.current.scrollHeight;\n    }\n  }, [conversations.length, isCollapsed]);\n\n  // ì™¸ë¶€ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (activeMenuId && !event.target.closest(\".conversation-menu\")) {\n        setActiveMenuId(null);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [activeMenuId]);\n\n  // ìƒˆ ëŒ€í™” ì‹œì‘ (ì¦‰ì‹œ UI ì „í™˜)\n  const handleNewChat = async () => {\n    if (isCreating) return;\n\n    // ğŸš€ ì¦‰ì‹œ UI ì „í™˜ (Optimistic Update)\n    console.log(\"âš¡ [FAST] ì¦‰ì‹œ ìƒˆ ëŒ€í™” ëª¨ë“œë¡œ ì „í™˜\");\n    setCurrentConversation(null);\n    \n    // ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” ë‹«ê¸°\n    if (window.innerWidth < 768) {\n      onClose();\n    }\n\n    // ë¡œë”© ìƒíƒœëŠ” ìµœì†Œí•œìœ¼ë¡œë§Œ í‘œì‹œ\n    setIsCreating(true);\n    \n    // ë§¤ìš° ì§§ì€ ì‹œê°„ í›„ ë¡œë”© í•´ì œ (ë¶€ë“œëŸ¬ìš´ ì „í™˜)\n    setTimeout(() => {\n      setIsCreating(false);\n      console.log(\"âš¡ [FAST] ìƒˆ ëŒ€í™” ì¤€ë¹„ ì™„ë£Œ - ì‚¬ìš©ì ì…ë ¥ ëŒ€ê¸°\");\n    }, 100);\n  };\n\n  // ëŒ€í™” ì„ íƒ\n  const handleSelectConversation = (conversationId) => {\n    setCurrentConversation(conversationId);\n\n    if (window.innerWidth < 768) {\n      onClose();\n    }\n  };\n\n  // ëŒ€í™” ì‚­ì œ\n  const handleDeleteConversation = async (conversationId, event) => {\n    event.stopPropagation(); // ëŒ€í™” ì„ íƒì„ ë°©ì§€\n\n    if (!window.confirm(\"ì´ ëŒ€í™”ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) {\n      return;\n    }\n\n    setDeletingId(conversationId);\n    setDeleteError(null);\n    setActiveMenuId(null); // ë©”ë‰´ ë‹«ê¸°\n\n    try {\n      await deleteConversation(conversationId);\n\n      // í˜„ì¬ ì„ íƒëœ ëŒ€í™”ê°€ ì‚­ì œëœ ê²½ìš° ì²« ë²ˆì§¸ ëŒ€í™”ë¡œ ì´ë™\n      if (\n        currentConversationId === conversationId &&\n        conversations.length > 1\n      ) {\n        const remainingConversations = conversations.filter(\n          (conv) => conv.id !== conversationId\n        );\n        if (remainingConversations.length > 0) {\n          setCurrentConversation(remainingConversations[0].id);\n        }\n      }\n\n      console.log(\"ëŒ€í™” ì‚­ì œ ì™„ë£Œ:\", conversationId);\n    } catch (error) {\n      console.error(\"ëŒ€í™” ì‚­ì œ ì¤‘ ì˜¤ë¥˜:\", error);\n      // ì¼ë°˜ì ìœ¼ë¡œ API ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ë¡œì»¬ì—ì„œëŠ” ì‚­ì œë˜ë¯€ë¡œ ì—ëŸ¬ í‘œì‹œí•˜ì§€ ì•ŠìŒ\n      // setDeleteError('ëŒ€í™”ë¥¼ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');\n      // setTimeout(() => setDeleteError(null), 3000);\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  // ëŒ€í™” ìˆ˜ì • ì‹œì‘\n  const handleStartEdit = (conversationId, currentTitle, event) => {\n    event.stopPropagation();\n    setEditingId(conversationId);\n    setEditingTitle(currentTitle);\n    setActiveMenuId(null); // ë©”ë‰´ ë‹«ê¸°\n  };\n\n  // ëŒ€í™” ìˆ˜ì • ì™„ë£Œ\n  const handleSaveEdit = async (conversationId) => {\n    if (!editingTitle.trim()) {\n      setEditingId(null);\n      setEditingTitle(\"\");\n      return;\n    }\n\n    try {\n      // API í˜¸ì¶œë¡œ ëŒ€í™” ì œëª© ì—…ë°ì´íŠ¸\n      console.log(\"ëŒ€í™” ì œëª© ì—…ë°ì´íŠ¸:\", conversationId, editingTitle);\n      await conversationAPI.updateConversation(conversationId, {\n        title: editingTitle,\n      });\n\n      // ë¡œì»¬ ìƒíƒœë„ ì—…ë°ì´íŠ¸\n      updateConversation(conversationId, { title: editingTitle });\n\n      setEditingId(null);\n      setEditingTitle(\"\");\n\n      console.log(\"ëŒ€í™” ì œëª© ìˆ˜ì • ì™„ë£Œ\");\n    } catch (error) {\n      console.error(\"ëŒ€í™” ì œëª© ìˆ˜ì • ì¤‘ ì˜¤ë¥˜:\", error);\n      // ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ í‘œì‹œ\n      alert(\"ì œëª© ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\");\n    }\n  };\n\n  // ëŒ€í™” ìˆ˜ì • ì·¨ì†Œ\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditingTitle(\"\");\n  };\n\n  // ë©”ë‰´ í† ê¸€\n  const handleToggleMenu = (conversationId, event) => {\n    event.stopPropagation();\n    setActiveMenuId(activeMenuId === conversationId ? null : conversationId);\n  };\n\n  // ëŒ€í™”ë¥¼ ë‚ ì§œë³„ë¡œ ê·¸ë£¹í™”\n  const groupConversationsByDate = (conversations) => {\n    const groups = {};\n    const today = new Date();\n    const yesterday = new Date(today);\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    conversations.forEach((conversation) => {\n      const date = new Date(\n        conversation.lastActivityAt || conversation.createdAt\n      );\n      const isToday = date.toDateString() === today.toDateString();\n      const isYesterday = date.toDateString() === yesterday.toDateString();\n\n      let key;\n      if (isToday) {\n        key = \"Today\";\n      } else if (isYesterday) {\n        key = \"Yesterday\";\n      } else {\n        const monthYear = date.toLocaleDateString(\"ko-KR\", {\n          year: \"numeric\",\n          month: \"2-digit\",\n        });\n        key = monthYear;\n      }\n\n      if (!groups[key]) {\n        groups[key] = [];\n      }\n      groups[key].push(conversation);\n    });\n\n    return groups;\n  };\n\n  const conversationGroups = groupConversationsByDate(conversations);\n\n  return (\n    <>\n      {/* ëª¨ë°”ì¼ ì˜¤ë²„ë ˆì´ */}\n      {isOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300\"\n          onClick={onClose}\n        />\n      )}\n\n      {/* ë“œë¡œì–´ ì»¨í…Œì´ë„ˆ */}\n      <div\n        className={`\n        conversation-drawer\n        fixed top-0 left-0 h-full z-[9999]\n        bg-[#0d1117]\n        border-r border-[#21262d] shadow-[inset_0_0_16px_rgba(0,0,0,0.4)]\n        transform transition-all duration-500 ease-out\n        ${isOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n        md:translate-x-0\n        ${isCollapsed ? \"w-14\" : \"w-full md:w-64\"}\n        ${className}\n      `}\n        style={{ overscrollBehavior: \"contain\" }}\n      >\n        {/* í—¤ë” - ì ‘íŒ ìƒíƒœì—ì„œëŠ” ìˆ¨ê¹€ */}\n        {!isCollapsed && (\n          <div className=\"flex items-center justify-between p-5 border-b border-[#21262d] relative transition-opacity duration-300 ease-in-out\">\n            <h1 className=\"text-xl font-semibold tracking-tight text-[#e6edf3]\">\n              TITLE-NOMICS\n            </h1>\n\n            {/* ë¯¸ë‹ˆë©€ í† ê¸€ ë²„íŠ¼ */}\n            <button\n              onClick={() => {\n                const newCollapsed = !isCollapsed;\n                setIsCollapsed(newCollapsed);\n                if (onCollapsedChange) {\n                  onCollapsedChange(newCollapsed);\n                }\n              }}\n              className=\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\"\n              title=\"ì‚¬ì´ë“œë°” ì ‘ê¸°\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth=\"1.5\"\n                stroke=\"currentColor\"\n                className=\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n                />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* ì ‘íŒ ìƒíƒœ ì „ìš© í† ê¸€ ë²„íŠ¼ */}\n        {isCollapsed && (\n          <div className=\"p-2 flex justify-center border-b border-[#21262d]\">\n            <button\n              onClick={() => {\n                const newCollapsed = !isCollapsed;\n                setIsCollapsed(newCollapsed);\n                if (onCollapsedChange) {\n                  onCollapsedChange(newCollapsed);\n                }\n              }}\n              className=\"w-10 h-10 py-2 rounded-full bg-transparent hover:bg-[#11161f] transition-colors duration-200 flex items-center justify-center group\"\n              title=\"ì‚¬ì´ë“œë°” í¼ì¹˜ê¸°\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                strokeWidth=\"1.5\"\n                stroke=\"currentColor\"\n                className=\"w-6 h-6 text-[#88929d] group-hover:text-[#e6edf3] transition-colors duration-200 rotate-180\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  d=\"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5\"\n                />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* ìƒˆ ëŒ€í™” ë²„íŠ¼ */}\n        {!isCollapsed && (\n          <div className=\"p-4 border-b border-[#21262d] transition-opacity duration-300 ease-in-out\">\n            <button\n              onClick={handleNewChat}\n              disabled={isCreating}\n              className=\"group w-full flex items-center justify-start gap-3 px-3 py-2.5 text-[#e6edf3] hover:bg-[#21262d] disabled:bg-[#374151] rounded-lg text-sm transition-all duration-200 focus:outline-none border border-[#6e7681] hover:border-[#8b949e]\"\n              title=\"ìƒˆ ì±„íŒ…\"\n            >\n              {isCreating ? (\n                <>\n                  <div className=\"flex-shrink-0 w-5 h-5 flex items-center justify-center\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-[#e6edf3]\"></div>\n                  </div>\n                  <span className=\"font-medium\">ìƒì„± ì¤‘...</span>\n                </>\n              ) : (\n                <>\n                  <div className=\"flex-shrink-0 w-5 h-5 flex items-center justify-center\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth=\"2\"\n                      stroke=\"currentColor\"\n                      className=\"h-4 w-4 group-hover:scale-110 transition-transform duration-200\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M12 4.5v15m7.5-7.5h-15\"\n                      />\n                    </svg>\n                  </div>\n                  <span className=\"font-medium\">ìƒˆ ì±„íŒ…</span>\n                </>\n              )}\n            </button>\n\n            {(createError || deleteError) && (\n              <div className=\"mt-2 p-2 bg-red-500/10 border border-red-500/20 rounded text-center\">\n                <p className=\"text-xs text-red-400\">\n                  {createError || deleteError}\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* ëŒ€í™” ëª©ë¡ */}\n        <div\n          ref={conversationListRef}\n          className=\"flex flex-col gap-0.5 overflow-y-auto h-[calc(100vh-210px)] custom-scrollbar\"\n          onScroll={(e) => e.stopPropagation()}\n        >\n          <style jsx>{`\n            /* CSS Custom Properties for Design System */\n            .conversation-drawer {\n              --color-bg-primary: #0d1117;\n              --color-bg-secondary: #11161f;\n              --color-bg-tertiary: #161b22;\n              --color-border: #21262d;\n              --color-text-primary: #e6edf3;\n              --color-text-secondary: #88929d;\n              --color-accent: #10b981;\n              --color-accent-hover: #059669;\n              --color-danger: #f85149;\n              --shadow-depth: inset 0 0 16px rgba(0, 0, 0, 0.4);\n            }\n\n            .custom-scrollbar::-webkit-scrollbar {\n              width: 8px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-track {\n              background: transparent;\n              border-radius: 4px;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb {\n              background: var(--color-border);\n              border-radius: 4px;\n              border: 1px solid var(--color-bg-primary);\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n              background: #30363d;\n            }\n            .custom-scrollbar::-webkit-scrollbar-thumb:active {\n              background: #484f58;\n            }\n            .custom-scrollbar::-webkit-scrollbar-corner {\n              background: transparent;\n            }\n\n            /* ì‚¬ì´ë“œë°” ìŠ¤í¬ë¡¤ ê²©ë¦¬ */\n            .custom-scrollbar {\n              overscroll-behavior: contain;\n              scroll-behavior: smooth;\n            }\n          `}</style>\n\n          {error && !isCollapsed && (\n            <div className=\"p-4 text-center bg-red-900/30 rounded-lg border border-red-700/50 mb-4\">\n              <div className=\"text-red-300 text-sm font-medium\">{error}</div>\n            </div>\n          )}\n\n          {conversations.length === 0 && !loading && !error && !isCollapsed && (\n            <div className=\"p-6 text-center\">\n              <div className=\"w-12 h-12 mx-auto mb-4 bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-2xl flex items-center justify-center shadow-lg border border-gray-700/30\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth=\"1.5\"\n                  stroke=\"currentColor\"\n                  className=\"h-6 w-6 text-gray-400\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    d=\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n                  />\n                </svg>\n              </div>\n              <h3 className=\"text-sm font-medium text-white mb-2 drop-shadow\">\n                ì•„ì§ ëŒ€í™”ê°€ ì—†ìŠµë‹ˆë‹¤\n              </h3>\n              <p className=\"text-xs text-gray-400 leading-snug opacity-80\">\n                ìƒˆ ëŒ€í™”ë¥¼ ì‹œì‘í•´ì„œ AIì™€ ëŒ€í™”í•´ë³´ì„¸ìš”!\n              </p>\n            </div>\n          )}\n\n          {/* ë¡œë”© ìƒíƒœ */}\n          {loading && conversations.length === 0 && !isCollapsed && (\n            <div className=\"flex flex-col gap-1\">\n              {[...Array(5)].map((_, i) => (\n                <div\n                  key={i}\n                  className=\"w-full h-10 px-3 bg-gray-900/40 animate-pulse flex items-center\"\n                >\n                  <div className=\"h-3 bg-gray-700/40 rounded w-3/4\"></div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* ë”¥ì‹œí¬ ìŠ¤íƒ€ì¼ ëŒ€í™” ëª©ë¡ */}\n          {!isCollapsed && conversations.length > 0 && (\n            <div className=\"flex flex-col gap-1 transition-opacity duration-300 ease-in-out\">\n              {Object.entries(conversationGroups).map(\n                ([groupTitle, groupConversations]) => (\n                  <div key={groupTitle}>\n                    {/* ë‚ ì§œ ê·¸ë£¹ í—¤ë” */}\n                    <div className=\"text-xs text-white/40 uppercase tracking-wide py-2 px-3 font-medium\">\n                      {groupTitle}\n                    </div>\n\n                    {/* ê·¸ë£¹ ë‚´ ëŒ€í™”ë“¤ */}\n                    {groupConversations.map((conversation) => (\n                      <div\n                        key={conversation.id}\n                        className={`\n                        flex items-center justify-between h-10 px-3 py-2 text-sm transition-colors duration-200 relative\n                        ${\n                          currentConversationId === conversation.id\n                            ? \"bg-[#161b22] text-[#e6edf3] relative before:absolute before:left-0 before:top-0 before:bottom-0 before:w-[2px] before:bg-[#10b981]\"\n                            : \"text-[#88929d] hover:bg-[#11161f] hover:text-[#e6edf3]\"\n                        }\n                      `}\n                      >\n                        {editingId === conversation.id ? (\n                          // ìˆ˜ì • ëª¨ë“œ\n                          <div className=\"flex-1 flex items-center gap-2\">\n                            <input\n                              type=\"text\"\n                              value={editingTitle}\n                              onChange={(e) => setEditingTitle(e.target.value)}\n                              onKeyPress={(e) => {\n                                if (e.key === \"Enter\") {\n                                  handleSaveEdit(conversation.id);\n                                } else if (e.key === \"Escape\") {\n                                  handleCancelEdit();\n                                }\n                              }}\n                              className=\"flex-1 bg-[#0d1117] border border-[#21262d] rounded px-2 py-1 text-sm text-[#e6edf3] focus:outline-none focus:border-[#10b981]\"\n                              autoFocus\n                            />\n                            <button\n                              onClick={() => handleSaveEdit(conversation.id)}\n                              className=\"p-1 text-[#10b981] hover:bg-[#161b22] rounded\"\n                              title=\"ì €ì¥\"\n                            >\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                strokeWidth=\"2\"\n                                stroke=\"currentColor\"\n                                className=\"h-4 w-4\"\n                              >\n                                <path\n                                  strokeLinecap=\"round\"\n                                  strokeLinejoin=\"round\"\n                                  d=\"m4.5 12.75 6 6 9-13.5\"\n                                />\n                              </svg>\n                            </button>\n                            <button\n                              onClick={handleCancelEdit}\n                              className=\"p-1 text-[#88929d] hover:text-[#f85149] hover:bg-[#161b22] rounded\"\n                              title=\"ì·¨ì†Œ\"\n                            >\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                strokeWidth=\"2\"\n                                stroke=\"currentColor\"\n                                className=\"h-4 w-4\"\n                              >\n                                <path\n                                  strokeLinecap=\"round\"\n                                  strokeLinejoin=\"round\"\n                                  d=\"M6 18L18 6M6 6l12 12\"\n                                />\n                              </svg>\n                            </button>\n                          </div>\n                        ) : (\n                          // ì¼ë°˜ ëª¨ë“œ\n                          <>\n                            <button\n                              onClick={() =>\n                                handleSelectConversation(conversation.id)\n                              }\n                              className=\"flex-1 text-left truncate focus:outline-none py-2\"\n                              title={conversation.title}\n                            >\n                              <span className=\"truncate text-sm font-medium\">\n                                {conversation.title || \"ìƒˆ ëŒ€í™”\"}\n                              </span>\n                            </button>\n\n                            {/* ë©”ë‰´ ë²„íŠ¼ */}\n                            <div className=\"conversation-menu relative\">\n                              <button\n                                onClick={(e) =>\n                                  handleToggleMenu(conversation.id, e)\n                                }\n                                className=\"ml-2 py-2 px-2 text-[#88929d] hover:text-[#e6edf3] transition-colors duration-200 flex-shrink-0 rounded-md hover:bg-[#161b22]\"\n                                title=\"ë©”ë‰´\"\n                              >\n                                <svg\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                  fill=\"none\"\n                                  viewBox=\"0 0 24 24\"\n                                  strokeWidth=\"1.5\"\n                                  stroke=\"currentColor\"\n                                  className=\"h-5 w-5\"\n                                >\n                                  <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    d=\"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z\"\n                                  />\n                                </svg>\n                              </button>\n\n                              {/* ë“œë¡­ë‹¤ìš´ ë©”ë‰´ */}\n                              {activeMenuId === conversation.id && (\n                                <div className=\"absolute right-0 top-full mt-1 bg-[#21262d] border border-[#30363d] rounded-md shadow-lg z-50 min-w-[120px]\">\n                                  <button\n                                    onClick={(e) =>\n                                      handleStartEdit(\n                                        conversation.id,\n                                        conversation.title,\n                                        e\n                                      )\n                                    }\n                                    className=\"w-full px-3 py-2 text-sm text-[#e6edf3] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200\"\n                                  >\n                                    <svg\n                                      xmlns=\"http://www.w3.org/2000/svg\"\n                                      fill=\"none\"\n                                      viewBox=\"0 0 24 24\"\n                                      strokeWidth=\"1.5\"\n                                      stroke=\"currentColor\"\n                                      className=\"h-4 w-4\"\n                                    >\n                                      <path\n                                        strokeLinecap=\"round\"\n                                        strokeLinejoin=\"round\"\n                                        d=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10\"\n                                      />\n                                    </svg>\n                                    ìˆ˜ì •\n                                  </button>\n                                  <button\n                                    onClick={(e) =>\n                                      handleDeleteConversation(\n                                        conversation.id,\n                                        e\n                                      )\n                                    }\n                                    disabled={deletingId === conversation.id}\n                                    className=\"w-full px-3 py-2 text-sm text-[#f85149] hover:bg-[#30363d] flex items-center gap-2 transition-colors duration-200 disabled:opacity-50\"\n                                  >\n                                    {deletingId === conversation.id ? (\n                                      <div className=\"animate-spin rounded-full h-4 w-4 border-b border-[#f85149]\"></div>\n                                    ) : (\n                                      <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        fill=\"none\"\n                                        viewBox=\"0 0 24 24\"\n                                        strokeWidth=\"1.5\"\n                                        stroke=\"currentColor\"\n                                        className=\"h-4 w-4\"\n                                      >\n                                        <path\n                                          strokeLinecap=\"round\"\n                                          strokeLinejoin=\"round\"\n                                          d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n                                        />\n                                      </svg>\n                                    )}\n                                    ì‚­ì œ\n                                  </button>\n                                </div>\n                              )}\n                            </div>\n                          </>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )\n              )}\n            </div>\n          )}\n\n          {/* ì ‘íŒ ìƒíƒœ ìƒˆ ëŒ€í™” ë²„íŠ¼ë§Œ í‘œì‹œ */}\n          {isCollapsed && (\n            <div className=\"flex flex-col items-center p-2 transition-opacity duration-300 ease-in-out\">\n              <button\n                onClick={handleNewChat}\n                disabled={isCreating}\n                className=\"w-10 h-10 bg-[#21262d] hover:bg-[#30363d] disabled:bg-[#374151] text-white rounded-full flex items-center justify-center transition-colors duration-200 focus:outline-none border border-[#30363d] hover:border-[#444c56]\"\n                title=\"ìƒˆ ëŒ€í™”\"\n              >\n                {isCreating ? (\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                ) : (\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    strokeWidth=\"2\"\n                    stroke=\"currentColor\"\n                    className=\"h-6 w-6\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M12 4.5v15m7.5-7.5h-15\"\n                    />\n                  </svg>\n                )}\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* ì¶”ê°€ ë¡œë”© ì¸ë””ì¼€ì´í„° - ë” ë§ì€ ëŒ€í™” ë¡œë“œ ì‹œ */}\n        {loading && conversations.length > 0 && (\n          <div className=\"p-4 text-center\">\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-300 mx-auto\"></div>\n          </div>\n        )}\n\n        {/* ë” ë³´ê¸° ë²„íŠ¼ */}\n        {hasMore && !loading && conversations.length > 0 && !isCollapsed && (\n          <div className=\"p-4 text-center\">\n            <button\n              onClick={loadMore}\n              className=\"text-xs text-white/60 hover:text-white/80 transition-colors duration-200 px-3 py-1.5 hover:bg-gray-800/40 rounded\"\n            >\n              ë” ë³´ê¸°\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default ConversationDrawer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}