{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{PaperAirplaneIcon,DocumentPlusIcon,XMarkIcon,ChatBubbleLeftRightIcon,SparklesIcon,StopIcon}from\"@heroicons/react/24/outline\";import{useChat}from\"../hooks/useChat\";import AnimatedChatMessage from\"./AnimatedChatMessage\";import ModelSelector from\"./ModelSelector\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatInterface=_ref=>{let{projectId,projectName,promptCards=[]}=_ref;const navigate=useNavigate();const[uploadedFile,setUploadedFile]=useState(null);const[dragOver,setDragOver]=useState(false);const{messages,inputValue,setInputValue,copiedMessage,isGenerating,canSendMessage,messagesEndRef,inputRef,handleSendMessage,handleStopGeneration,handleKeyPress,handleCopyMessage,handleCopyTitle,wsConnected,wsConnecting,wsError,// Ïä§ÌÅ¨Î°§ Í¥ÄÎ†® Ï∂îÍ∞Ä\nscrollContainerRef,handleScroll,isUserScrolling,// Î™®Îç∏ ÏÑ†ÌÉù Í¥ÄÎ†® Ï∂îÍ∞Ä\nselectedModel,setSelectedModel}=useChat(projectId,projectName,promptCards);const handleFileUpload=event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(file&&file.type===\"text/plain\"){const reader=new FileReader();reader.onload=e=>{var _e$target;setInputValue(((_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result)||\"\");setUploadedFile(file);};reader.readAsText(file);}};const handleDrop=event=>{event.preventDefault();setDragOver(false);const files=event.dataTransfer.files;if(files.length>0){const file=files[0];if(file.type===\"text/plain\"){const reader=new FileReader();reader.onload=e=>{var _e$target2;setInputValue(((_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.result)||\"\");setUploadedFile(file);};reader.readAsText(file);}}};const handleDragOver=event=>{event.preventDefault();setDragOver(true);};const handleDragLeave=()=>{setDragOver(false);};const removeFile=()=>{setUploadedFile(null);setInputValue(\"\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{ref:scrollContainerRef,onScroll:handleScroll,className:\"flex-1 overflow-y-auto px-6 py-6 min-h-0 bg-gray-50 dark:bg-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto space-y-6\",children:[messages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center py-24 mt-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-2xl shadow-md p-8 max-w-2xl w-full transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 dark:bg-blue-900 p-3 rounded-full\",children:/*#__PURE__*/_jsx(ChatBubbleLeftRightIcon,{className:\"h-8 w-8 text-blue-600 dark:text-blue-400\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-center text-gray-800 dark:text-white mb-4\",children:\"AI \\uD5E4\\uB4DC\\uB77C\\uC778 \\uC5B4\\uC2DC\\uC2A4\\uD134\\uD2B8\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 text-center mb-6\",children:\"\\uBCF8\\uBB38\\uC744 \\uC785\\uB825\\uD558\\uBA74 AI\\uAC00 \\uCD5C\\uC801\\uC758 \\uD5E4\\uB4DC\\uB77C\\uC778\\uC744 \\uC81C\\uC548\\uD574 \\uB4DC\\uB9BD\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-3 mt-1\",children:/*#__PURE__*/_jsx(SparklesIcon,{className:\"h-5 w-5 text-blue-500 dark:text-blue-400\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uC2DC\\uC791\\uD558\\uB294 \\uBC29\\uBC95:\"}),\" \\uC544\\uB798 \\uC785\\uB825\\uCC3D\\uC5D0 \\uBCF8\\uBB38\\uC744 \\uBD99\\uC5EC\\uB123\\uACE0 \\uC804\\uC1A1 \\uBC84\\uD2BC\\uC744 \\uD074\\uB9AD\\uD558\\uC138\\uC694\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-3 mt-1\",children:/*#__PURE__*/_jsx(SparklesIcon,{className:\"h-5 w-5 text-blue-500 dark:text-blue-400\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC:\"}),\" \",\"\\uAD00\\uB9AC\\uC790 \\uBAA8\\uB4DC\\uC5D0\\uC11C \\uD504\\uB86C\\uD504\\uD2B8 \\uCE74\\uB4DC\\uB97C \\uC791\\uC131\\uD558\\uC5EC \\uC81C\\uBAA9\\uC744 \\uC0DD\\uC131\\uD558\\uC138\\uC694\"]})})]})]})]})}):messages.map(message=>/*#__PURE__*/_jsx(AnimatedChatMessage,{message:message,onCopyMessage:handleCopyMessage,onCopyTitle:handleCopyTitle,copiedMessage:copiedMessage},message.id)),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[uploadedFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(DocumentPlusIcon,{className:\"h-4 w-4 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-700\",children:uploadedFile.name})]}),/*#__PURE__*/_jsx(\"button\",{onClick:removeFile,className:\"text-blue-600 hover:text-blue-800 p-1\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-[20px] shadow-md p-4 relative transition-colors duration-200\",style:{boxShadow:\"rgba(0, 0, 0, 0.1) 0px 4px 12px 0px\",border:\"1px solid rgba(112, 115, 124, 0.08)\",minHeight:\"128px\",display:\"flex\",flexDirection:\"column\",gap:\"24px\"},onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"textarea\",{ref:inputRef,value:inputValue,onChange:e=>setInputValue(e.target.value),onKeyPress:handleKeyPress,placeholder:isGenerating?\"ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§...\":\"Í∏∞ÏÇ¨ Î≥∏Î¨∏ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\",className:`w-full pr-14 pl-2 py-2 border-0 focus:outline-none resize-none transition-colors ${dragOver?\"bg-blue-50 dark:bg-blue-900\":isGenerating?\"bg-gray-50 dark:bg-gray-700\":\"bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"}`,rows:1,style:{minHeight:\"24px\",maxHeight:\"150px\",lineHeight:\"1.4\",overflowY:\"auto\",whiteSpace:\"pre-wrap\",fontSize:\"16px\",fontWeight:\"400\",color:isGenerating?\"#9CA3AF\":\"#171719\"},disabled:isGenerating}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-3 bottom-3 flex items-center gap-2\",children:[isGenerating&&/*#__PURE__*/_jsx(\"button\",{onClick:handleStopGeneration,className:\"flex-shrink-0 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors flex items-center justify-center\",style:{width:\"32px\",height:\"32px\"},title:\"\\uC0DD\\uC131 \\uC911\\uB2E8\",children:/*#__PURE__*/_jsx(StopIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!inputValue.trim()||isGenerating,className:\"flex-shrink-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center\",style:{width:\"32px\",height:\"32px\"},title:isGenerating?\"ÏÉùÏÑ± Ï§ë...\":wsConnected?\"Ïã§ÏãúÍ∞Ñ Ïä§Ìä∏Î¶¨Î∞ç ÏÇ¨Ïö© Í∞ÄÎä•\":\"ÏùºÎ∞ò Î™®Îìú (WebSocket Ïó∞Í≤∞ ÏïàÎê®)\",children:isGenerating?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"}):/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-5 w-5\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[inputValue.length,\"\\uC790\"]}),inputValue.length<50&&/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCDD 50\\uC790 \\uC774\\uC0C1 \\uAD8C\\uC7A5\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[console.log(\"üîç ChatInterfaceÏóêÏÑú ModelSelector Î†åÎçîÎßÅ ÏãúÎèÑ:\",{selectedModel}),/*#__PURE__*/_jsx(ModelSelector,{selectedModel:selectedModel,onModelChange:setSelectedModel})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-xs\",children:[isUserScrolling&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-blue-600 dark:text-blue-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCDC\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC790\\uC720 \\uC2A4\\uD06C\\uB864\"})]}),wsConnecting?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-yellow-600 dark:text-yellow-400\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-3 w-3 border-b-2 border-yellow-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC5F0\\uACB0 \\uC911...\"})]}):wsConnected?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-green-600 dark:text-green-400\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-600 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC2E4\\uC2DC\\uAC04 \\uC2A4\\uD2B8\\uB9AC\\uBC0D\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC77C\\uBC18 \\uBAA8\\uB4DC\"})]}),wsError&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 dark:text-red-400 text-xs\",title:wsError,children:\"\\u26A0\\uFE0F\"})]})]})]})]})})]});};export default ChatInterface;","map":{"version":3,"names":["React","useState","useNavigate","PaperAirplaneIcon","DocumentPlusIcon","XMarkIcon","ChatBubbleLeftRightIcon","SparklesIcon","StopIcon","useChat","AnimatedChatMessage","ModelSelector","jsx","_jsx","jsxs","_jsxs","ChatInterface","_ref","projectId","projectName","promptCards","navigate","uploadedFile","setUploadedFile","dragOver","setDragOver","messages","inputValue","setInputValue","copiedMessage","isGenerating","canSendMessage","messagesEndRef","inputRef","handleSendMessage","handleStopGeneration","handleKeyPress","handleCopyMessage","handleCopyTitle","wsConnected","wsConnecting","wsError","scrollContainerRef","handleScroll","isUserScrolling","selectedModel","setSelectedModel","handleFileUpload","event","_event$target$files","file","target","files","type","reader","FileReader","onload","e","_e$target","result","readAsText","handleDrop","preventDefault","dataTransfer","length","_e$target2","handleDragOver","handleDragLeave","removeFile","className","children","ref","onScroll","map","message","onCopyMessage","onCopyTitle","id","name","onClick","style","boxShadow","border","minHeight","display","flexDirection","gap","onDrop","onDragOver","onDragLeave","value","onChange","onKeyPress","placeholder","rows","maxHeight","lineHeight","overflowY","whiteSpace","fontSize","fontWeight","color","disabled","width","height","title","trim","console","log","onModelChange"],"sources":["/Users/yeong-gwang/Documents/work/·Ñâ·Ö•·Ñã·ÖÆ·ÜØ·ÑÄ·Öß·Üº·Ñå·Ö¶·Ñâ·Öµ·Ü´·ÑÜ·ÖÆ·Ü´/ai_·Ñå·Ö¶·ÑÜ·Ö©·Ü®·ÑÉ·Ö°·ÜØ·ÑÄ·Öµ(·Ñâ·ÖÆ)_·Ñã·Ö™·Ü´·Ñâ·Ö•·Üº·Ñá·Ö©·Ü´_·Ñâ·Ö≥·Ñê·Ö≥·ÑÖ·Öµ·ÑÜ·Öµ·Üº·ÑÄ·ÖÆ·Ñí·Öß·Ü´ ·Ñá·Ö©·Ü®·Ñâ·Ö°·Ñá·Ö©·Ü´/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  PaperAirplaneIcon,\n  DocumentPlusIcon,\n  XMarkIcon,\n  ChatBubbleLeftRightIcon,\n  SparklesIcon,\n  StopIcon,\n} from \"@heroicons/react/24/outline\";\nimport { useChat } from \"../hooks/useChat\";\nimport AnimatedChatMessage from \"./AnimatedChatMessage\";\nimport ModelSelector from \"./ModelSelector\";\n\nconst ChatInterface = ({ projectId, projectName, promptCards = [] }) => {\n  const navigate = useNavigate();\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [dragOver, setDragOver] = useState(false);\n\n  const {\n    messages,\n    inputValue,\n    setInputValue,\n    copiedMessage,\n    isGenerating,\n    canSendMessage,\n    messagesEndRef,\n    inputRef,\n    handleSendMessage,\n    handleStopGeneration,\n    handleKeyPress,\n    handleCopyMessage,\n    handleCopyTitle,\n    wsConnected,\n    wsConnecting,\n    wsError,\n    // Ïä§ÌÅ¨Î°§ Í¥ÄÎ†® Ï∂îÍ∞Ä\n    scrollContainerRef,\n    handleScroll,\n    isUserScrolling,\n    // Î™®Îç∏ ÏÑ†ÌÉù Í¥ÄÎ†® Ï∂îÍ∞Ä\n    selectedModel,\n    setSelectedModel,\n  } = useChat(projectId, projectName, promptCards);\n\n  const handleFileUpload = (event) => {\n    const file = event.target.files?.[0];\n    if (file && file.type === \"text/plain\") {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setInputValue(e.target?.result || \"\");\n        setUploadedFile(file);\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleDrop = (event) => {\n    event.preventDefault();\n    setDragOver(false);\n    const files = event.dataTransfer.files;\n    if (files.length > 0) {\n      const file = files[0];\n      if (file.type === \"text/plain\") {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          setInputValue(e.target?.result || \"\");\n          setUploadedFile(file);\n        };\n        reader.readAsText(file);\n      }\n    }\n  };\n\n  const handleDragOver = (event) => {\n    event.preventDefault();\n    setDragOver(true);\n  };\n\n  const handleDragLeave = () => {\n    setDragOver(false);\n  };\n\n  const removeFile = () => {\n    setUploadedFile(null);\n    setInputValue(\"\");\n  };\n\n  return (\n    <div className=\"flex flex-col h-full bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\n      {/* Î©îÏãúÏßÄ ÏòÅÏó≠ */}\n      <div\n        ref={scrollContainerRef}\n        onScroll={handleScroll}\n        className=\"flex-1 overflow-y-auto px-6 py-6 min-h-0 bg-gray-50 dark:bg-gray-900\"\n      >\n        <div className=\"max-w-4xl mx-auto space-y-6\">\n          {messages.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-24 mt-12\">\n              <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-md p-8 max-w-2xl w-full transition-colors duration-200\">\n                <div className=\"flex justify-center mb-6\">\n                  <div className=\"bg-blue-100 dark:bg-blue-900 p-3 rounded-full\">\n                    <ChatBubbleLeftRightIcon className=\"h-8 w-8 text-blue-600 dark:text-blue-400\" />\n                  </div>\n                </div>\n                <h2 className=\"text-xl font-semibold text-center text-gray-800 dark:text-white mb-4\">\n                  AI Ìó§ÎìúÎùºÏù∏ Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏\n                </h2>\n                <p className=\"text-gray-600 dark:text-gray-300 text-center mb-6\">\n                  Î≥∏Î¨∏ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ AIÍ∞Ä ÏµúÏ†ÅÏùò Ìó§ÎìúÎùºÏù∏ÏùÑ Ï†úÏïàÌï¥ ÎìúÎ¶ΩÎãàÎã§.\n                </p>\n\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-start p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                    <div className=\"mr-3 mt-1\">\n                      <SparklesIcon className=\"h-5 w-5 text-blue-500 dark:text-blue-400\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                        <span className=\"font-medium\">ÏãúÏûëÌïòÎäî Î∞©Î≤ï:</span> ÏïÑÎûò\n                        ÏûÖÎ†•Ï∞ΩÏóê Î≥∏Î¨∏ÏùÑ Î∂ôÏó¨ÎÑ£Í≥† Ï†ÑÏÜ° Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-start p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                    <div className=\"mr-3 mt-1\">\n                      <SparklesIcon className=\"h-5 w-5 text-blue-500 dark:text-blue-400\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                        <span className=\"font-medium\">ÌîÑÎ°¨ÌîÑÌä∏ Ïπ¥Îìú:</span>{\" \"}\n                        Í¥ÄÎ¶¨Ïûê Î™®ÎìúÏóêÏÑú ÌîÑÎ°¨ÌîÑÌä∏ Ïπ¥ÎìúÎ•º ÏûëÏÑ±ÌïòÏó¨ Ï†úÎ™©ÏùÑ\n                        ÏÉùÏÑ±ÌïòÏÑ∏Ïöî\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            messages.map((message) => (\n              <AnimatedChatMessage\n                key={message.id}\n                message={message}\n                onCopyMessage={handleCopyMessage}\n                onCopyTitle={handleCopyTitle}\n                copiedMessage={copiedMessage}\n              />\n            ))\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n      </div>\n\n      {/* ÏûÖÎ†• ÏòÅÏó≠ */}\n      <div className=\"flex-shrink-0 px-6 py-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          {/* ÏóÖÎ°úÎìúÎêú ÌååÏùº ÌëúÏãú */}\n          {uploadedFile && (\n            <div className=\"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <DocumentPlusIcon className=\"h-4 w-4 text-blue-600\" />\n                <span className=\"text-sm text-blue-700\">\n                  {uploadedFile.name}\n                </span>\n              </div>\n              <button\n                onClick={removeFile}\n                className=\"text-blue-600 hover:text-blue-800 p-1\"\n              >\n                <XMarkIcon className=\"h-4 w-4\" />\n              </button>\n            </div>\n          )}\n\n          <div\n            className=\"bg-white dark:bg-gray-800 rounded-[20px] shadow-md p-4 relative transition-colors duration-200\"\n            style={{\n              boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px 0px\",\n              border: \"1px solid rgba(112, 115, 124, 0.08)\",\n              minHeight: \"128px\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              gap: \"24px\",\n            }}\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n            onDragLeave={handleDragLeave}\n          >\n            <div className=\"flex-1 relative\">\n              <textarea\n                ref={inputRef}\n                value={inputValue}\n                onChange={(e) => setInputValue(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder={\n                  isGenerating\n                    ? \"ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§...\"\n                    : \"Í∏∞ÏÇ¨ Î≥∏Î¨∏ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\"\n                }\n                className={`w-full pr-14 pl-2 py-2 border-0 focus:outline-none resize-none transition-colors ${\n                  dragOver\n                    ? \"bg-blue-50 dark:bg-blue-900\"\n                    : isGenerating\n                    ? \"bg-gray-50 dark:bg-gray-700\"\n                    : \"bg-white dark:bg-gray-800 text-gray-900 dark:text-white\"\n                }`}\n                rows={1}\n                style={{\n                  minHeight: \"24px\",\n                  maxHeight: \"150px\",\n                  lineHeight: \"1.4\",\n                  overflowY: \"auto\",\n                  whiteSpace: \"pre-wrap\",\n                  fontSize: \"16px\",\n                  fontWeight: \"400\",\n                  color: isGenerating ? \"#9CA3AF\" : \"#171719\",\n                }}\n                disabled={isGenerating}\n              />\n\n              {/* Ï†ÑÏÜ°/Ï§ëÎã® Î≤ÑÌäº - ÏûÖÎ†•Ï∞Ω ÎÇ¥Î∂ÄÏóê ÏúÑÏπò */}\n              <div className=\"absolute right-3 bottom-3 flex items-center gap-2\">\n                {isGenerating && (\n                  <button\n                    onClick={handleStopGeneration}\n                    className=\"flex-shrink-0 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors flex items-center justify-center\"\n                    style={{ width: \"32px\", height: \"32px\" }}\n                    title=\"ÏÉùÏÑ± Ï§ëÎã®\"\n                  >\n                    <StopIcon className=\"h-4 w-4\" />\n                  </button>\n                )}\n                <button\n                  onClick={handleSendMessage}\n                  disabled={!inputValue.trim() || isGenerating}\n                  className=\"flex-shrink-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center\"\n                  style={{ width: \"32px\", height: \"32px\" }}\n                  title={\n                    isGenerating\n                      ? \"ÏÉùÏÑ± Ï§ë...\"\n                      : wsConnected\n                      ? \"Ïã§ÏãúÍ∞Ñ Ïä§Ìä∏Î¶¨Î∞ç ÏÇ¨Ïö© Í∞ÄÎä•\"\n                      : \"ÏùºÎ∞ò Î™®Îìú (WebSocket Ïó∞Í≤∞ ÏïàÎê®)\"\n                  }\n                >\n                  {isGenerating ? (\n                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n                  ) : (\n                    <PaperAirplaneIcon className=\"h-5 w-5\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-4\">\n                {/* Í∏ÄÏûê Ïàò ÌëúÏãú */}\n                <div className=\"flex items-center gap-2 text-xs text-gray-400 dark:text-gray-500\">\n                  <span>{inputValue.length}Ïûê</span>\n                  {inputValue.length < 50 && <span>üìù 50Ïûê Ïù¥ÏÉÅ Í∂åÏû•</span>}\n                </div>\n                \n                {/* Î™®Îç∏ ÏÑ†ÌÉùÍ∏∞ */}\n                <div className=\"flex items-center gap-2\">\n                  {console.log(\"üîç ChatInterfaceÏóêÏÑú ModelSelector Î†åÎçîÎßÅ ÏãúÎèÑ:\", { selectedModel })}\n                  <ModelSelector\n                    selectedModel={selectedModel}\n                    onModelChange={setSelectedModel}\n                  />\n                </div>\n              </div>\n\n              {/* WebSocket Ïó∞Í≤∞ ÏÉÅÌÉú Î∞è Ïä§ÌÅ¨Î°§ ÏÉÅÌÉú ÌëúÏãú */}\n              <div className=\"flex items-center gap-3 text-xs\">\n                {/* Ïä§ÌÅ¨Î°§ ÏÉÅÌÉú ÌëúÏãú */}\n                {isUserScrolling && (\n                  <div className=\"flex items-center gap-1 text-blue-600 dark:text-blue-400\">\n                    <span>üìú</span>\n                    <span>ÏûêÏú† Ïä§ÌÅ¨Î°§</span>\n                  </div>\n                )}\n\n                {/* WebSocket Ïó∞Í≤∞ ÏÉÅÌÉú */}\n                {wsConnecting ? (\n                  <div className=\"flex items-center gap-1 text-yellow-600 dark:text-yellow-400\">\n                    <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-yellow-600\"></div>\n                    <span>Ïó∞Í≤∞ Ï§ë...</span>\n                  </div>\n                ) : wsConnected ? (\n                  <div className=\"flex items-center gap-1 text-green-600 dark:text-green-400\">\n                    <div className=\"w-2 h-2 bg-green-600 rounded-full\"></div>\n                    <span>Ïã§ÏãúÍ∞Ñ Ïä§Ìä∏Î¶¨Î∞ç</span>\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-1 text-gray-500 dark:text-gray-400\">\n                    <div className=\"w-2 h-2 bg-gray-400 rounded-full\"></div>\n                    <span>ÏùºÎ∞ò Î™®Îìú</span>\n                  </div>\n                )}\n                {wsError && (\n                  <div\n                    className=\"text-red-500 dark:text-red-400 text-xs\"\n                    title={wsError}\n                  >\n                    ‚ö†Ô∏è\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}